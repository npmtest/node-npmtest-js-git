{"/home/travis/build/npmtest/node-npmtest-js-git/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":33}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_js_git */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - init-before","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - init-after","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - init-after","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - init-after","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-js-git/lib.npmtest_js_git.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/lib.npmtest_js_git.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":51}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":57}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_js_git */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - init-before","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_js_git = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_js_git = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-js-git/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":50}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":64},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-js-git && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_js_git */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - init-before","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_js_git","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // init-after","    // run browser js-env code - init-after","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - init-after","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_js_git.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_js_git.rollup.js'] =","            local.assetsDict['/assets.npmtest_js_git.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_js_git.__dirname + '/lib.npmtest_js_git.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/apply-delta.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/apply-delta.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"applyDelta","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}}},"2":{"name":"readLength","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":50,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"3":{"start":{"line":5,"column":0},"end":{"line":61,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":22}},"5":{"start":{"line":8,"column":2},"end":{"line":10,"column":3}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":44}},"7":{"start":{"line":13,"column":2},"end":{"line":13,"column":20}},"8":{"start":{"line":14,"column":2},"end":{"line":14,"column":39}},"9":{"start":{"line":16,"column":2},"end":{"line":41,"column":3}},"10":{"start":{"line":17,"column":4},"end":{"line":17,"column":36}},"11":{"start":{"line":19,"column":4},"end":{"line":40,"column":49}},"12":{"start":{"line":20,"column":6},"end":{"line":20,"column":21}},"13":{"start":{"line":21,"column":6},"end":{"line":21,"column":21}},"14":{"start":{"line":22,"column":6},"end":{"line":22,"column":59}},"15":{"start":{"line":22,"column":23},"end":{"line":22,"column":59}},"16":{"start":{"line":23,"column":6},"end":{"line":23,"column":59}},"17":{"start":{"line":23,"column":23},"end":{"line":23,"column":59}},"18":{"start":{"line":24,"column":6},"end":{"line":24,"column":60}},"19":{"start":{"line":24,"column":23},"end":{"line":24,"column":60}},"20":{"start":{"line":25,"column":6},"end":{"line":25,"column":60}},"21":{"start":{"line":25,"column":23},"end":{"line":25,"column":60}},"22":{"start":{"line":26,"column":6},"end":{"line":26,"column":59}},"23":{"start":{"line":26,"column":23},"end":{"line":26,"column":59}},"24":{"start":{"line":27,"column":6},"end":{"line":27,"column":59}},"25":{"start":{"line":27,"column":23},"end":{"line":27,"column":59}},"26":{"start":{"line":28,"column":6},"end":{"line":28,"column":60}},"27":{"start":{"line":28,"column":23},"end":{"line":28,"column":60}},"28":{"start":{"line":29,"column":6},"end":{"line":29,"column":41}},"29":{"start":{"line":29,"column":24},"end":{"line":29,"column":41}},"30":{"start":{"line":31,"column":6},"end":{"line":31,"column":77}},"31":{"start":{"line":32,"column":6},"end":{"line":32,"column":26}},"32":{"start":{"line":35,"column":9},"end":{"line":40,"column":49}},"33":{"start":{"line":36,"column":6},"end":{"line":36,"column":86}},"34":{"start":{"line":37,"column":6},"end":{"line":37,"column":26}},"35":{"start":{"line":38,"column":6},"end":{"line":38,"column":24}},"36":{"start":{"line":40,"column":9},"end":{"line":40,"column":49}},"37":{"start":{"line":43,"column":2},"end":{"line":45,"column":3}},"38":{"start":{"line":44,"column":4},"end":{"line":44,"column":46}},"39":{"start":{"line":47,"column":2},"end":{"line":47,"column":13}},"40":{"start":{"line":50,"column":2},"end":{"line":60,"column":3}},"41":{"start":{"line":51,"column":4},"end":{"line":51,"column":36}},"42":{"start":{"line":52,"column":4},"end":{"line":52,"column":29}},"43":{"start":{"line":53,"column":4},"end":{"line":53,"column":18}},"44":{"start":{"line":54,"column":4},"end":{"line":58,"column":5}},"45":{"start":{"line":55,"column":6},"end":{"line":55,"column":34}},"46":{"start":{"line":56,"column":6},"end":{"line":56,"column":39}},"47":{"start":{"line":57,"column":6},"end":{"line":57,"column":17}},"48":{"start":{"line":59,"column":4},"end":{"line":59,"column":18}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":4}},{"start":{"line":19,"column":4},"end":{"line":19,"column":4}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":6},"end":{"line":22,"column":6}},{"start":{"line":22,"column":6},"end":{"line":22,"column":6}}]},"4":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":6}},{"start":{"line":23,"column":6},"end":{"line":23,"column":6}}]},"5":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":6},"end":{"line":24,"column":6}},{"start":{"line":24,"column":6},"end":{"line":24,"column":6}}]},"6":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":6},"end":{"line":25,"column":6}},{"start":{"line":25,"column":6},"end":{"line":25,"column":6}}]},"7":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":6},"end":{"line":26,"column":6}},{"start":{"line":26,"column":6},"end":{"line":26,"column":6}}]},"8":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":6},"end":{"line":27,"column":6}},{"start":{"line":27,"column":6},"end":{"line":27,"column":6}}]},"9":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":6},"end":{"line":28,"column":6}},{"start":{"line":28,"column":6},"end":{"line":28,"column":6}}]},"10":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":6},"end":{"line":29,"column":6}},{"start":{"line":29,"column":6},"end":{"line":29,"column":6}}]},"11":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":9},"end":{"line":35,"column":9}},{"start":{"line":35,"column":9},"end":{"line":35,"column":9}}]},"12":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":2},"end":{"line":43,"column":2}},{"start":{"line":43,"column":2},"end":{"line":43,"column":2}}]}},"code":["var bodec = require('bodec');","","module.exports = applyDelta;","","function applyDelta(delta, base) {","  var deltaOffset = 0;","","  if (base.length !== readLength()) {","    throw new Error(\"Base length mismatch\");","  }","","  // Create a new output buffer with length from header.","  var outOffset = 0;","  var out = bodec.create(readLength());","","  while (deltaOffset < delta.length) {","    var byte = delta[deltaOffset++];","    // Copy command.  Tells us offset in base and length to copy.","    if (byte & 0x80) {","      var offset = 0;","      var length = 0;","      if (byte & 0x01) offset |= delta[deltaOffset++] << 0;","      if (byte & 0x02) offset |= delta[deltaOffset++] << 8;","      if (byte & 0x04) offset |= delta[deltaOffset++] << 16;","      if (byte & 0x08) offset |= delta[deltaOffset++] << 24;","      if (byte & 0x10) length |= delta[deltaOffset++] << 0;","      if (byte & 0x20) length |= delta[deltaOffset++] << 8;","      if (byte & 0x40) length |= delta[deltaOffset++] << 16;","      if (length === 0) length = 0x10000;","      // copy the data","      bodec.copy(bodec.slice(base, offset, offset + length), out, outOffset);","      outOffset += length;","    }","    // Insert command, opcode byte is length itself","    else if (byte) {","      bodec.copy(bodec.slice(delta, deltaOffset, deltaOffset + byte), out, outOffset);","      deltaOffset += byte;","      outOffset += byte;","    }","    else throw new Error('Invalid delta opcode');","  }","","  if (outOffset !== out.length) {","    throw new Error(\"Size mismatch in check\");","  }","","  return out;","","  // Read a variable length number our of delta and move the offset.","  function readLength() {","    var byte = delta[deltaOffset++];","    var length = byte & 0x7f;","    var shift = 7;","    while (byte & 0x80) {","      byte = delta[deltaOffset++];","      length |= (byte & 0x7f) << shift;","      shift += 7;","    }","    return length;","  }","}",""],"l":{"1":1,"3":1,"5":1,"6":0,"8":0,"9":0,"13":0,"14":0,"16":0,"17":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"31":0,"32":0,"35":0,"36":0,"37":0,"38":0,"40":0,"43":0,"44":0,"47":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"59":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/config-codec.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/config-codec.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"encode","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":24}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":30},"end":{"line":12,"column":46}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":29},"end":{"line":17,"column":44}}},"4":{"name":"(anonymous_4)","line":31,"loc":{"start":{"line":31,"column":30},"end":{"line":31,"column":45}}},"5":{"name":"encodeBody","line":39,"loc":{"start":{"line":39,"column":2},"end":{"line":39,"column":35}}},"6":{"name":"(anonymous_6)","line":41,"loc":{"start":{"line":41,"column":29},"end":{"line":41,"column":45}}},"7":{"name":"decode","line":49,"loc":{"start":{"line":49,"column":0},"end":{"line":49,"column":22}}},"8":{"name":"(anonymous_8)","line":52,"loc":{"start":{"line":52,"column":32},"end":{"line":52,"column":48}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":8,"column":2}},"2":{"start":{"line":10,"column":0},"end":{"line":46,"column":1}},"3":{"start":{"line":11,"column":2},"end":{"line":11,"column":17}},"4":{"start":{"line":12,"column":2},"end":{"line":35,"column":5}},"5":{"start":{"line":13,"column":4},"end":{"line":13,"column":27}},"6":{"start":{"line":14,"column":4},"end":{"line":14,"column":18}},"7":{"start":{"line":15,"column":4},"end":{"line":15,"column":20}},"8":{"start":{"line":16,"column":4},"end":{"line":16,"column":26}},"9":{"start":{"line":17,"column":4},"end":{"line":26,"column":7}},"10":{"start":{"line":18,"column":6},"end":{"line":18,"column":27}},"11":{"start":{"line":19,"column":6},"end":{"line":25,"column":7}},"12":{"start":{"line":20,"column":8},"end":{"line":20,"column":26}},"13":{"start":{"line":23,"column":8},"end":{"line":23,"column":25}},"14":{"start":{"line":24,"column":8},"end":{"line":24,"column":28}},"15":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"16":{"start":{"line":28,"column":6},"end":{"line":28,"column":43}},"17":{"start":{"line":31,"column":4},"end":{"line":34,"column":7}},"18":{"start":{"line":32,"column":6},"end":{"line":32,"column":28}},"19":{"start":{"line":33,"column":6},"end":{"line":33,"column":56}},"20":{"start":{"line":37,"column":2},"end":{"line":37,"column":33}},"21":{"start":{"line":39,"column":2},"end":{"line":44,"column":3}},"22":{"start":{"line":40,"column":4},"end":{"line":40,"column":23}},"23":{"start":{"line":41,"column":4},"end":{"line":43,"column":7}},"24":{"start":{"line":42,"column":6},"end":{"line":42,"column":51}},"25":{"start":{"line":49,"column":0},"end":{"line":67,"column":1}},"26":{"start":{"line":50,"column":2},"end":{"line":50,"column":18}},"27":{"start":{"line":51,"column":2},"end":{"line":51,"column":14}},"28":{"start":{"line":52,"column":2},"end":{"line":65,"column":5}},"29":{"start":{"line":53,"column":4},"end":{"line":53,"column":63}},"30":{"start":{"line":54,"column":4},"end":{"line":60,"column":5}},"31":{"start":{"line":55,"column":6},"end":{"line":55,"column":60}},"32":{"start":{"line":56,"column":6},"end":{"line":58,"column":7}},"33":{"start":{"line":57,"column":8},"end":{"line":57,"column":41}},"34":{"start":{"line":59,"column":6},"end":{"line":59,"column":13}},"35":{"start":{"line":61,"column":4},"end":{"line":61,"column":54}},"36":{"start":{"line":62,"column":4},"end":{"line":64,"column":5}},"37":{"start":{"line":63,"column":6},"end":{"line":63,"column":35}},"38":{"start":{"line":66,"column":2},"end":{"line":66,"column":16}}},"branchMap":{"1":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":6}},{"start":{"line":19,"column":6},"end":{"line":19,"column":6}}]},"2":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":4}},{"start":{"line":27,"column":4},"end":{"line":27,"column":4}}]},"3":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":54,"column":4}},{"start":{"line":54,"column":4},"end":{"line":54,"column":4}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":32}},{"start":{"line":55,"column":37},"end":{"line":55,"column":58}}]},"5":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":6},"end":{"line":56,"column":6}},{"start":{"line":56,"column":6},"end":{"line":56,"column":6}}]},"6":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":4},"end":{"line":62,"column":4}},{"start":{"line":62,"column":4},"end":{"line":62,"column":4}}]}},"code":["\"use strict\";","","// This is for working with git config files like .git/config and .gitmodules.","// I believe this is just INI format.","module.exports = {","  encode: encode,","  decode: decode","};","","function encode(config) {","  var lines = [];","  Object.keys(config).forEach(function (name) {","    var obj = config[name];","    var deep = {};","    var values = {};","    var hasValues = false;","    Object.keys(obj).forEach(function (key) {","      var value = obj[key];","      if (typeof value === 'object') {","        deep[key] = value;","      }","      else {","        hasValues = true;","        values[key] = value;","      }","    });","    if (hasValues) {","      encodeBody('[' + name + ']', values);","    }","","    Object.keys(deep).forEach(function (sub) {","      var child = deep[sub];","      encodeBody('[' + name + ' \"' + sub + '\"]', child);","    });","  });","","  return lines.join(\"\\n\") + \"\\n\";","","  function encodeBody(header, obj) {","    lines.push(header);","    Object.keys(obj).forEach(function (name) {","      lines.push( \"\\t\" + name + \" = \" + obj[name]);","    });","  }","","}","","","function decode(text) {","  var config = {};","  var section;","  text.split(/[\\r\\n]+/).forEach(function (line) {","    var match = line.match(/\\[([^ \\t\"\\]]+) *(?:\"([^\"]+)\")?\\]/);","    if (match) {","      section = config[match[1]] || (config[match[1]] = {});","      if (match[2]) {","        section = section[match[2]] = {};","      }","      return;","    }","    match = line.match(/([^ \\t=]+)[ \\t]*=[ \\t]*(.+)/);","    if (match) {","      section[match[1]] = match[2];","    }","  });","  return config;","}",""],"l":{"5":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"23":0,"24":0,"27":0,"28":0,"31":0,"32":0,"33":0,"37":0,"39":1,"40":0,"41":0,"42":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"59":0,"61":0,"62":0,"63":0,"66":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/defer.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/defer.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0},"b":{"1":[1,0],"2":[1,1],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":19,"loc":{"start":{"line":19,"column":19},"end":{"line":19,"column":33}}},"2":{"name":"handleMessage","line":25,"loc":{"start":{"line":25,"column":0},"end":{"line":25,"column":30}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"2":{"start":{"line":6,"column":0},"end":{"line":23,"column":1}},"3":{"start":{"line":7,"column":2},"end":{"line":7,"column":36}},"4":{"start":{"line":10,"column":5},"end":{"line":23,"column":1}},"5":{"start":{"line":11,"column":2},"end":{"line":11,"column":32}},"6":{"start":{"line":15,"column":2},"end":{"line":15,"column":16}},"7":{"start":{"line":16,"column":2},"end":{"line":16,"column":39}},"8":{"start":{"line":17,"column":2},"end":{"line":17,"column":58}},"9":{"start":{"line":19,"column":2},"end":{"line":22,"column":4}},"10":{"start":{"line":20,"column":4},"end":{"line":20,"column":22}},"11":{"start":{"line":21,"column":4},"end":{"line":21,"column":41}},"12":{"start":{"line":25,"column":0},"end":{"line":33,"column":1}},"13":{"start":{"line":26,"column":2},"end":{"line":32,"column":3}},"14":{"start":{"line":27,"column":4},"end":{"line":27,"column":28}},"15":{"start":{"line":28,"column":4},"end":{"line":31,"column":5}},"16":{"start":{"line":29,"column":6},"end":{"line":29,"column":32}},"17":{"start":{"line":30,"column":6},"end":{"line":30,"column":11}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":0},"end":{"line":6,"column":0}},{"start":{"line":6,"column":0},"end":{"line":6,"column":0}}]},"2":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":31}},{"start":{"line":6,"column":35},"end":{"line":6,"column":73}}]},"3":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":5},"end":{"line":10,"column":5}},{"start":{"line":10,"column":5},"end":{"line":10,"column":5}}]},"4":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":2},"end":{"line":26,"column":2}},{"start":{"line":26,"column":2},"end":{"line":26,"column":2}}]},"5":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":6},"end":{"line":26,"column":28}},{"start":{"line":26,"column":32},"end":{"line":26,"column":57}}]},"6":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":4}},{"start":{"line":28,"column":4},"end":{"line":28,"column":4}}]}},"code":["\"use strict\";","","var timeouts, messageName;","","// node.js","if (typeof process === \"object\" && typeof process.nextTick === \"function\") {","  module.exports = process.nextTick;","}","// some browsers","else if (typeof setImmediate === \"function\") {","  module.exports = setImmediate;","}","// most other browsers","else {","  timeouts = [];","  messageName = \"zero-timeout-message\";","  window.addEventListener(\"message\", handleMessage, true);","","  module.exports = function (fn) {","    timeouts.push(fn);","    window.postMessage(messageName, \"*\");","  };","}","","function handleMessage(event) {","  if (event.source == window && event.data == messageName) {","    event.stopPropagation();","    if (timeouts.length > 0) {","      var fn = timeouts.shift();","      fn();","    }","  }","}",""],"l":{"3":1,"6":1,"7":1,"10":0,"11":0,"15":0,"16":0,"17":0,"19":0,"20":0,"21":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/deflate.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/deflate.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0},"b":{"1":[0,1]},"f":{"1":0},"fnMap":{"1":{"name":"deflate","line":7,"loc":{"start":{"line":7,"column":19},"end":{"line":7,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":32}},"5":{"start":{"line":7,"column":2},"end":{"line":9,"column":4}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":59}}},"branchMap":{"1":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":0},"end":{"line":3,"column":0}},{"start":{"line":3,"column":0},"end":{"line":3,"column":0}}]}},"code":["var pako = require('pako');","var Binary = require('bodec').Binary;","if (Binary === Uint8Array) {","  module.exports = pako.deflate;","}","else {","  module.exports = function deflate(value) {","    return new Binary(pako.deflate(new Uint8Array(value)));","  };","}",""],"l":{"1":1,"2":1,"3":1,"4":0,"7":1,"8":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/find-common.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/find-common.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"oneCall","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}}},"2":{"name":"(anonymous_2)","line":3,"loc":{"start":{"line":3,"column":9},"end":{"line":3,"column":21}}},"3":{"name":"findCommon","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":42}}},"4":{"name":"onAStream","line":22,"loc":{"start":{"line":22,"column":2},"end":{"line":22,"column":34}}},"5":{"name":"onBStream","line":28,"loc":{"start":{"line":28,"column":2},"end":{"line":28,"column":34}}},"6":{"name":"onA","line":34,"loc":{"start":{"line":34,"column":2},"end":{"line":34,"column":28}}},"7":{"name":"onB","line":40,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":28}}},"8":{"name":"compare","line":46,"loc":{"start":{"line":46,"column":2},"end":{"line":46,"column":21}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":19}},"3":{"start":{"line":3,"column":2},"end":{"line":7,"column":4}},"4":{"start":{"line":4,"column":4},"end":{"line":4,"column":21}},"5":{"start":{"line":4,"column":14},"end":{"line":4,"column":21}},"6":{"start":{"line":5,"column":4},"end":{"line":5,"column":16}},"7":{"start":{"line":6,"column":4},"end":{"line":6,"column":37}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":28}},"9":{"start":{"line":12,"column":0},"end":{"line":58,"column":1}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":31}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":28}},"12":{"start":{"line":15,"column":2},"end":{"line":15,"column":23}},"13":{"start":{"line":16,"column":2},"end":{"line":16,"column":23}},"14":{"start":{"line":18,"column":2},"end":{"line":18,"column":52}},"15":{"start":{"line":18,"column":15},"end":{"line":18,"column":52}},"16":{"start":{"line":19,"column":2},"end":{"line":19,"column":29}},"17":{"start":{"line":20,"column":2},"end":{"line":20,"column":29}},"18":{"start":{"line":22,"column":2},"end":{"line":26,"column":3}},"19":{"start":{"line":23,"column":4},"end":{"line":23,"column":34}},"20":{"start":{"line":23,"column":13},"end":{"line":23,"column":34}},"21":{"start":{"line":24,"column":4},"end":{"line":24,"column":21}},"22":{"start":{"line":25,"column":4},"end":{"line":25,"column":22}},"23":{"start":{"line":28,"column":2},"end":{"line":32,"column":3}},"24":{"start":{"line":29,"column":4},"end":{"line":29,"column":34}},"25":{"start":{"line":29,"column":13},"end":{"line":29,"column":34}},"26":{"start":{"line":30,"column":4},"end":{"line":30,"column":21}},"27":{"start":{"line":31,"column":4},"end":{"line":31,"column":22}},"28":{"start":{"line":34,"column":2},"end":{"line":38,"column":3}},"29":{"start":{"line":35,"column":4},"end":{"line":35,"column":71}},"30":{"start":{"line":35,"column":17},"end":{"line":35,"column":71}},"31":{"start":{"line":36,"column":4},"end":{"line":36,"column":21}},"32":{"start":{"line":37,"column":4},"end":{"line":37,"column":27}},"33":{"start":{"line":37,"column":17},"end":{"line":37,"column":27}},"34":{"start":{"line":40,"column":2},"end":{"line":44,"column":3}},"35":{"start":{"line":41,"column":4},"end":{"line":41,"column":71}},"36":{"start":{"line":41,"column":17},"end":{"line":41,"column":71}},"37":{"start":{"line":42,"column":4},"end":{"line":42,"column":21}},"38":{"start":{"line":43,"column":4},"end":{"line":43,"column":27}},"39":{"start":{"line":43,"column":17},"end":{"line":43,"column":27}},"40":{"start":{"line":46,"column":2},"end":{"line":56,"column":3}},"41":{"start":{"line":47,"column":4},"end":{"line":47,"column":76}},"42":{"start":{"line":47,"column":39},"end":{"line":47,"column":76}},"43":{"start":{"line":48,"column":4},"end":{"line":55,"column":5}},"44":{"start":{"line":49,"column":6},"end":{"line":49,"column":14}},"45":{"start":{"line":50,"column":6},"end":{"line":50,"column":24}},"46":{"start":{"line":53,"column":6},"end":{"line":53,"column":15}},"47":{"start":{"line":54,"column":6},"end":{"line":54,"column":24}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":4,"column":4}},{"start":{"line":4,"column":4},"end":{"line":4,"column":4}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":2},"end":{"line":18,"column":2}},{"start":{"line":18,"column":2},"end":{"line":18,"column":2}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":23,"column":4}},{"start":{"line":23,"column":4},"end":{"line":23,"column":4}}]},"4":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":4}},{"start":{"line":29,"column":4},"end":{"line":29,"column":4}}]},"5":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":4}},{"start":{"line":35,"column":4},"end":{"line":35,"column":4}}]},"6":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":33},"end":{"line":35,"column":36}},{"start":{"line":35,"column":40},"end":{"line":35,"column":69}}]},"7":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":4}},{"start":{"line":37,"column":4},"end":{"line":37,"column":4}}]},"8":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":41,"column":4}},{"start":{"line":41,"column":4},"end":{"line":41,"column":4}}]},"9":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":33},"end":{"line":41,"column":36}},{"start":{"line":41,"column":40},"end":{"line":41,"column":69}}]},"10":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":4},"end":{"line":43,"column":4}},{"start":{"line":43,"column":4},"end":{"line":43,"column":4}}]},"11":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":47,"column":4}},{"start":{"line":47,"column":4},"end":{"line":47,"column":4}}]},"12":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":4},"end":{"line":48,"column":4}},{"start":{"line":48,"column":4},"end":{"line":48,"column":4}}]}},"code":["function oneCall(fn) {","  var done = false;","  return function () {","    if (done) return;","    done = true;","    return fn.apply(this, arguments);","  };","}","","module.exports = findCommon;","","function findCommon(repo, a, b, callback) {","  callback = oneCall(callback);","  var ahead = 0, behind = 0;","  var aStream, bStream;","  var aCommit, bCommit;","","  if (a === b) return callback(null, ahead, behind);","  repo.logWalk(a, onAStream);","  repo.logWalk(b, onBStream);","","  function onAStream(err, stream) {","    if (err) return callback(err);","    aStream = stream;","    aStream.read(onA);","  }","","  function onBStream(err, stream) {","    if (err) return callback(err);","    bStream = stream;","    bStream.read(onB);","  }","","  function onA(err, commit) {","    if (!commit) return callback(err || new Error(\"No common commit\"));","    aCommit = commit;","    if (bCommit) compare();","  }","","  function onB(err, commit) {","    if (!commit) return callback(err || new Error(\"No common commit\"));","    bCommit = commit;","    if (aCommit) compare();","  }","","  function compare() {","    if (aCommit.hash === bCommit.hash) return callback(null, ahead, behind);","    if (aCommit.author.date.seconds > bCommit.author.date.seconds) {","      ahead++;","      aStream.read(onA);","    }","    else {","      behind++;","      bStream.read(onB);","    }","  }","","}",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"10":1,"12":1,"13":0,"14":0,"15":0,"16":0,"18":0,"19":0,"20":0,"22":1,"23":0,"24":0,"25":0,"28":1,"29":0,"30":0,"31":0,"34":1,"35":0,"36":0,"37":0,"40":1,"41":0,"42":0,"43":0,"46":1,"47":0,"48":0,"49":0,"50":0,"53":0,"54":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/inflate.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/inflate.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0},"b":{"1":[0,1]},"f":{"1":0},"fnMap":{"1":{"name":"inflate","line":7,"loc":{"start":{"line":7,"column":19},"end":{"line":7,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":32}},"5":{"start":{"line":7,"column":2},"end":{"line":9,"column":4}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":59}}},"branchMap":{"1":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":0},"end":{"line":3,"column":0}},{"start":{"line":3,"column":0},"end":{"line":3,"column":0}}]}},"code":["var pako = require('pako');","var Binary = require('bodec').Binary;","if (Binary === Uint8Array) {","  module.exports = pako.inflate;","}","else {","  module.exports = function inflate(value) {","    return new Binary(pako.inflate(new Uint8Array(value)));","  };","}",""],"l":{"1":1,"2":1,"3":1,"4":0,"7":1,"8":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/inflate-stream.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/inflate-stream.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":1,"13":0,"14":1,"15":0,"16":1,"17":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"inflateStream","line":12,"loc":{"start":{"line":12,"column":17},"end":{"line":12,"column":42}}},"2":{"name":"write","line":23,"loc":{"start":{"line":23,"column":2},"end":{"line":23,"column":23}}},"3":{"name":"recycle","line":29,"loc":{"start":{"line":29,"column":2},"end":{"line":29,"column":21}}},"4":{"name":"flush","line":31,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":19}}},"5":{"name":"flushConvert","line":33,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":12,"column":0},"end":{"line":36,"column":2}},"4":{"start":{"line":13,"column":2},"end":{"line":13,"column":26}},"5":{"start":{"line":14,"column":2},"end":{"line":14,"column":28}},"6":{"start":{"line":15,"column":2},"end":{"line":15,"column":28}},"7":{"start":{"line":17,"column":2},"end":{"line":21,"column":4}},"8":{"start":{"line":23,"column":2},"end":{"line":27,"column":3}},"9":{"start":{"line":24,"column":4},"end":{"line":24,"column":16}},"10":{"start":{"line":25,"column":4},"end":{"line":25,"column":16}},"11":{"start":{"line":26,"column":4},"end":{"line":26,"column":22}},"12":{"start":{"line":29,"column":2},"end":{"line":29,"column":45}},"13":{"start":{"line":29,"column":23},"end":{"line":29,"column":43}},"14":{"start":{"line":31,"column":2},"end":{"line":31,"column":50}},"15":{"start":{"line":31,"column":21},"end":{"line":31,"column":48}},"16":{"start":{"line":33,"column":2},"end":{"line":35,"column":3}},"17":{"start":{"line":34,"column":4},"end":{"line":34,"column":55}}},"branchMap":{"1":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":35},"end":{"line":20,"column":40}},{"start":{"line":20,"column":43},"end":{"line":20,"column":55}}]},"2":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":28},"end":{"line":31,"column":38}},{"start":{"line":31,"column":42},"end":{"line":31,"column":47}}]},"3":{"line":34,"type":"cond-expr","locations":[{"start":{"line":34,"column":24},"end":{"line":34,"column":46}},{"start":{"line":34,"column":49},"end":{"line":34,"column":54}}]}},"code":["var Inflate = require('pako').Inflate;","var Binary = require('bodec').Binary;","","// Byte oriented inflate stream.  Wrapper for pako's Inflate.","//","//   var inf = inflate();","//   inf.write(byte) -> more - Write a byte to inflate's state-machine.","//                             Returns true if more data is expected.","//   inf.recycle()           - Reset the internal state machine.","//   inf.flush() -> data     - Flush the output as a binary buffer.","//","module.exports = function inflateStream() {","  var inf = new Inflate();","  var b = new Uint8Array(1);","  var empty = new Binary(0);","","  return {","    write: write,","    recycle: recycle,","    flush: Binary === Uint8Array ? flush : flushConvert","  };","","  function write(byte) {","    b[0] = byte;","    inf.push(b);","    return !inf.ended;","  }","","  function recycle() { inf = new Inflate(); }","","  function flush() { return inf.result || empty; }","","  function flushConvert() {","    return inf.result ? new Binary(inf.result) : empty;","  }","};",""],"l":{"1":1,"2":1,"12":1,"13":0,"14":0,"15":0,"17":0,"23":1,"24":0,"25":0,"26":0,"29":1,"31":1,"33":1,"34":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/modes.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/modes.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":10},"end":{"line":10,"column":26}}},"2":{"name":"(anonymous_2)","line":13,"loc":{"start":{"line":13,"column":10},"end":{"line":13,"column":26}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":10},"end":{"line":16,"column":26}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":9,"column":0},"end":{"line":28,"column":2}},"3":{"start":{"line":11,"column":4},"end":{"line":11,"column":46}},"4":{"start":{"line":14,"column":4},"end":{"line":14,"column":46}},"5":{"start":{"line":17,"column":4},"end":{"line":17,"column":47}},"6":{"start":{"line":17,"column":31},"end":{"line":17,"column":47}},"7":{"start":{"line":18,"column":4},"end":{"line":18,"column":43}},"8":{"start":{"line":18,"column":29},"end":{"line":18,"column":43}},"9":{"start":{"line":19,"column":4},"end":{"line":19,"column":58}},"10":{"start":{"line":19,"column":44},"end":{"line":19,"column":58}},"11":{"start":{"line":20,"column":4},"end":{"line":20,"column":21}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":4}},{"start":{"line":18,"column":4},"end":{"line":18,"column":4}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":4}},{"start":{"line":19,"column":4},"end":{"line":19,"column":4}}]}},"code":["\"use strict\";","","var masks = {","  mask:   parseInt('100000', 8),","  blob:   parseInt('140000', 8),","  file:   parseInt('160000', 8)","};","","var modes = module.exports = {","  isBlob: function (mode) {","    return (mode & masks.blob) === masks.mask;","  },","  isFile: function (mode) {","    return (mode & masks.file) === masks.mask;","  },","  toType: function (mode) {","    if (mode === modes.commit) return \"commit\";","    if (mode === modes.tree) return \"tree\";","    if ((mode & masks.blob) === masks.mask) return \"blob\";","    return \"unknown\";","  },","  tree:   parseInt( '40000', 8),","  blob:   parseInt('100644', 8),","  file:   parseInt('100644', 8),","  exec:   parseInt('100755', 8),","  sym:    parseInt('120000', 8),","  commit: parseInt('160000', 8)","};",""],"l":{"3":1,"9":1,"11":0,"14":0,"17":0,"18":0,"19":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/object-codec.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/object-codec.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":1,"41":0,"42":1,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":1,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":1,"133":0,"134":0,"135":0,"136":0,"137":1,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":1,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":1,"159":0,"160":0,"161":0,"162":0,"163":1,"164":0,"165":0,"166":0,"167":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"encodeBlob","line":31,"loc":{"start":{"line":31,"column":0},"end":{"line":31,"column":26}}},"2":{"name":"treeMap","line":36,"loc":{"start":{"line":36,"column":0},"end":{"line":36,"column":22}}},"3":{"name":"treeSort","line":46,"loc":{"start":{"line":46,"column":0},"end":{"line":46,"column":24}}},"4":{"name":"encodeTree","line":52,"loc":{"start":{"line":52,"column":0},"end":{"line":52,"column":26}}},"5":{"name":"encodeTag","line":64,"loc":{"start":{"line":64,"column":0},"end":{"line":64,"column":25}}},"6":{"name":"encodeCommit","line":73,"loc":{"start":{"line":73,"column":0},"end":{"line":73,"column":28}}},"7":{"name":"formatPerson","line":85,"loc":{"start":{"line":85,"column":0},"end":{"line":85,"column":30}}},"8":{"name":"safe","line":91,"loc":{"start":{"line":91,"column":0},"end":{"line":91,"column":22}}},"9":{"name":"two","line":95,"loc":{"start":{"line":95,"column":0},"end":{"line":95,"column":18}}},"10":{"name":"formatDate","line":99,"loc":{"start":{"line":99,"column":0},"end":{"line":99,"column":26}}},"11":{"name":"frame","line":117,"loc":{"start":{"line":117,"column":0},"end":{"line":117,"column":20}}},"12":{"name":"decodeBlob","line":127,"loc":{"start":{"line":127,"column":0},"end":{"line":127,"column":26}}},"13":{"name":"decodeTree","line":131,"loc":{"start":{"line":131,"column":0},"end":{"line":131,"column":26}}},"14":{"name":"decodeCommit","line":156,"loc":{"start":{"line":156,"column":0},"end":{"line":156,"column":28}}},"15":{"name":"decodeTag","line":192,"loc":{"start":{"line":192,"column":0},"end":{"line":192,"column":25}}},"16":{"name":"decodePerson","line":214,"loc":{"start":{"line":214,"column":0},"end":{"line":214,"column":30}}},"17":{"name":"deframe","line":227,"loc":{"start":{"line":227,"column":0},"end":{"line":227,"column":33}}},"18":{"name":"indexOf","line":242,"loc":{"start":{"line":242,"column":0},"end":{"line":242,"column":34}}},"19":{"name":"parseOct","line":251,"loc":{"start":{"line":251,"column":0},"end":{"line":251,"column":38}}},"20":{"name":"parseDec","line":259,"loc":{"start":{"line":259,"column":0},"end":{"line":259,"column":38}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":6,"column":0},"end":{"line":11,"column":2}},"4":{"start":{"line":14,"column":0},"end":{"line":14,"column":22}},"5":{"start":{"line":17,"column":0},"end":{"line":22,"column":2}},"6":{"start":{"line":25,"column":0},"end":{"line":25,"column":26}},"7":{"start":{"line":28,"column":0},"end":{"line":28,"column":26}},"8":{"start":{"line":29,"column":0},"end":{"line":29,"column":28}},"9":{"start":{"line":31,"column":0},"end":{"line":34,"column":1}},"10":{"start":{"line":32,"column":2},"end":{"line":32,"column":80}},"11":{"start":{"line":32,"column":29},"end":{"line":32,"column":80}},"12":{"start":{"line":33,"column":2},"end":{"line":33,"column":14}},"13":{"start":{"line":36,"column":0},"end":{"line":44,"column":1}},"14":{"start":{"line":38,"column":2},"end":{"line":38,"column":24}},"15":{"start":{"line":39,"column":2},"end":{"line":43,"column":4}},"16":{"start":{"line":46,"column":0},"end":{"line":50,"column":1}},"17":{"start":{"line":47,"column":2},"end":{"line":47,"column":59}},"18":{"start":{"line":48,"column":2},"end":{"line":48,"column":59}},"19":{"start":{"line":49,"column":2},"end":{"line":49,"column":40}},"20":{"start":{"line":52,"column":0},"end":{"line":62,"column":1}},"21":{"start":{"line":53,"column":2},"end":{"line":53,"column":16}},"22":{"start":{"line":54,"column":2},"end":{"line":54,"column":78}},"23":{"start":{"line":54,"column":27},"end":{"line":54,"column":78}},"24":{"start":{"line":55,"column":2},"end":{"line":55,"column":65}},"25":{"start":{"line":56,"column":2},"end":{"line":60,"column":3}},"26":{"start":{"line":57,"column":4},"end":{"line":57,"column":24}},"27":{"start":{"line":58,"column":4},"end":{"line":59,"column":47}},"28":{"start":{"line":61,"column":2},"end":{"line":61,"column":29}},"29":{"start":{"line":64,"column":0},"end":{"line":71,"column":1}},"30":{"start":{"line":65,"column":2},"end":{"line":69,"column":26}},"31":{"start":{"line":70,"column":2},"end":{"line":70,"column":32}},"32":{"start":{"line":73,"column":0},"end":{"line":82,"column":1}},"33":{"start":{"line":74,"column":2},"end":{"line":74,"column":32}},"34":{"start":{"line":75,"column":2},"end":{"line":77,"column":3}},"35":{"start":{"line":76,"column":4},"end":{"line":76,"column":41}},"36":{"start":{"line":78,"column":2},"end":{"line":80,"column":31}},"37":{"start":{"line":81,"column":2},"end":{"line":81,"column":32}},"38":{"start":{"line":85,"column":0},"end":{"line":89,"column":1}},"39":{"start":{"line":86,"column":2},"end":{"line":88,"column":28}},"40":{"start":{"line":91,"column":0},"end":{"line":93,"column":1}},"41":{"start":{"line":92,"column":2},"end":{"line":92,"column":75}},"42":{"start":{"line":95,"column":0},"end":{"line":97,"column":1}},"43":{"start":{"line":96,"column":2},"end":{"line":96,"column":37}},"44":{"start":{"line":99,"column":0},"end":{"line":115,"column":1}},"45":{"start":{"line":100,"column":2},"end":{"line":100,"column":22}},"46":{"start":{"line":101,"column":2},"end":{"line":109,"column":3}},"47":{"start":{"line":102,"column":4},"end":{"line":102,"column":27}},"48":{"start":{"line":103,"column":4},"end":{"line":103,"column":25}},"49":{"start":{"line":107,"column":4},"end":{"line":107,"column":48}},"50":{"start":{"line":108,"column":4},"end":{"line":108,"column":38}},"51":{"start":{"line":110,"column":2},"end":{"line":110,"column":16}},"52":{"start":{"line":111,"column":2},"end":{"line":112,"column":17}},"53":{"start":{"line":111,"column":19},"end":{"line":111,"column":36}},"54":{"start":{"line":112,"column":7},"end":{"line":112,"column":17}},"55":{"start":{"line":113,"column":2},"end":{"line":113,"column":65}},"56":{"start":{"line":114,"column":2},"end":{"line":114,"column":32}},"57":{"start":{"line":117,"column":0},"end":{"line":125,"column":1}},"58":{"start":{"line":118,"column":2},"end":{"line":118,"column":22}},"59":{"start":{"line":119,"column":2},"end":{"line":119,"column":22}},"60":{"start":{"line":120,"column":2},"end":{"line":120,"column":57}},"61":{"start":{"line":120,"column":29},"end":{"line":120,"column":57}},"62":{"start":{"line":121,"column":2},"end":{"line":124,"column":5}},"63":{"start":{"line":127,"column":0},"end":{"line":129,"column":1}},"64":{"start":{"line":128,"column":2},"end":{"line":128,"column":14}},"65":{"start":{"line":131,"column":0},"end":{"line":154,"column":1}},"66":{"start":{"line":132,"column":2},"end":{"line":132,"column":12}},"67":{"start":{"line":133,"column":2},"end":{"line":133,"column":27}},"68":{"start":{"line":134,"column":2},"end":{"line":134,"column":12}},"69":{"start":{"line":135,"column":2},"end":{"line":135,"column":11}},"70":{"start":{"line":136,"column":2},"end":{"line":136,"column":11}},"71":{"start":{"line":137,"column":2},"end":{"line":137,"column":11}},"72":{"start":{"line":138,"column":2},"end":{"line":138,"column":16}},"73":{"start":{"line":139,"column":2},"end":{"line":152,"column":3}},"74":{"start":{"line":140,"column":4},"end":{"line":140,"column":14}},"75":{"start":{"line":141,"column":4},"end":{"line":141,"column":35}},"76":{"start":{"line":142,"column":4},"end":{"line":142,"column":54}},"77":{"start":{"line":142,"column":15},"end":{"line":142,"column":54}},"78":{"start":{"line":143,"column":4},"end":{"line":143,"column":38}},"79":{"start":{"line":144,"column":4},"end":{"line":144,"column":14}},"80":{"start":{"line":145,"column":4},"end":{"line":145,"column":35}},"81":{"start":{"line":146,"column":4},"end":{"line":146,"column":45}},"82":{"start":{"line":147,"column":4},"end":{"line":147,"column":41}},"83":{"start":{"line":148,"column":4},"end":{"line":151,"column":6}},"84":{"start":{"line":153,"column":2},"end":{"line":153,"column":14}},"85":{"start":{"line":156,"column":0},"end":{"line":190,"column":1}},"86":{"start":{"line":157,"column":2},"end":{"line":157,"column":12}},"87":{"start":{"line":158,"column":2},"end":{"line":158,"column":12}},"88":{"start":{"line":159,"column":2},"end":{"line":159,"column":10}},"89":{"start":{"line":160,"column":2},"end":{"line":160,"column":19}},"90":{"start":{"line":161,"column":2},"end":{"line":167,"column":4}},"91":{"start":{"line":168,"column":2},"end":{"line":186,"column":3}},"92":{"start":{"line":169,"column":4},"end":{"line":169,"column":14}},"93":{"start":{"line":170,"column":4},"end":{"line":170,"column":35}},"94":{"start":{"line":171,"column":4},"end":{"line":171,"column":54}},"95":{"start":{"line":171,"column":15},"end":{"line":171,"column":54}},"96":{"start":{"line":172,"column":4},"end":{"line":172,"column":40}},"97":{"start":{"line":173,"column":4},"end":{"line":173,"column":14}},"98":{"start":{"line":174,"column":4},"end":{"line":174,"column":35}},"99":{"start":{"line":175,"column":4},"end":{"line":175,"column":57}},"100":{"start":{"line":175,"column":15},"end":{"line":175,"column":57}},"101":{"start":{"line":176,"column":4},"end":{"line":176,"column":50}},"102":{"start":{"line":177,"column":4},"end":{"line":185,"column":5}},"103":{"start":{"line":178,"column":6},"end":{"line":178,"column":26}},"104":{"start":{"line":181,"column":6},"end":{"line":183,"column":7}},"105":{"start":{"line":182,"column":8},"end":{"line":182,"column":36}},"106":{"start":{"line":184,"column":6},"end":{"line":184,"column":26}},"107":{"start":{"line":187,"column":2},"end":{"line":187,"column":6}},"108":{"start":{"line":188,"column":2},"end":{"line":188,"column":57}},"109":{"start":{"line":189,"column":2},"end":{"line":189,"column":16}},"110":{"start":{"line":192,"column":0},"end":{"line":212,"column":1}},"111":{"start":{"line":193,"column":2},"end":{"line":193,"column":12}},"112":{"start":{"line":194,"column":2},"end":{"line":194,"column":12}},"113":{"start":{"line":195,"column":2},"end":{"line":195,"column":10}},"114":{"start":{"line":196,"column":2},"end":{"line":196,"column":15}},"115":{"start":{"line":197,"column":2},"end":{"line":208,"column":3}},"116":{"start":{"line":198,"column":4},"end":{"line":198,"column":14}},"117":{"start":{"line":199,"column":4},"end":{"line":199,"column":35}},"118":{"start":{"line":200,"column":4},"end":{"line":200,"column":54}},"119":{"start":{"line":200,"column":15},"end":{"line":200,"column":54}},"120":{"start":{"line":201,"column":4},"end":{"line":201,"column":40}},"121":{"start":{"line":202,"column":4},"end":{"line":202,"column":14}},"122":{"start":{"line":203,"column":4},"end":{"line":203,"column":35}},"123":{"start":{"line":204,"column":4},"end":{"line":204,"column":57}},"124":{"start":{"line":204,"column":15},"end":{"line":204,"column":57}},"125":{"start":{"line":205,"column":4},"end":{"line":205,"column":50}},"126":{"start":{"line":206,"column":4},"end":{"line":206,"column":54}},"127":{"start":{"line":206,"column":26},"end":{"line":206,"column":54}},"128":{"start":{"line":207,"column":4},"end":{"line":207,"column":21}},"129":{"start":{"line":209,"column":2},"end":{"line":209,"column":6}},"130":{"start":{"line":210,"column":2},"end":{"line":210,"column":54}},"131":{"start":{"line":211,"column":2},"end":{"line":211,"column":13}},"132":{"start":{"line":214,"column":0},"end":{"line":225,"column":1}},"133":{"start":{"line":215,"column":2},"end":{"line":215,"column":63}},"134":{"start":{"line":216,"column":2},"end":{"line":216,"column":68}},"135":{"start":{"line":216,"column":14},"end":{"line":216,"column":68}},"136":{"start":{"line":217,"column":2},"end":{"line":224,"column":4}},"137":{"start":{"line":227,"column":0},"end":{"line":240,"column":1}},"138":{"start":{"line":228,"column":2},"end":{"line":228,"column":36}},"139":{"start":{"line":229,"column":2},"end":{"line":229,"column":62}},"140":{"start":{"line":229,"column":17},"end":{"line":229,"column":62}},"141":{"start":{"line":230,"column":2},"end":{"line":230,"column":41}},"142":{"start":{"line":231,"column":2},"end":{"line":231,"column":60}},"143":{"start":{"line":231,"column":15},"end":{"line":231,"column":60}},"144":{"start":{"line":232,"column":2},"end":{"line":232,"column":42}},"145":{"start":{"line":233,"column":2},"end":{"line":233,"column":46}},"146":{"start":{"line":234,"column":2},"end":{"line":234,"column":68}},"147":{"start":{"line":234,"column":28},"end":{"line":234,"column":68}},"148":{"start":{"line":235,"column":2},"end":{"line":235,"column":43}},"149":{"start":{"line":236,"column":2},"end":{"line":239,"column":4}},"150":{"start":{"line":242,"column":0},"end":{"line":249,"column":1}},"151":{"start":{"line":243,"column":2},"end":{"line":243,"column":9}},"152":{"start":{"line":244,"column":2},"end":{"line":244,"column":29}},"153":{"start":{"line":245,"column":2},"end":{"line":248,"column":3}},"154":{"start":{"line":246,"column":4},"end":{"line":246,"column":31}},"155":{"start":{"line":246,"column":21},"end":{"line":246,"column":31}},"156":{"start":{"line":247,"column":4},"end":{"line":247,"column":37}},"157":{"start":{"line":247,"column":28},"end":{"line":247,"column":37}},"158":{"start":{"line":251,"column":0},"end":{"line":257,"column":1}},"159":{"start":{"line":252,"column":2},"end":{"line":252,"column":14}},"160":{"start":{"line":253,"column":2},"end":{"line":255,"column":3}},"161":{"start":{"line":254,"column":4},"end":{"line":254,"column":46}},"162":{"start":{"line":256,"column":2},"end":{"line":256,"column":13}},"163":{"start":{"line":259,"column":0},"end":{"line":265,"column":1}},"164":{"start":{"line":260,"column":2},"end":{"line":260,"column":14}},"165":{"start":{"line":261,"column":2},"end":{"line":263,"column":3}},"166":{"start":{"line":262,"column":4},"end":{"line":262,"column":44}},"167":{"start":{"line":264,"column":2},"end":{"line":264,"column":13}}},"branchMap":{"1":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":2},"end":{"line":32,"column":2}},{"start":{"line":32,"column":2},"end":{"line":32,"column":2}}]},"2":{"line":47,"type":"cond-expr","locations":[{"start":{"line":47,"column":37},"end":{"line":47,"column":49}},{"start":{"line":47,"column":52},"end":{"line":47,"column":58}}]},"3":{"line":48,"type":"cond-expr","locations":[{"start":{"line":48,"column":37},"end":{"line":48,"column":49}},{"start":{"line":48,"column":52},"end":{"line":48,"column":58}}]},"4":{"line":49,"type":"cond-expr","locations":[{"start":{"line":49,"column":19},"end":{"line":49,"column":20}},{"start":{"line":49,"column":23},"end":{"line":49,"column":39}}]},"5":{"line":49,"type":"cond-expr","locations":[{"start":{"line":49,"column":33},"end":{"line":49,"column":35}},{"start":{"line":49,"column":38},"end":{"line":49,"column":39}}]},"6":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":2},"end":{"line":54,"column":2}},{"start":{"line":54,"column":2},"end":{"line":54,"column":2}}]},"7":{"line":96,"type":"cond-expr","locations":[{"start":{"line":96,"column":21},"end":{"line":96,"column":24}},{"start":{"line":96,"column":27},"end":{"line":96,"column":29}}]},"8":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":2},"end":{"line":101,"column":2}},{"start":{"line":101,"column":2},"end":{"line":101,"column":2}}]},"9":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":2},"end":{"line":111,"column":2}},{"start":{"line":111,"column":2},"end":{"line":111,"column":2}}]},"10":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":2},"end":{"line":120,"column":2}},{"start":{"line":120,"column":2},"end":{"line":120,"column":2}}]},"11":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":142,"column":4}},{"start":{"line":142,"column":4},"end":{"line":142,"column":4}}]},"12":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":4},"end":{"line":171,"column":4}},{"start":{"line":171,"column":4},"end":{"line":171,"column":4}}]},"13":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":4},"end":{"line":175,"column":4}},{"start":{"line":175,"column":4},"end":{"line":175,"column":4}}]},"14":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":4},"end":{"line":177,"column":4}},{"start":{"line":177,"column":4},"end":{"line":177,"column":4}}]},"15":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":6},"end":{"line":181,"column":6}},{"start":{"line":181,"column":6},"end":{"line":181,"column":6}}]},"16":{"line":181,"type":"binary-expr","locations":[{"start":{"line":181,"column":10},"end":{"line":181,"column":26}},{"start":{"line":181,"column":30},"end":{"line":181,"column":49}}]},"17":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":4},"end":{"line":200,"column":4}},{"start":{"line":200,"column":4},"end":{"line":200,"column":4}}]},"18":{"line":204,"type":"if","locations":[{"start":{"line":204,"column":4},"end":{"line":204,"column":4}},{"start":{"line":204,"column":4},"end":{"line":204,"column":4}}]},"19":{"line":206,"type":"if","locations":[{"start":{"line":206,"column":4},"end":{"line":206,"column":4}},{"start":{"line":206,"column":4},"end":{"line":206,"column":4}}]},"20":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":2},"end":{"line":216,"column":2}},{"start":{"line":216,"column":2},"end":{"line":216,"column":2}}]},"21":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":2},"end":{"line":229,"column":2}},{"start":{"line":229,"column":2},"end":{"line":229,"column":2}}]},"22":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":2},"end":{"line":231,"column":2}},{"start":{"line":231,"column":2},"end":{"line":231,"column":2}}]},"23":{"line":234,"type":"if","locations":[{"start":{"line":234,"column":2},"end":{"line":234,"column":2}},{"start":{"line":234,"column":2},"end":{"line":234,"column":2}}]},"24":{"line":238,"type":"cond-expr","locations":[{"start":{"line":238,"column":19},"end":{"line":238,"column":39}},{"start":{"line":238,"column":42},"end":{"line":238,"column":46}}]},"25":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":4},"end":{"line":246,"column":4}},{"start":{"line":246,"column":4},"end":{"line":246,"column":4}}]},"26":{"line":247,"type":"if","locations":[{"start":{"line":247,"column":4},"end":{"line":247,"column":4}},{"start":{"line":247,"column":4},"end":{"line":247,"column":4}}]}},"code":["\"use strict\";","var bodec = require('bodec');","var modes = require('./modes');","","// (body) -> raw-buffer","var encoders = exports.encoders = {","  blob: encodeBlob,","  tree: encodeTree,","  commit: encodeCommit,","  tag: encodeTag","};","","  // ({type:type, body:raw-buffer}) -> buffer","exports.frame = frame;","","// (raw-buffer) -> body","var decoders = exports.decoders ={","  blob: decodeBlob,","  tree: decodeTree,","  commit: decodeCommit,","  tag: decodeTag","};","","// (buffer) -> {type:type, body:raw-buffer}","exports.deframe = deframe;","","// Export git style path sort in case it's wanted.","exports.treeMap = treeMap;","exports.treeSort = treeSort;","","function encodeBlob(body) {","  if (!bodec.isBinary(body)) throw new TypeError(\"Blobs must be binary values\");","  return body;","}","","function treeMap(key) {","  /*jshint validthis:true*/","  var entry = this[key];","  return {","    name: key,","    mode: entry.mode,","    hash: entry.hash","  };","}","","function treeSort(a, b) {","  var aa = (a.mode === modes.tree) ? a.name + \"/\" : a.name;","  var bb = (b.mode === modes.tree) ? b.name + \"/\" : b.name;","  return aa > bb ? 1 : aa < bb ? -1 : 0;","}","","function encodeTree(body) {","  var tree = \"\";","  if (Array.isArray(body)) throw new TypeError(\"Tree must be in object form\");","  var list = Object.keys(body).map(treeMap, body).sort(treeSort);","  for (var i = 0, l = list.length; i < l; i++) {","    var entry = list[i];","    tree += entry.mode.toString(8) + \" \" + bodec.encodeUtf8(entry.name) +","            \"\\0\" + bodec.decodeHex(entry.hash);","  }","  return bodec.fromRaw(tree);","}","","function encodeTag(body) {","  var str = \"object \" + body.object +","    \"\\ntype \" + body.type +","    \"\\ntag \" + body.tag +","    \"\\ntagger \" + formatPerson(body.tagger) +","    \"\\n\\n\" + body.message;","  return bodec.fromUnicode(str);","}","","function encodeCommit(body) {","  var str = \"tree \" + body.tree;","  for (var i = 0, l = body.parents.length; i < l; ++i) {","    str += \"\\nparent \" + body.parents[i];","  }","  str += \"\\nauthor \" + formatPerson(body.author) +","         \"\\ncommitter \" + formatPerson(body.committer) +","         \"\\n\\n\" + body.message;","  return bodec.fromUnicode(str);","}","","","function formatPerson(person) {","  return safe(person.name) +","    \" <\" + safe(person.email) + \"> \" +","    formatDate(person.date);","}","","function safe(string) {","  return string.replace(/(?:^[\\.,:;<>\"']+|[\\0\\n<>]+|[\\.,:;<>\"']+$)/gm, \"\");","}","","function two(num) {","  return (num < 10 ? \"0\" : \"\") + num;","}","","function formatDate(date) {","  var seconds, offset;","  if (date.seconds) {","    seconds = date.seconds;","    offset = date.offset;","  }","  // Also accept Date instances","  else {","    seconds = Math.floor(date.getTime() / 1000);","    offset = date.getTimezoneOffset();","  }","  var neg = \"+\";","  if (offset <= 0) offset = -offset;","  else neg = \"-\";","  offset = neg + two(Math.floor(offset / 60)) + two(offset % 60);","  return seconds + \" \" + offset;","}","","function frame(obj) {","  var type = obj.type;","  var body = obj.body;","  if (!bodec.isBinary(body)) body = encoders[type](body);","  return bodec.join([","    bodec.fromRaw(type + \" \" + body.length + \"\\0\"),","    body","  ]);","}","","function decodeBlob(body) {","  return body;","}","","function decodeTree(body) {","  var i = 0;","  var length = body.length;","  var start;","  var mode;","  var name;","  var hash;","  var tree = {};","  while (i < length) {","    start = i;","    i = indexOf(body, 0x20, start);","    if (i < 0) throw new SyntaxError(\"Missing space\");","    mode = parseOct(body, start, i++);","    start = i;","    i = indexOf(body, 0x00, start);","    name = bodec.toUnicode(body, start, i++);","    hash = bodec.toHex(body, i, i += 20);","    tree[name] = {","      mode: mode,","      hash: hash","    };","  }","  return tree;","}","","function decodeCommit(body) {","  var i = 0;","  var start;","  var key;","  var parents = [];","  var commit = {","    tree: \"\",","    parents: parents,","    author: \"\",","    committer: \"\",","    message: \"\"","  };","  while (body[i] !== 0x0a) {","    start = i;","    i = indexOf(body, 0x20, start);","    if (i < 0) throw new SyntaxError(\"Missing space\");","    key = bodec.toRaw(body, start, i++);","    start = i;","    i = indexOf(body, 0x0a, start);","    if (i < 0) throw new SyntaxError(\"Missing linefeed\");","    var value = bodec.toUnicode(body, start, i++);","    if (key === \"parent\") {","      parents.push(value);","    }","    else {","      if (key === \"author\" || key === \"committer\") {","        value = decodePerson(value);","      }","      commit[key] = value;","    }","  }","  i++;","  commit.message = bodec.toUnicode(body, i, body.length);","  return commit;","}","","function decodeTag(body) {","  var i = 0;","  var start;","  var key;","  var tag = {};","  while (body[i] !== 0x0a) {","    start = i;","    i = indexOf(body, 0x20, start);","    if (i < 0) throw new SyntaxError(\"Missing space\");","    key = bodec.toRaw(body, start, i++);","    start = i;","    i = indexOf(body, 0x0a, start);","    if (i < 0) throw new SyntaxError(\"Missing linefeed\");","    var value = bodec.toUnicode(body, start, i++);","    if (key === \"tagger\") value = decodePerson(value);","    tag[key] = value;","  }","  i++;","  tag.message = bodec.toUnicode(body, i, body.length);","  return tag;","}","","function decodePerson(string) {","  var match = string.match(/^([^<]*) <([^>]*)> ([^ ]*) (.*)$/);","  if (!match) throw new Error(\"Improperly formatted person string\");","  return {","    name: match[1],","    email: match[2],","    date: {","      seconds: parseInt(match[3], 10),","      offset: parseInt(match[4], 10) / 100 * -60","    }","  };","}","","function deframe(buffer, decode) {","  var space = indexOf(buffer, 0x20);","  if (space < 0) throw new Error(\"Invalid git object buffer\");","  var nil = indexOf(buffer, 0x00, space);","  if (nil < 0) throw new Error(\"Invalid git object buffer\");","  var body = bodec.slice(buffer, nil + 1);","  var size = parseDec(buffer, space + 1, nil);","  if (size !== body.length) throw new Error(\"Invalid body length.\");","  var type = bodec.toRaw(buffer, 0, space);","  return {","    type: type,","    body: decode ? decoders[type](body) : body","  };","}","","function indexOf(buffer, byte, i) {","  i |= 0;","  var length = buffer.length;","  for (;;i++) {","    if (i >= length) return -1;","    if (buffer[i] === byte) return i;","  }","}","","function parseOct(buffer, start, end) {","  var val = 0;","  while (start < end) {","    val = (val << 3) + buffer[start++] - 0x30;","  }","  return val;","}","","function parseDec(buffer, start, end) {","  var val = 0;","  while (start < end) {","    val = val * 10 + buffer[start++] - 0x30;","  }","  return val;","}",""],"l":{"2":1,"3":1,"6":1,"14":1,"17":1,"25":1,"28":1,"29":1,"31":1,"32":0,"33":0,"36":1,"38":0,"39":0,"46":1,"47":0,"48":0,"49":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"61":0,"64":1,"65":0,"70":0,"73":1,"74":0,"75":0,"76":0,"78":0,"81":0,"85":1,"86":0,"91":1,"92":0,"95":1,"96":0,"99":1,"100":0,"101":0,"102":0,"103":0,"107":0,"108":0,"110":0,"111":0,"112":0,"113":0,"114":0,"117":1,"118":0,"119":0,"120":0,"121":0,"127":1,"128":0,"131":1,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"153":0,"156":1,"157":0,"158":0,"159":0,"160":0,"161":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"181":0,"182":0,"184":0,"187":0,"188":0,"189":0,"192":1,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"209":0,"210":0,"211":0,"214":1,"215":0,"216":0,"217":0,"227":1,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"242":1,"243":0,"244":0,"245":0,"246":0,"247":0,"251":1,"252":0,"253":0,"254":0,"256":0,"259":1,"260":0,"261":0,"262":0,"264":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/pack-codec.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/pack-codec.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":6,"10":6,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":1,"72":0,"73":0,"74":0,"75":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":1,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0,"102":0,"103":0,"104":0,"105":0,"106":1,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":1,"116":0,"117":0,"118":0,"119":0,"120":1,"121":0,"122":0,"123":0,"124":0,"125":1,"126":0,"127":0,"128":0,"129":0,"130":1,"131":0,"132":1,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":1,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":1,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":1,"168":1,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":1,"191":0,"192":0,"193":1,"194":0,"195":1,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"fnMap":{"1":{"name":"parseEntry","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}}},"2":{"name":"decodePack","line":62,"loc":{"start":{"line":62,"column":0},"end":{"line":62,"column":26}}},"3":{"name":"(anonymous_3)","line":80,"loc":{"start":{"line":80,"column":9},"end":{"line":80,"column":26}}},"4":{"name":"$pack","line":101,"loc":{"start":{"line":101,"column":2},"end":{"line":101,"column":23}}},"5":{"name":"$version","line":111,"loc":{"start":{"line":111,"column":2},"end":{"line":111,"column":26}}},"6":{"name":"$num","line":122,"loc":{"start":{"line":122,"column":2},"end":{"line":122,"column":22}}},"7":{"name":"$header","line":133,"loc":{"start":{"line":133,"column":2},"end":{"line":133,"column":25}}},"8":{"name":"$header2","line":146,"loc":{"start":{"line":146,"column":2},"end":{"line":146,"column":26}}},"9":{"name":"afterHeader","line":156,"loc":{"start":{"line":156,"column":2},"end":{"line":156,"column":25}}},"10":{"name":"$ofsDelta","line":171,"loc":{"start":{"line":171,"column":2},"end":{"line":171,"column":27}}},"11":{"name":"$ofsDelta2","line":177,"loc":{"start":{"line":177,"column":2},"end":{"line":177,"column":28}}},"12":{"name":"$refDelta","line":184,"loc":{"start":{"line":184,"column":2},"end":{"line":184,"column":27}}},"13":{"name":"toHex","line":191,"loc":{"start":{"line":191,"column":2},"end":{"line":191,"column":22}}},"14":{"name":"emitObject","line":196,"loc":{"start":{"line":196,"column":2},"end":{"line":196,"column":24}}},"15":{"name":"$body","line":218,"loc":{"start":{"line":218,"column":2},"end":{"line":218,"column":33}}},"16":{"name":"$checksum","line":234,"loc":{"start":{"line":234,"column":2},"end":{"line":234,"column":27}}},"17":{"name":"encodePack","line":245,"loc":{"start":{"line":245,"column":0},"end":{"line":245,"column":26}}},"18":{"name":"(anonymous_18)","line":248,"loc":{"start":{"line":248,"column":9},"end":{"line":248,"column":25}}},"19":{"name":"write","line":277,"loc":{"start":{"line":277,"column":2},"end":{"line":277,"column":24}}},"20":{"name":"packHeader","line":283,"loc":{"start":{"line":283,"column":0},"end":{"line":283,"column":28}}},"21":{"name":"packFrame","line":294,"loc":{"start":{"line":294,"column":0},"end":{"line":294,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":51}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":38}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":29}},"6":{"start":{"line":7,"column":0},"end":{"line":14,"column":2}},"7":{"start":{"line":15,"column":0},"end":{"line":15,"column":19}},"8":{"start":{"line":16,"column":0},"end":{"line":19,"column":1}},"9":{"start":{"line":17,"column":2},"end":{"line":17,"column":28}},"10":{"start":{"line":18,"column":2},"end":{"line":18,"column":24}},"11":{"start":{"line":20,"column":0},"end":{"line":20,"column":32}},"12":{"start":{"line":21,"column":0},"end":{"line":58,"column":1}},"13":{"start":{"line":22,"column":2},"end":{"line":22,"column":17}},"14":{"start":{"line":23,"column":2},"end":{"line":23,"column":29}},"15":{"start":{"line":24,"column":2},"end":{"line":24,"column":42}},"16":{"start":{"line":25,"column":2},"end":{"line":25,"column":24}},"17":{"start":{"line":26,"column":2},"end":{"line":26,"column":15}},"18":{"start":{"line":27,"column":2},"end":{"line":31,"column":3}},"19":{"start":{"line":28,"column":4},"end":{"line":28,"column":27}},"20":{"start":{"line":29,"column":4},"end":{"line":29,"column":34}},"21":{"start":{"line":30,"column":4},"end":{"line":30,"column":14}},"22":{"start":{"line":32,"column":2},"end":{"line":32,"column":20}},"23":{"start":{"line":33,"column":2},"end":{"line":33,"column":10}},"24":{"start":{"line":34,"column":2},"end":{"line":44,"column":3}},"25":{"start":{"line":35,"column":4},"end":{"line":35,"column":64}},"26":{"start":{"line":37,"column":7},"end":{"line":44,"column":3}},"27":{"start":{"line":38,"column":4},"end":{"line":38,"column":27}},"28":{"start":{"line":39,"column":4},"end":{"line":39,"column":22}},"29":{"start":{"line":40,"column":4},"end":{"line":43,"column":5}},"30":{"start":{"line":41,"column":6},"end":{"line":41,"column":29}},"31":{"start":{"line":42,"column":6},"end":{"line":42,"column":45}},"32":{"start":{"line":46,"column":2},"end":{"line":46,"column":49}},"33":{"start":{"line":47,"column":2},"end":{"line":49,"column":3}},"34":{"start":{"line":48,"column":4},"end":{"line":48,"column":37}},"35":{"start":{"line":50,"column":2},"end":{"line":53,"column":4}},"36":{"start":{"line":54,"column":2},"end":{"line":56,"column":3}},"37":{"start":{"line":55,"column":4},"end":{"line":55,"column":21}},"38":{"start":{"line":57,"column":2},"end":{"line":57,"column":16}},"39":{"start":{"line":61,"column":0},"end":{"line":61,"column":32}},"40":{"start":{"line":62,"column":0},"end":{"line":241,"column":1}},"41":{"start":{"line":64,"column":2},"end":{"line":64,"column":20}},"42":{"start":{"line":65,"column":2},"end":{"line":65,"column":23}},"43":{"start":{"line":66,"column":2},"end":{"line":66,"column":28}},"44":{"start":{"line":68,"column":2},"end":{"line":68,"column":17}},"45":{"start":{"line":69,"column":2},"end":{"line":69,"column":19}},"46":{"start":{"line":70,"column":2},"end":{"line":70,"column":27}},"47":{"start":{"line":71,"column":2},"end":{"line":71,"column":14}},"48":{"start":{"line":72,"column":2},"end":{"line":72,"column":15}},"49":{"start":{"line":73,"column":2},"end":{"line":73,"column":17}},"50":{"start":{"line":74,"column":2},"end":{"line":74,"column":17}},"51":{"start":{"line":75,"column":2},"end":{"line":75,"column":20}},"52":{"start":{"line":76,"column":2},"end":{"line":76,"column":16}},"53":{"start":{"line":77,"column":2},"end":{"line":77,"column":17}},"54":{"start":{"line":80,"column":2},"end":{"line":98,"column":4}},"55":{"start":{"line":81,"column":4},"end":{"line":84,"column":5}},"56":{"start":{"line":82,"column":6},"end":{"line":82,"column":89}},"57":{"start":{"line":82,"column":39},"end":{"line":82,"column":89}},"58":{"start":{"line":83,"column":6},"end":{"line":83,"column":20}},"59":{"start":{"line":86,"column":4},"end":{"line":91,"column":5}},"60":{"start":{"line":88,"column":6},"end":{"line":88,"column":86}},"61":{"start":{"line":88,"column":18},"end":{"line":88,"column":86}},"62":{"start":{"line":89,"column":6},"end":{"line":89,"column":40}},"63":{"start":{"line":90,"column":6},"end":{"line":90,"column":17}},"64":{"start":{"line":92,"column":4},"end":{"line":92,"column":23}},"65":{"start":{"line":92,"column":16},"end":{"line":92,"column":23}},"66":{"start":{"line":93,"column":4},"end":{"line":93,"column":51}},"67":{"start":{"line":93,"column":29},"end":{"line":93,"column":51}},"68":{"start":{"line":94,"column":4},"end":{"line":94,"column":27}},"69":{"start":{"line":95,"column":4},"end":{"line":97,"column":5}},"70":{"start":{"line":96,"column":6},"end":{"line":96,"column":23}},"71":{"start":{"line":101,"column":2},"end":{"line":107,"column":3}},"72":{"start":{"line":102,"column":4},"end":{"line":105,"column":5}},"73":{"start":{"line":103,"column":6},"end":{"line":103,"column":21}},"74":{"start":{"line":104,"column":6},"end":{"line":104,"column":40}},"75":{"start":{"line":106,"column":4},"end":{"line":106,"column":47}},"76":{"start":{"line":111,"column":2},"end":{"line":119,"column":3}},"77":{"start":{"line":112,"column":4},"end":{"line":112,"column":36}},"78":{"start":{"line":113,"column":4},"end":{"line":113,"column":38}},"79":{"start":{"line":113,"column":22},"end":{"line":113,"column":38}},"80":{"start":{"line":114,"column":4},"end":{"line":117,"column":5}},"81":{"start":{"line":115,"column":6},"end":{"line":115,"column":17}},"82":{"start":{"line":116,"column":6},"end":{"line":116,"column":18}},"83":{"start":{"line":118,"column":4},"end":{"line":118,"column":53}},"84":{"start":{"line":122,"column":2},"end":{"line":128,"column":3}},"85":{"start":{"line":123,"column":4},"end":{"line":123,"column":28}},"86":{"start":{"line":124,"column":4},"end":{"line":124,"column":34}},"87":{"start":{"line":124,"column":22},"end":{"line":124,"column":34}},"88":{"start":{"line":125,"column":4},"end":{"line":125,"column":15}},"89":{"start":{"line":126,"column":4},"end":{"line":126,"column":39}},"90":{"start":{"line":127,"column":4},"end":{"line":127,"column":19}},"91":{"start":{"line":133,"column":2},"end":{"line":142,"column":3}},"92":{"start":{"line":134,"column":4},"end":{"line":134,"column":38}},"93":{"start":{"line":134,"column":21},"end":{"line":134,"column":38}},"94":{"start":{"line":135,"column":4},"end":{"line":135,"column":28}},"95":{"start":{"line":136,"column":4},"end":{"line":136,"column":25}},"96":{"start":{"line":137,"column":4},"end":{"line":140,"column":5}},"97":{"start":{"line":138,"column":6},"end":{"line":138,"column":17}},"98":{"start":{"line":139,"column":6},"end":{"line":139,"column":22}},"99":{"start":{"line":141,"column":4},"end":{"line":141,"column":25}},"100":{"start":{"line":146,"column":2},"end":{"line":153,"column":3}},"101":{"start":{"line":147,"column":4},"end":{"line":147,"column":38}},"102":{"start":{"line":148,"column":4},"end":{"line":151,"column":5}},"103":{"start":{"line":149,"column":6},"end":{"line":149,"column":18}},"104":{"start":{"line":150,"column":6},"end":{"line":150,"column":22}},"105":{"start":{"line":152,"column":4},"end":{"line":152,"column":25}},"106":{"start":{"line":156,"column":2},"end":{"line":168,"column":3}},"107":{"start":{"line":157,"column":4},"end":{"line":157,"column":15}},"108":{"start":{"line":158,"column":4},"end":{"line":161,"column":5}},"109":{"start":{"line":159,"column":6},"end":{"line":159,"column":14}},"110":{"start":{"line":160,"column":6},"end":{"line":160,"column":23}},"111":{"start":{"line":162,"column":4},"end":{"line":165,"column":5}},"112":{"start":{"line":163,"column":6},"end":{"line":163,"column":15}},"113":{"start":{"line":164,"column":6},"end":{"line":164,"column":23}},"114":{"start":{"line":167,"column":4},"end":{"line":167,"column":17}},"115":{"start":{"line":171,"column":2},"end":{"line":175,"column":3}},"116":{"start":{"line":172,"column":4},"end":{"line":172,"column":22}},"117":{"start":{"line":173,"column":4},"end":{"line":173,"column":39}},"118":{"start":{"line":173,"column":21},"end":{"line":173,"column":39}},"119":{"start":{"line":174,"column":4},"end":{"line":174,"column":17}},"120":{"start":{"line":177,"column":2},"end":{"line":181,"column":3}},"121":{"start":{"line":178,"column":4},"end":{"line":178,"column":43}},"122":{"start":{"line":179,"column":4},"end":{"line":179,"column":39}},"123":{"start":{"line":179,"column":21},"end":{"line":179,"column":39}},"124":{"start":{"line":180,"column":4},"end":{"line":180,"column":17}},"125":{"start":{"line":184,"column":2},"end":{"line":188,"column":3}},"126":{"start":{"line":185,"column":4},"end":{"line":185,"column":23}},"127":{"start":{"line":186,"column":4},"end":{"line":186,"column":40}},"128":{"start":{"line":186,"column":23},"end":{"line":186,"column":40}},"129":{"start":{"line":187,"column":4},"end":{"line":187,"column":17}},"130":{"start":{"line":191,"column":2},"end":{"line":193,"column":3}},"131":{"start":{"line":192,"column":4},"end":{"line":192,"column":66}},"132":{"start":{"line":196,"column":2},"end":{"line":215,"column":3}},"133":{"start":{"line":197,"column":4},"end":{"line":197,"column":33}},"134":{"start":{"line":198,"column":4},"end":{"line":200,"column":5}},"135":{"start":{"line":199,"column":6},"end":{"line":199,"column":46}},"136":{"start":{"line":201,"column":4},"end":{"line":206,"column":6}},"137":{"start":{"line":207,"column":4},"end":{"line":207,"column":28}},"138":{"start":{"line":207,"column":13},"end":{"line":207,"column":28}},"139":{"start":{"line":208,"column":4},"end":{"line":208,"column":21}},"140":{"start":{"line":209,"column":4},"end":{"line":209,"column":14}},"141":{"start":{"line":210,"column":4},"end":{"line":210,"column":15}},"142":{"start":{"line":211,"column":4},"end":{"line":211,"column":13}},"143":{"start":{"line":212,"column":4},"end":{"line":212,"column":15}},"144":{"start":{"line":213,"column":4},"end":{"line":213,"column":15}},"145":{"start":{"line":214,"column":4},"end":{"line":214,"column":15}},"146":{"start":{"line":218,"column":2},"end":{"line":231,"column":3}},"147":{"start":{"line":219,"column":4},"end":{"line":219,"column":38}},"148":{"start":{"line":219,"column":25},"end":{"line":219,"column":38}},"149":{"start":{"line":220,"column":4},"end":{"line":220,"column":26}},"150":{"start":{"line":221,"column":4},"end":{"line":221,"column":109}},"151":{"start":{"line":221,"column":31},"end":{"line":221,"column":109}},"152":{"start":{"line":222,"column":4},"end":{"line":222,"column":18}},"153":{"start":{"line":223,"column":4},"end":{"line":225,"column":5}},"154":{"start":{"line":224,"column":6},"end":{"line":224,"column":22}},"155":{"start":{"line":226,"column":4},"end":{"line":226,"column":17}},"156":{"start":{"line":228,"column":4},"end":{"line":228,"column":30}},"157":{"start":{"line":228,"column":15},"end":{"line":228,"column":30}},"158":{"start":{"line":229,"column":4},"end":{"line":229,"column":49}},"159":{"start":{"line":230,"column":4},"end":{"line":230,"column":21}},"160":{"start":{"line":234,"column":2},"end":{"line":239,"column":3}},"161":{"start":{"line":235,"column":4},"end":{"line":235,"column":28}},"162":{"start":{"line":236,"column":4},"end":{"line":236,"column":40}},"163":{"start":{"line":236,"column":23},"end":{"line":236,"column":40}},"164":{"start":{"line":237,"column":4},"end":{"line":237,"column":34}},"165":{"start":{"line":238,"column":4},"end":{"line":238,"column":97}},"166":{"start":{"line":238,"column":29},"end":{"line":238,"column":97}},"167":{"start":{"line":244,"column":0},"end":{"line":244,"column":32}},"168":{"start":{"line":245,"column":0},"end":{"line":281,"column":1}},"169":{"start":{"line":246,"column":2},"end":{"line":246,"column":23}},"170":{"start":{"line":247,"column":2},"end":{"line":247,"column":11}},"171":{"start":{"line":248,"column":2},"end":{"line":276,"column":4}},"172":{"start":{"line":249,"column":4},"end":{"line":252,"column":5}},"173":{"start":{"line":250,"column":6},"end":{"line":250,"column":65}},"174":{"start":{"line":250,"column":22},"end":{"line":250,"column":65}},"175":{"start":{"line":251,"column":6},"end":{"line":251,"column":20}},"176":{"start":{"line":253,"column":4},"end":{"line":275,"column":5}},"177":{"start":{"line":254,"column":6},"end":{"line":254,"column":69}},"178":{"start":{"line":254,"column":30},"end":{"line":254,"column":69}},"179":{"start":{"line":255,"column":6},"end":{"line":255,"column":22}},"180":{"start":{"line":256,"column":6},"end":{"line":256,"column":34}},"181":{"start":{"line":258,"column":9},"end":{"line":275,"column":5}},"182":{"start":{"line":260,"column":6},"end":{"line":260,"column":76}},"183":{"start":{"line":260,"column":36},"end":{"line":260,"column":76}},"184":{"start":{"line":263,"column":6},"end":{"line":263,"column":59}},"185":{"start":{"line":263,"column":17},"end":{"line":263,"column":59}},"186":{"start":{"line":266,"column":6},"end":{"line":266,"column":29}},"187":{"start":{"line":269,"column":6},"end":{"line":271,"column":7}},"188":{"start":{"line":270,"column":8},"end":{"line":270,"column":46}},"189":{"start":{"line":274,"column":6},"end":{"line":274,"column":38}},"190":{"start":{"line":277,"column":2},"end":{"line":280,"column":3}},"191":{"start":{"line":278,"column":4},"end":{"line":278,"column":26}},"192":{"start":{"line":279,"column":4},"end":{"line":279,"column":16}},"193":{"start":{"line":283,"column":0},"end":{"line":292,"column":1}},"194":{"start":{"line":284,"column":2},"end":{"line":291,"column":5}},"195":{"start":{"line":294,"column":0},"end":{"line":326,"column":1}},"196":{"start":{"line":295,"column":2},"end":{"line":295,"column":32}},"197":{"start":{"line":298,"column":2},"end":{"line":298,"column":60}},"198":{"start":{"line":299,"column":2},"end":{"line":299,"column":12}},"199":{"start":{"line":300,"column":2},"end":{"line":300,"column":15}},"200":{"start":{"line":301,"column":2},"end":{"line":305,"column":3}},"201":{"start":{"line":302,"column":4},"end":{"line":302,"column":22}},"202":{"start":{"line":303,"column":4},"end":{"line":303,"column":28}},"203":{"start":{"line":304,"column":4},"end":{"line":304,"column":17}},"204":{"start":{"line":307,"column":2},"end":{"line":318,"column":3}},"205":{"start":{"line":309,"column":4},"end":{"line":309,"column":26}},"206":{"start":{"line":311,"column":4},"end":{"line":311,"column":59}},"207":{"start":{"line":313,"column":4},"end":{"line":313,"column":28}},"208":{"start":{"line":315,"column":4},"end":{"line":317,"column":5}},"209":{"start":{"line":316,"column":6},"end":{"line":316,"column":43}},"210":{"start":{"line":320,"column":2},"end":{"line":320,"column":38}},"211":{"start":{"line":321,"column":2},"end":{"line":323,"column":3}},"212":{"start":{"line":322,"column":4},"end":{"line":322,"column":40}},"213":{"start":{"line":324,"column":2},"end":{"line":324,"column":33}},"214":{"start":{"line":325,"column":2},"end":{"line":325,"column":27}}},"branchMap":{"1":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":34,"column":2}},{"start":{"line":34,"column":2},"end":{"line":34,"column":2}}]},"2":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":7},"end":{"line":37,"column":7}},{"start":{"line":37,"column":7},"end":{"line":37,"column":7}}]},"3":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":2},"end":{"line":47,"column":2}},{"start":{"line":47,"column":2},"end":{"line":47,"column":2}}]},"4":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":2},"end":{"line":54,"column":2}},{"start":{"line":54,"column":2},"end":{"line":54,"column":2}}]},"5":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":4}},{"start":{"line":81,"column":4},"end":{"line":81,"column":4}}]},"6":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":6},"end":{"line":82,"column":6}},{"start":{"line":82,"column":6},"end":{"line":82,"column":6}}]},"7":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":10},"end":{"line":82,"column":13}},{"start":{"line":82,"column":17},"end":{"line":82,"column":37}}]},"8":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":6},"end":{"line":88,"column":6}},{"start":{"line":88,"column":6},"end":{"line":88,"column":6}}]},"9":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":92,"column":4}},{"start":{"line":92,"column":4},"end":{"line":92,"column":4}}]},"10":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":4},"end":{"line":93,"column":4}},{"start":{"line":93,"column":4},"end":{"line":93,"column":4}}]},"11":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":95,"column":4}},{"start":{"line":95,"column":4},"end":{"line":95,"column":4}}]},"12":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":4},"end":{"line":102,"column":4}},{"start":{"line":102,"column":4},"end":{"line":102,"column":4}}]},"13":{"line":104,"type":"cond-expr","locations":[{"start":{"line":104,"column":23},"end":{"line":104,"column":28}},{"start":{"line":104,"column":31},"end":{"line":104,"column":39}}]},"14":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":113,"column":4}},{"start":{"line":113,"column":4},"end":{"line":113,"column":4}}]},"15":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":4},"end":{"line":114,"column":4}},{"start":{"line":114,"column":4},"end":{"line":114,"column":4}}]},"16":{"line":114,"type":"binary-expr","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":20}},{"start":{"line":114,"column":24},"end":{"line":114,"column":36}}]},"17":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":4},"end":{"line":124,"column":4}},{"start":{"line":124,"column":4},"end":{"line":124,"column":4}}]},"18":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":4},"end":{"line":134,"column":4}},{"start":{"line":134,"column":4},"end":{"line":134,"column":4}}]},"19":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":4},"end":{"line":137,"column":4}},{"start":{"line":137,"column":4},"end":{"line":137,"column":4}}]},"20":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":4},"end":{"line":148,"column":4}},{"start":{"line":148,"column":4},"end":{"line":148,"column":4}}]},"21":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":4},"end":{"line":158,"column":4}},{"start":{"line":158,"column":4},"end":{"line":158,"column":4}}]},"22":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":4},"end":{"line":162,"column":4}},{"start":{"line":162,"column":4},"end":{"line":162,"column":4}}]},"23":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":4},"end":{"line":173,"column":4}},{"start":{"line":173,"column":4},"end":{"line":173,"column":4}}]},"24":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":4},"end":{"line":179,"column":4}},{"start":{"line":179,"column":4},"end":{"line":179,"column":4}}]},"25":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":4},"end":{"line":186,"column":4}},{"start":{"line":186,"column":4},"end":{"line":186,"column":4}}]},"26":{"line":192,"type":"cond-expr","locations":[{"start":{"line":192,"column":24},"end":{"line":192,"column":46}},{"start":{"line":192,"column":49},"end":{"line":192,"column":65}}]},"27":{"line":198,"type":"if","locations":[{"start":{"line":198,"column":4},"end":{"line":198,"column":4}},{"start":{"line":198,"column":4},"end":{"line":198,"column":4}}]},"28":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":4},"end":{"line":207,"column":4}},{"start":{"line":207,"column":4},"end":{"line":207,"column":4}}]},"29":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":4},"end":{"line":219,"column":4}},{"start":{"line":219,"column":4},"end":{"line":219,"column":4}}]},"30":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":4},"end":{"line":221,"column":4}},{"start":{"line":221,"column":4},"end":{"line":221,"column":4}}]},"31":{"line":223,"type":"if","locations":[{"start":{"line":223,"column":4},"end":{"line":223,"column":4}},{"start":{"line":223,"column":4},"end":{"line":223,"column":4}}]},"32":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":4},"end":{"line":228,"column":4}},{"start":{"line":228,"column":4},"end":{"line":228,"column":4}}]},"33":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":4},"end":{"line":236,"column":4}},{"start":{"line":236,"column":4},"end":{"line":236,"column":4}}]},"34":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":4},"end":{"line":238,"column":4}},{"start":{"line":238,"column":4},"end":{"line":238,"column":4}}]},"35":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":4},"end":{"line":249,"column":4}},{"start":{"line":249,"column":4},"end":{"line":249,"column":4}}]},"36":{"line":250,"type":"if","locations":[{"start":{"line":250,"column":6},"end":{"line":250,"column":6}},{"start":{"line":250,"column":6},"end":{"line":250,"column":6}}]},"37":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":4},"end":{"line":253,"column":4}},{"start":{"line":253,"column":4},"end":{"line":253,"column":4}}]},"38":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":6},"end":{"line":254,"column":6}},{"start":{"line":254,"column":6},"end":{"line":254,"column":6}}]},"39":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":9},"end":{"line":258,"column":9}},{"start":{"line":258,"column":9},"end":{"line":258,"column":9}}]},"40":{"line":258,"type":"binary-expr","locations":[{"start":{"line":258,"column":13},"end":{"line":258,"column":42}},{"start":{"line":258,"column":46},"end":{"line":258,"column":71}}]},"41":{"line":260,"type":"if","locations":[{"start":{"line":260,"column":6},"end":{"line":260,"column":6}},{"start":{"line":260,"column":6},"end":{"line":260,"column":6}}]},"42":{"line":263,"type":"if","locations":[{"start":{"line":263,"column":6},"end":{"line":263,"column":6}},{"start":{"line":263,"column":6},"end":{"line":263,"column":6}}]},"43":{"line":269,"type":"if","locations":[{"start":{"line":269,"column":6},"end":{"line":269,"column":6}},{"start":{"line":269,"column":6},"end":{"line":269,"column":6}}]},"44":{"line":307,"type":"if","locations":[{"start":{"line":307,"column":2},"end":{"line":307,"column":2}},{"start":{"line":307,"column":2},"end":{"line":307,"column":2}}]},"45":{"line":321,"type":"if","locations":[{"start":{"line":321,"column":2},"end":{"line":321,"column":2}},{"start":{"line":321,"column":2},"end":{"line":321,"column":2}}]}},"code":["var inflateStream = require('./inflate-stream.js');","var inflate = require('./inflate.js');","var deflate = require('./deflate.js');","var sha1 = require('git-sha1');","var bodec = require('bodec');","","var typeToNum = {","  commit: 1,","  tree: 2,","  blob: 3,","  tag: 4,","  \"ofs-delta\": 6,","  \"ref-delta\": 7","};","var numToType = {};","for (var type in typeToNum) {","  var num = typeToNum[type];","  numToType[num] = type;","}","exports.parseEntry = parseEntry;","function parseEntry(chunk) {","  var offset = 0;","  var byte = chunk[offset++];","  var type = numToType[(byte >> 4) & 0x7];","  var size = byte & 0xf;","  var left = 4;","  while (byte & 0x80) {","    byte = chunk[offset++];","    size |= (byte & 0x7f) << left;","    left += 7;","  }","  size = size >>> 0;","  var ref;","  if (type === \"ref-delta\") {","    ref = bodec.toHex(bodec.slice(chunk, offset, offset += 20));","  }","  else if (type === \"ofs-delta\") {","    byte = chunk[offset++];","    ref = byte & 0x7f;","    while (byte & 0x80) {","      byte = chunk[offset++];","      ref = ((ref + 1) << 7) | (byte & 0x7f);","    }","  }","","  var body = inflate(bodec.slice(chunk, offset));","  if (body.length !== size) {","    throw new Error(\"Size mismatch\");","  }","  var result = {","    type: type,","    body: body","  };","  if (typeof ref !== \"undefined\") {","    result.ref = ref;","  }","  return result;","}","","","exports.decodePack = decodePack;","function decodePack(emit) {","","  var state = $pack;","  var sha1sum = sha1();","  var inf = inflateStream();","","  var offset = 0;","  var position = 0;","  var version = 0x4b434150; // PACK reversed","  var num = 0;","  var type = 0;","  var length = 0;","  var ref = null;","  var checksum = \"\";","  var start = 0;","  var parts = [];","","","  return function (chunk) {","    if (chunk === undefined) {","      if (num || checksum.length < 40) throw new Error(\"Unexpected end of input stream\");","      return emit();","    }","","    for (var i = 0, l = chunk.length; i < l; i++) {","      // console.log([state, i, chunk[i].toString(16)]);","      if (!state) throw new Error(\"Unexpected extra bytes: \" + bodec.slice(chunk, i));","      state = state(chunk[i], i, chunk);","      position++;","    }","    if (!state) return;","    if (state !== $checksum) sha1sum.update(chunk);","    var buff = inf.flush();","    if (buff.length) {","      parts.push(buff);","    }","  };","","  // The first four bytes in a packfile are the bytes 'PACK'","  function $pack(byte) {","    if ((version & 0xff) === byte) {","      version >>>= 8;","      return version ? $pack : $version;","    }","    throw new Error(\"Invalid packfile header\");","  }","","  // The version is stored as an unsigned 32 integer in network byte order.","  // It must be version 2 or 3.","  function $version(byte) {","    version = (version << 8) | byte;","    if (++offset < 4) return $version;","    if (version >= 2 && version <= 3) {","      offset = 0;","      return $num;","    }","    throw new Error(\"Invalid version number \" + num);","  }","","  // The number of objects in this packfile is also stored as an unsigned 32 bit int.","  function $num(byte) {","    num = (num << 8) | byte;","    if (++offset < 4) return $num;","    offset = 0;","    emit({version: version, num: num});","    return $header;","  }","","  // n-byte type and length (3-bit type, (n-1)*7+4-bit length)","  // CTTTSSSS","  // C is continue bit, TTT is type, S+ is length","  function $header(byte) {","    if (start === 0) start = position;","    type = byte >> 4 & 0x07;","    length = byte & 0x0f;","    if (byte & 0x80) {","      offset = 4;","      return $header2;","    }","    return afterHeader();","  }","","  // Second state in the same header parsing.","  // CSSSSSSS*","  function $header2(byte) {","    length |= (byte & 0x7f) << offset;","    if (byte & 0x80) {","      offset += 7;","      return $header2;","    }","    return afterHeader();","  }","","  // Common helper for finishing tiny and normal headers.","  function afterHeader() {","    offset = 0;","    if (type === 6) {","      ref = 0;","      return $ofsDelta;","    }","    if (type === 7) {","      ref = \"\";","      return $refDelta;","    }","    // console.log({type: type,length: length})","    return $body;","  }","","  // Big-endian modified base 128 number encoded ref offset","  function $ofsDelta(byte) {","    ref = byte & 0x7f;","    if (byte & 0x80) return $ofsDelta2;","    return $body;","  }","","  function $ofsDelta2(byte) {","    ref = ((ref + 1) << 7) | (byte & 0x7f);","    if (byte & 0x80) return $ofsDelta2;","    return $body;","  }","","  // 20 byte raw sha1 hash for ref","  function $refDelta(byte) {","    ref += toHex(byte);","    if (++offset < 20) return $refDelta;","    return $body;","  }","","  // Common helper for generating 2-character hex numbers","  function toHex(num) {","    return num < 0x10 ? \"0\" + num.toString(16) : num.toString(16);","  }","","  // Common helper for emitting all three object shapes","  function emitObject() {","    var body = bodec.join(parts);","    if (body.length !== length) {","      throw new Error(\"Body length mismatch\");","    }","    var item = {","      type: numToType[type],","      size: length,","      body: body,","      offset: start","    };","    if (ref) item.ref = ref;","    parts.length = 0;","    start = 0;","    offset = 0;","    type = 0;","    length = 0;","    ref = null;","    emit(item);","  }","","  // Feed the deflated code to the inflate engine","  function $body(byte, i, chunk) {","    if (inf.write(byte)) return $body;","    var buf = inf.flush();","    if (buf.length !== length) throw new Error(\"Length mismatch, expected \" + length + \" got \" + buf.length);","    inf.recycle();","    if (buf.length) {","      parts.push(buf);","    }","    emitObject();","    // If this was all the objects, start calculating the sha1sum","    if (--num) return $header;","    sha1sum.update(bodec.slice(chunk, 0, i + 1));","    return $checksum;","  }","","  // 20 byte checksum","  function $checksum(byte) {","    checksum += toHex(byte);","    if (++offset < 20) return $checksum;","    var actual = sha1sum.digest();","    if (checksum !== actual) throw new Error(\"Checksum mismatch: \" + actual + \" != \" + checksum);","  }","","}","","","exports.encodePack = encodePack;","function encodePack(emit) {","  var sha1sum = sha1();","  var left;","  return function (item) {","    if (item === undefined) {","      if (left !== 0) throw new Error(\"Some items were missing\");","      return emit();","    }","    if (typeof item.num === \"number\") {","      if (left !== undefined) throw new Error(\"Header already sent\");","      left = item.num;","      write(packHeader(item.num));","    }","    else if (typeof item.type === \"string\" && bodec.isBinary(item.body)) {","      // The header must be sent before items.","      if (typeof left !== \"number\") throw new Error(\"Headers not sent yet\");","","      // Make sure we haven't sent all the items already","      if (!left) throw new Error(\"All items already sent\");","","      // Send the item in packstream format","      write(packFrame(item));","","      // Send the checksum after the last item","      if (!--left) {","        emit(bodec.fromHex(sha1sum.digest()));","      }","    }","    else {","      throw new Error(\"Invalid item\");","    }","  };","  function write(chunk) {","    sha1sum.update(chunk);","    emit(chunk);","  }","}","","function packHeader(length) {","  return bodec.fromArray([","    0x50, 0x41, 0x43, 0x4b, // PACK","    0, 0, 0, 2,             // version 2","    length >> 24,           // Num of objects","    (length >> 16) & 0xff,","    (length >> 8) & 0xff,","    length & 0xff","  ]);","}","","function packFrame(item) {","  var length = item.body.length;","","  // write TYPE_AND_BASE128_SIZE","  var head = [(typeToNum[item.type] << 4) | (length & 0xf)];","  var i = 0;","  length >>= 4;","  while (length) {","    head[i++] |= 0x80;","    head[i] = length & 0x7f;","    length >>= 7;","  }","","  if (typeof item.ref === \"number\") {","    // write BIG_ENDIAN_MODIFIED_BASE_128_NUMBER","    var offset = item.ref;","    // Calculate how many digits we need in base 128 and move the pointer","    i += Math.floor(Math.log(offset) / Math.log(0x80)) + 1;","    // Write the last digit","    head[i] = offset & 0x7f;","    // Then write the rest","    while (offset >>= 7) {","      head[--i] = 0x80 | (--offset & 0x7f);","    }","  }","","  var parts = [bodec.fromArray(head)];","  if (typeof item.ref === \"string\") {","    parts.push(bodec.fromHex(item.ref));","  }","  parts.push(deflate(item.body));","  return bodec.join(parts);","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"15":1,"16":1,"17":6,"18":6,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"32":0,"33":0,"34":0,"35":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"46":0,"47":0,"48":0,"50":0,"54":0,"55":0,"57":0,"61":1,"62":1,"64":0,"65":0,"66":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"80":0,"81":0,"82":0,"83":0,"86":0,"88":0,"89":0,"90":0,"92":0,"93":0,"94":0,"95":0,"96":0,"101":1,"102":0,"103":0,"104":0,"106":0,"111":1,"112":0,"113":0,"114":0,"115":0,"116":0,"118":0,"122":1,"123":0,"124":0,"125":0,"126":0,"127":0,"133":1,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"141":0,"146":1,"147":0,"148":0,"149":0,"150":0,"152":0,"156":1,"157":0,"158":0,"159":0,"160":0,"162":0,"163":0,"164":0,"167":0,"171":1,"172":0,"173":0,"174":0,"177":1,"178":0,"179":0,"180":0,"184":1,"185":0,"186":0,"187":0,"191":1,"192":0,"196":1,"197":0,"198":0,"199":0,"201":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"218":1,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"226":0,"228":0,"229":0,"230":0,"234":1,"235":0,"236":0,"237":0,"238":0,"244":1,"245":1,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"253":0,"254":0,"255":0,"256":0,"258":0,"260":0,"263":0,"266":0,"269":0,"270":0,"274":0,"277":1,"278":0,"279":0,"283":1,"284":0,"294":1,"295":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"307":0,"309":0,"311":0,"313":0,"315":0,"316":0,"320":0,"321":0,"322":0,"324":0,"325":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/pkt-line.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/pkt-line.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":1,"78":0,"79":1,"80":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"deframer","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":24}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":9},"end":{"line":18,"column":25}}},"3":{"name":"framer","line":99,"loc":{"start":{"line":99,"column":0},"end":{"line":99,"column":22}}},"4":{"name":"(anonymous_4)","line":100,"loc":{"start":{"line":100,"column":9},"end":{"line":100,"column":25}}},"5":{"name":"frameHead","line":112,"loc":{"start":{"line":112,"column":0},"end":{"line":112,"column":27}}},"6":{"name":"fromHexChar","line":121,"loc":{"start":{"line":121,"column":0},"end":{"line":121,"column":26}}},"7":{"name":"toHexChar","line":126,"loc":{"start":{"line":126,"column":0},"end":{"line":126,"column":24}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"3":{"start":{"line":6,"column":0},"end":{"line":9,"column":2}},"4":{"start":{"line":11,"column":0},"end":{"line":97,"column":1}},"5":{"start":{"line":12,"column":2},"end":{"line":12,"column":16}},"6":{"start":{"line":13,"column":2},"end":{"line":13,"column":17}},"7":{"start":{"line":14,"column":2},"end":{"line":14,"column":17}},"8":{"start":{"line":15,"column":2},"end":{"line":15,"column":11}},"9":{"start":{"line":16,"column":2},"end":{"line":16,"column":18}},"10":{"start":{"line":18,"column":2},"end":{"line":95,"column":4}},"11":{"start":{"line":21,"column":4},"end":{"line":21,"column":42}},"12":{"start":{"line":21,"column":28},"end":{"line":21,"column":42}},"13":{"start":{"line":24,"column":4},"end":{"line":24,"column":39}},"14":{"start":{"line":24,"column":21},"end":{"line":24,"column":39}},"15":{"start":{"line":27,"column":4},"end":{"line":92,"column":5}},"16":{"start":{"line":28,"column":6},"end":{"line":28,"column":25}},"17":{"start":{"line":29,"column":6},"end":{"line":91,"column":7}},"18":{"start":{"line":30,"column":8},"end":{"line":30,"column":36}},"19":{"start":{"line":31,"column":8},"end":{"line":39,"column":9}},"20":{"start":{"line":32,"column":10},"end":{"line":36,"column":11}},"21":{"start":{"line":33,"column":12},"end":{"line":33,"column":23}},"22":{"start":{"line":34,"column":12},"end":{"line":34,"column":22}},"23":{"start":{"line":35,"column":12},"end":{"line":35,"column":21}},"24":{"start":{"line":37,"column":10},"end":{"line":37,"column":21}},"25":{"start":{"line":38,"column":10},"end":{"line":38,"column":80}},"26":{"start":{"line":40,"column":8},"end":{"line":40,"column":42}},"27":{"start":{"line":41,"column":8},"end":{"line":59,"column":9}},"28":{"start":{"line":42,"column":10},"end":{"line":58,"column":11}},"29":{"start":{"line":43,"column":12},"end":{"line":43,"column":23}},"30":{"start":{"line":44,"column":12},"end":{"line":44,"column":28}},"31":{"start":{"line":46,"column":15},"end":{"line":58,"column":11}},"32":{"start":{"line":47,"column":12},"end":{"line":47,"column":23}},"33":{"start":{"line":48,"column":12},"end":{"line":48,"column":30}},"34":{"start":{"line":50,"column":15},"end":{"line":58,"column":11}},"35":{"start":{"line":51,"column":12},"end":{"line":51,"column":24}},"36":{"start":{"line":52,"column":12},"end":{"line":52,"column":40}},"37":{"start":{"line":53,"column":12},"end":{"line":53,"column":22}},"38":{"start":{"line":56,"column":12},"end":{"line":56,"column":23}},"39":{"start":{"line":57,"column":12},"end":{"line":57,"column":63}},"40":{"start":{"line":61,"column":11},"end":{"line":91,"column":7}},"41":{"start":{"line":62,"column":8},"end":{"line":62,"column":30}},"42":{"start":{"line":63,"column":8},"end":{"line":79,"column":9}},"43":{"start":{"line":64,"column":10},"end":{"line":64,"column":21}},"44":{"start":{"line":65,"column":10},"end":{"line":65,"column":20}},"45":{"start":{"line":66,"column":10},"end":{"line":66,"column":21}},"46":{"start":{"line":67,"column":10},"end":{"line":78,"column":11}},"47":{"start":{"line":68,"column":12},"end":{"line":68,"column":46}},"48":{"start":{"line":70,"column":15},"end":{"line":78,"column":11}},"49":{"start":{"line":71,"column":12},"end":{"line":71,"column":62}},"50":{"start":{"line":73,"column":15},"end":{"line":78,"column":11}},"51":{"start":{"line":74,"column":12},"end":{"line":74,"column":59}},"52":{"start":{"line":77,"column":12},"end":{"line":77,"column":54}},"53":{"start":{"line":81,"column":11},"end":{"line":91,"column":7}},"54":{"start":{"line":82,"column":8},"end":{"line":84,"column":9}},"55":{"start":{"line":83,"column":10},"end":{"line":83,"column":19}},"56":{"start":{"line":85,"column":8},"end":{"line":85,"column":18}},"57":{"start":{"line":86,"column":8},"end":{"line":86,"column":65}},"58":{"start":{"line":87,"column":8},"end":{"line":87,"column":14}},"59":{"start":{"line":90,"column":8},"end":{"line":90,"column":61}},"60":{"start":{"line":94,"column":4},"end":{"line":94,"column":16}},"61":{"start":{"line":99,"column":0},"end":{"line":110,"column":1}},"62":{"start":{"line":100,"column":2},"end":{"line":109,"column":4}},"63":{"start":{"line":101,"column":4},"end":{"line":101,"column":42}},"64":{"start":{"line":101,"column":28},"end":{"line":101,"column":42}},"65":{"start":{"line":102,"column":4},"end":{"line":104,"column":5}},"66":{"start":{"line":103,"column":6},"end":{"line":103,"column":41}},"67":{"start":{"line":105,"column":4},"end":{"line":107,"column":5}},"68":{"start":{"line":106,"column":6},"end":{"line":106,"column":37}},"69":{"start":{"line":108,"column":4},"end":{"line":108,"column":64}},"70":{"start":{"line":112,"column":0},"end":{"line":119,"column":1}},"71":{"start":{"line":113,"column":2},"end":{"line":113,"column":31}},"72":{"start":{"line":114,"column":2},"end":{"line":114,"column":39}},"73":{"start":{"line":115,"column":2},"end":{"line":115,"column":46}},"74":{"start":{"line":116,"column":2},"end":{"line":116,"column":46}},"75":{"start":{"line":117,"column":2},"end":{"line":117,"column":38}},"76":{"start":{"line":118,"column":2},"end":{"line":118,"column":16}},"77":{"start":{"line":121,"column":0},"end":{"line":124,"column":1}},"78":{"start":{"line":122,"column":2},"end":{"line":123,"column":57}},"79":{"start":{"line":126,"column":0},"end":{"line":128,"column":1}},"80":{"start":{"line":127,"column":2},"end":{"line":127,"column":46}}},"branchMap":{"1":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"2":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":4}},{"start":{"line":24,"column":4},"end":{"line":24,"column":4}}]},"3":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":6},"end":{"line":29,"column":6}},{"start":{"line":29,"column":6},"end":{"line":29,"column":6}}]},"4":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":8}},{"start":{"line":31,"column":8},"end":{"line":31,"column":8}}]},"5":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":10},"end":{"line":32,"column":10}},{"start":{"line":32,"column":10},"end":{"line":32,"column":10}}]},"6":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":8},"end":{"line":41,"column":8}},{"start":{"line":41,"column":8},"end":{"line":41,"column":8}}]},"7":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":10},"end":{"line":42,"column":10}},{"start":{"line":42,"column":10},"end":{"line":42,"column":10}}]},"8":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":15},"end":{"line":46,"column":15}},{"start":{"line":46,"column":15},"end":{"line":46,"column":15}}]},"9":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":15},"end":{"line":50,"column":15}},{"start":{"line":50,"column":15},"end":{"line":50,"column":15}}]},"10":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":11},"end":{"line":61,"column":11}},{"start":{"line":61,"column":11},"end":{"line":61,"column":11}}]},"11":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":8},"end":{"line":63,"column":8}},{"start":{"line":63,"column":8},"end":{"line":63,"column":8}}]},"12":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":10},"end":{"line":67,"column":10}},{"start":{"line":67,"column":10},"end":{"line":67,"column":10}}]},"13":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":15},"end":{"line":70,"column":15}},{"start":{"line":70,"column":15},"end":{"line":70,"column":15}}]},"14":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":15},"end":{"line":73,"column":15}},{"start":{"line":73,"column":15},"end":{"line":73,"column":15}}]},"15":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":11},"end":{"line":81,"column":11}},{"start":{"line":81,"column":11},"end":{"line":81,"column":11}}]},"16":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":8}},{"start":{"line":82,"column":8},"end":{"line":82,"column":8}}]},"17":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":12},"end":{"line":82,"column":22}},{"start":{"line":82,"column":26},"end":{"line":82,"column":49}}]},"18":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":4},"end":{"line":101,"column":4}},{"start":{"line":101,"column":4},"end":{"line":101,"column":4}}]},"19":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":4},"end":{"line":102,"column":4}},{"start":{"line":102,"column":4},"end":{"line":102,"column":4}}]},"20":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":4},"end":{"line":105,"column":4}},{"start":{"line":105,"column":4},"end":{"line":105,"column":4}}]},"21":{"line":122,"type":"cond-expr","locations":[{"start":{"line":122,"column":40},"end":{"line":122,"column":50}},{"start":{"line":123,"column":9},"end":{"line":123,"column":55}}]},"22":{"line":122,"type":"binary-expr","locations":[{"start":{"line":122,"column":10},"end":{"line":122,"column":21}},{"start":{"line":122,"column":25},"end":{"line":122,"column":36}}]},"23":{"line":123,"type":"cond-expr","locations":[{"start":{"line":123,"column":40},"end":{"line":123,"column":50}},{"start":{"line":123,"column":53},"end":{"line":123,"column":55}}]},"24":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":10},"end":{"line":123,"column":21}},{"start":{"line":123,"column":25},"end":{"line":123,"column":36}}]},"25":{"line":127,"type":"cond-expr","locations":[{"start":{"line":127,"column":22},"end":{"line":127,"column":32}},{"start":{"line":127,"column":35},"end":{"line":127,"column":45}}]}},"code":["\"use strict\";","","var bodec = require('bodec');","var PACK = bodec.fromRaw(\"PACK\");","","module.exports = {","  deframer: deframer,","  framer: framer","};","","function deframer(emit) {","  var state = 0;","  var offset = 4;","  var length = 0;","  var data;","  var more = true;","","  return function (item) {","","    // Forward the EOS marker","    if (item === undefined) return emit();","","    // Once we're in pack mode, everything goes straight through","    if (state === 3) return emit(item);","","    // Otherwise parse the data using a state machine.","    for (var i = 0, l = item.length; i < l; i++) {","      var byte = item[i];","      if (state === 0) {","        var val = fromHexChar(byte);","        if (val === -1) {","          if (byte === PACK[0]) {","            offset = 1;","            state = 2;","            continue;","          }","          state = -1;","          throw new SyntaxError(\"Not a hex char: \" + String.fromCharCode(byte));","        }","        length |= val << ((--offset) * 4);","        if (offset === 0) {","          if (length === 4) {","            offset = 4;","            more = emit(\"\");","          }","          else if (length === 0) {","            offset = 4;","            more = emit(null);","          }","          else if (length > 4) {","            length -= 4;","            data = bodec.create(length);","            state = 1;","          }","          else {","            state = -1;","            throw new SyntaxError(\"Invalid length: \" + length);","          }","        }","      }","      else if (state === 1) {","        data[offset++] = byte;","        if (offset === length) {","          offset = 4;","          state = 0;","          length = 0;","          if (data[0] === 1) {","            more = emit(bodec.slice(data, 1));","          }","          else if (data[0] === 2) {","            more = emit({progress: bodec.toUnicode(data, 1)});","          }","          else if (data[0] === 3) {","            more = emit({error: bodec.toUnicode(data, 1)});","          }","          else {","            more = emit(bodec.toUnicode(data).trim());","          }","        }","      }","      else if (state === 2) {","        if (offset < 4 && byte === PACK[offset++]) {","          continue;","        }","        state = 3;","        more = emit(bodec.join([PACK, bodec.subarray(item, i)]));","        break;","      }","      else {","        throw new Error(\"pkt-line decoder in invalid state\");","      }","    }","","    return more;","  };","","}","","function framer(emit) {","  return function (item) {","    if (item === undefined) return emit();","    if (item === null) {","      return emit(bodec.fromRaw(\"0000\"));","    }","    if (typeof item === \"string\") {","      item = bodec.fromUnicode(item);","    }","    return emit(bodec.join([frameHead(item.length + 4), item]));","  };","}","","function frameHead(length) {","  var buffer = bodec.create(4);","  buffer[0] = toHexChar(length >>> 12);","  buffer[1] = toHexChar((length >>> 8) & 0xf);","  buffer[2] = toHexChar((length >>> 4) & 0xf);","  buffer[3] = toHexChar(length & 0xf);","  return buffer;","}","","function fromHexChar(val) {","  return (val >= 0x30 && val <  0x40) ? val - 0x30 :","        ((val >  0x60 && val <= 0x66) ? val - 0x57 : -1);","}","","function toHexChar(val) {","  return val < 0x0a ? val + 0x30 : val + 0x57;","}",""],"l":{"3":1,"4":1,"6":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"18":0,"21":0,"24":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"37":0,"38":0,"40":0,"41":0,"42":0,"43":0,"44":0,"46":0,"47":0,"48":0,"50":0,"51":0,"52":0,"53":0,"56":0,"57":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"70":0,"71":0,"73":0,"74":0,"77":0,"81":0,"82":0,"83":0,"85":0,"86":0,"87":0,"90":0,"94":0,"99":1,"100":0,"101":0,"102":0,"103":0,"105":0,"106":0,"108":0,"112":1,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"121":1,"122":0,"126":1,"127":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/wrap-handler.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/lib/wrap-handler.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"wrapHandler","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":34}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":33}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":9},"end":{"line":17,"column":31}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":5,"column":0},"end":{"line":21,"column":1}},"3":{"start":{"line":6,"column":2},"end":{"line":16,"column":3}},"4":{"start":{"line":7,"column":4},"end":{"line":15,"column":6}},"5":{"start":{"line":8,"column":6},"end":{"line":8,"column":35}},"6":{"start":{"line":8,"column":15},"end":{"line":8,"column":35}},"7":{"start":{"line":9,"column":6},"end":{"line":14,"column":7}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":25}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":28}},"10":{"start":{"line":17,"column":2},"end":{"line":20,"column":4}},"11":{"start":{"line":18,"column":4},"end":{"line":18,"column":23}},"12":{"start":{"line":18,"column":13},"end":{"line":18,"column":23}},"13":{"start":{"line":19,"column":4},"end":{"line":19,"column":21}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":6},"end":{"line":8,"column":6}},{"start":{"line":8,"column":6},"end":{"line":8,"column":6}}]},"3":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":4}},{"start":{"line":18,"column":4},"end":{"line":18,"column":4}}]}},"code":["\"use strict\";","","module.exports = wrapHandler;","","function wrapHandler(fn, onError) {","  if (onError) {","    return function (err, value) {","      if (err) return onError(err);","      try {","        return fn(value);","      }","      catch (err) {","        return onError(err);","      }","    };","  }","  return function (err, value) {","    if (err) throw err;","    return fn(value);","  };","}",""],"l":{"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"13":0,"17":0,"18":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/add-cache.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/add-cache.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":1,"29":0,"30":1,"31":0,"32":0,"33":0,"34":1,"35":0,"36":1,"37":0,"38":0,"39":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"addCache","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}}},"2":{"name":"loadAsCached","line":12,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":46}}},"3":{"name":"onCacheLoad","line":16,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":37}}},"4":{"name":"onLoad","line":27,"loc":{"start":{"line":27,"column":4},"end":{"line":27,"column":32}}},"5":{"name":"onSave","line":34,"loc":{"start":{"line":34,"column":6},"end":{"line":34,"column":27}}},"6":{"name":"saveAsCached","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":42,"column":47}}},"7":{"name":"onSave","line":45,"loc":{"start":{"line":45,"column":4},"end":{"line":45,"column":31}}},"8":{"name":"createTreeCached","line":52,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":47}}},"9":{"name":"onTree","line":55,"loc":{"start":{"line":55,"column":4},"end":{"line":55,"column":37}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":0},"end":{"line":61,"column":1}},"3":{"start":{"line":5,"column":2},"end":{"line":5,"column":27}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":41}},"5":{"start":{"line":6,"column":14},"end":{"line":6,"column":41}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":27}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":41}},"8":{"start":{"line":8,"column":14},"end":{"line":8,"column":41}},"9":{"start":{"line":9,"column":2},"end":{"line":9,"column":35}},"10":{"start":{"line":10,"column":2},"end":{"line":10,"column":53}},"11":{"start":{"line":10,"column":18},"end":{"line":10,"column":53}},"12":{"start":{"line":12,"column":2},"end":{"line":40,"column":3}},"13":{"start":{"line":14,"column":4},"end":{"line":14,"column":42}},"14":{"start":{"line":16,"column":4},"end":{"line":25,"column":5}},"15":{"start":{"line":17,"column":6},"end":{"line":17,"column":36}},"16":{"start":{"line":17,"column":15},"end":{"line":17,"column":36}},"17":{"start":{"line":19,"column":6},"end":{"line":21,"column":7}},"18":{"start":{"line":20,"column":8},"end":{"line":20,"column":43}},"19":{"start":{"line":24,"column":6},"end":{"line":24,"column":44}},"20":{"start":{"line":27,"column":4},"end":{"line":39,"column":5}},"21":{"start":{"line":28,"column":6},"end":{"line":28,"column":52}},"22":{"start":{"line":28,"column":31},"end":{"line":28,"column":52}},"23":{"start":{"line":32,"column":6},"end":{"line":32,"column":46}},"24":{"start":{"line":34,"column":6},"end":{"line":38,"column":7}},"25":{"start":{"line":35,"column":8},"end":{"line":35,"column":38}},"26":{"start":{"line":35,"column":17},"end":{"line":35,"column":38}},"27":{"start":{"line":37,"column":8},"end":{"line":37,"column":36}},"28":{"start":{"line":42,"column":2},"end":{"line":50,"column":3}},"29":{"start":{"line":43,"column":4},"end":{"line":43,"column":43}},"30":{"start":{"line":45,"column":4},"end":{"line":49,"column":5}},"31":{"start":{"line":46,"column":6},"end":{"line":46,"column":36}},"32":{"start":{"line":46,"column":15},"end":{"line":46,"column":36}},"33":{"start":{"line":48,"column":6},"end":{"line":48,"column":48}},"34":{"start":{"line":52,"column":2},"end":{"line":59,"column":3}},"35":{"start":{"line":53,"column":4},"end":{"line":53,"column":43}},"36":{"start":{"line":55,"column":4},"end":{"line":58,"column":5}},"37":{"start":{"line":56,"column":6},"end":{"line":56,"column":36}},"38":{"start":{"line":56,"column":15},"end":{"line":56,"column":36}},"39":{"start":{"line":57,"column":6},"end":{"line":57,"column":49}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"3":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]},"4":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":6},"end":{"line":17,"column":6}},{"start":{"line":17,"column":6},"end":{"line":17,"column":6}}]},"5":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":6}},{"start":{"line":19,"column":6},"end":{"line":19,"column":6}}]},"6":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":6},"end":{"line":28,"column":6}},{"start":{"line":28,"column":6},"end":{"line":28,"column":6}}]},"7":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":8}},{"start":{"line":35,"column":8},"end":{"line":35,"column":8}}]},"8":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":6},"end":{"line":46,"column":6}},{"start":{"line":46,"column":6},"end":{"line":46,"column":6}}]},"9":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":6},"end":{"line":56,"column":6}},{"start":{"line":56,"column":6},"end":{"line":56,"column":6}}]}},"code":["\"use strict\";","","module.exports = addCache;","function addCache(repo, cache) {","  var loadAs = repo.loadAs;","  if (loadAs) repo.loadAs = loadAsCached;","  var saveAs = repo.saveAs;","  if (saveAs) repo.saveAs = saveAsCached;","  var createTree = repo.createTree;","  if (createTree) repo.createTree = createTreeCached;","","  function loadAsCached(type, hash, callback) {","    // Next check in disk cache...","    cache.loadAs(type, hash, onCacheLoad);","","    function onCacheLoad(err, value) {","      if (err) return callback(err);","      // ...and return if it's there.","      if (value !== undefined) {","        return callback(null, value, hash);","      }","","      // Otherwise load from real data source...","      loadAs.call(repo, type, hash, onLoad);","    }","","    function onLoad(err, value) {","      if (value === undefined) return callback(err);","","      // Store it on disk too...","      // Force the hash to prevent mismatches.","      cache.saveAs(type, value, onSave, hash);","","      function onSave(err) {","        if (err) return callback(err);","        // Finally return the value to caller.","        callback(null, value, hash);","      }","    }","  }","","  function saveAsCached(type, value, callback) {","    saveAs.call(repo, type, value, onSave);","","    function onSave(err, hash) {","      if (err) return callback(err);","      // Store in disk, forcing hash to match.","      cache.saveAs(type, value, callback, hash);","    }","  }","","  function createTreeCached(entries, callback) {","    createTree.call(repo, entries, onTree);","","    function onTree(err, hash, tree) {","      if (err) return callback(err);","      cache.saveAs(\"tree\", tree, callback, hash);","    }","  }","","}",""],"l":{"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"12":1,"14":0,"16":1,"17":0,"19":0,"20":0,"24":0,"27":1,"28":0,"32":0,"34":1,"35":0,"37":0,"42":1,"43":0,"45":1,"46":0,"48":0,"52":1,"53":0,"55":1,"56":0,"57":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/create-tree.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/create-tree.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":1,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":17},"end":{"line":5,"column":33}}},"2":{"name":"createTree","line":8,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":41}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":41},"end":{"line":12,"column":57}}},"4":{"name":"markTree","line":21,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":28}}},"5":{"name":"(anonymous_5)","line":43,"loc":{"start":{"line":43,"column":20},"end":{"line":43,"column":37}}},"6":{"name":"(anonymous_6)","line":64,"loc":{"start":{"line":64,"column":41},"end":{"line":64,"column":62}}},"7":{"name":"loadTree","line":77,"loc":{"start":{"line":77,"column":4},"end":{"line":77,"column":34}}},"8":{"name":"(anonymous_8)","line":80,"loc":{"start":{"line":80,"column":32},"end":{"line":80,"column":53}}},"9":{"name":"(anonymous_9)","line":83,"loc":{"start":{"line":83,"column":34},"end":{"line":83,"column":50}}},"10":{"name":"check","line":91,"loc":{"start":{"line":91,"column":4},"end":{"line":91,"column":21}}},"11":{"name":"processLeaf","line":96,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":31}}},"12":{"name":"(anonymous_12)","line":100,"loc":{"start":{"line":100,"column":24},"end":{"line":100,"column":40}}},"13":{"name":"(anonymous_13)","line":103,"loc":{"start":{"line":103,"column":24},"end":{"line":103,"column":40}}},"14":{"name":"(anonymous_14)","line":110,"loc":{"start":{"line":110,"column":32},"end":{"line":110,"column":59}}},"15":{"name":"findLeaves","line":126,"loc":{"start":{"line":126,"column":4},"end":{"line":126,"column":26}}},"16":{"name":"(anonymous_16)","line":129,"loc":{"start":{"line":129,"column":20},"end":{"line":129,"column":36}}},"17":{"name":"(anonymous_17)","line":134,"loc":{"start":{"line":134,"column":26},"end":{"line":134,"column":42}}},"18":{"name":"singleCall","line":141,"loc":{"start":{"line":141,"column":0},"end":{"line":141,"column":30}}},"19":{"name":"(anonymous_19)","line":143,"loc":{"start":{"line":143,"column":9},"end":{"line":143,"column":21}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}},"2":{"start":{"line":5,"column":0},"end":{"line":139,"column":2}},"3":{"start":{"line":6,"column":2},"end":{"line":6,"column":31}},"4":{"start":{"line":8,"column":2},"end":{"line":138,"column":3}},"5":{"start":{"line":9,"column":4},"end":{"line":9,"column":57}},"6":{"start":{"line":9,"column":19},"end":{"line":9,"column":57}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":36}},"8":{"start":{"line":11,"column":4},"end":{"line":17,"column":5}},"9":{"start":{"line":12,"column":6},"end":{"line":16,"column":9}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":34}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":26}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":21}},"13":{"start":{"line":20,"column":4},"end":{"line":20,"column":20}},"14":{"start":{"line":21,"column":4},"end":{"line":33,"column":5}},"15":{"start":{"line":22,"column":6},"end":{"line":32,"column":7}},"16":{"start":{"line":23,"column":8},"end":{"line":23,"column":33}},"17":{"start":{"line":23,"column":26},"end":{"line":23,"column":33}},"18":{"start":{"line":24,"column":8},"end":{"line":24,"column":28}},"19":{"start":{"line":25,"column":8},"end":{"line":29,"column":10}},"20":{"start":{"line":30,"column":8},"end":{"line":30,"column":25}},"21":{"start":{"line":30,"column":19},"end":{"line":30,"column":25}},"22":{"start":{"line":31,"column":8},"end":{"line":31,"column":56}},"23":{"start":{"line":36,"column":4},"end":{"line":36,"column":19}},"24":{"start":{"line":39,"column":4},"end":{"line":39,"column":17}},"25":{"start":{"line":43,"column":4},"end":{"line":69,"column":7}},"26":{"start":{"line":44,"column":6},"end":{"line":44,"column":46}},"27":{"start":{"line":45,"column":6},"end":{"line":45,"column":51}},"28":{"start":{"line":46,"column":6},"end":{"line":46,"column":46}},"29":{"start":{"line":47,"column":6},"end":{"line":47,"column":27}},"30":{"start":{"line":48,"column":6},"end":{"line":48,"column":35}},"31":{"start":{"line":49,"column":6},"end":{"line":49,"column":26}},"32":{"start":{"line":50,"column":6},"end":{"line":50,"column":26}},"33":{"start":{"line":52,"column":6},"end":{"line":55,"column":7}},"34":{"start":{"line":53,"column":8},"end":{"line":53,"column":24}},"35":{"start":{"line":54,"column":8},"end":{"line":54,"column":15}},"36":{"start":{"line":56,"column":6},"end":{"line":60,"column":8}},"37":{"start":{"line":61,"column":6},"end":{"line":61,"column":21}},"38":{"start":{"line":62,"column":6},"end":{"line":62,"column":29}},"39":{"start":{"line":62,"column":22},"end":{"line":62,"column":29}},"40":{"start":{"line":63,"column":6},"end":{"line":63,"column":13}},"41":{"start":{"line":64,"column":6},"end":{"line":68,"column":9}},"42":{"start":{"line":65,"column":8},"end":{"line":65,"column":38}},"43":{"start":{"line":65,"column":17},"end":{"line":65,"column":38}},"44":{"start":{"line":66,"column":8},"end":{"line":66,"column":24}},"45":{"start":{"line":67,"column":8},"end":{"line":67,"column":16}},"46":{"start":{"line":72,"column":4},"end":{"line":72,"column":49}},"47":{"start":{"line":72,"column":22},"end":{"line":72,"column":49}},"48":{"start":{"line":75,"column":4},"end":{"line":75,"column":12}},"49":{"start":{"line":77,"column":4},"end":{"line":89,"column":5}},"50":{"start":{"line":78,"column":6},"end":{"line":78,"column":13}},"51":{"start":{"line":79,"column":6},"end":{"line":79,"column":26}},"52":{"start":{"line":80,"column":6},"end":{"line":88,"column":9}},"53":{"start":{"line":81,"column":8},"end":{"line":81,"column":38}},"54":{"start":{"line":81,"column":17},"end":{"line":81,"column":38}},"55":{"start":{"line":82,"column":8},"end":{"line":82,"column":32}},"56":{"start":{"line":83,"column":8},"end":{"line":86,"column":11}},"57":{"start":{"line":84,"column":10},"end":{"line":84,"column":58}},"58":{"start":{"line":85,"column":10},"end":{"line":85,"column":70}},"59":{"start":{"line":85,"column":33},"end":{"line":85,"column":70}},"60":{"start":{"line":87,"column":8},"end":{"line":87,"column":16}},"61":{"start":{"line":91,"column":4},"end":{"line":94,"column":5}},"62":{"start":{"line":92,"column":6},"end":{"line":92,"column":25}},"63":{"start":{"line":92,"column":18},"end":{"line":92,"column":25}},"64":{"start":{"line":93,"column":6},"end":{"line":93,"column":40}},"65":{"start":{"line":96,"column":4},"end":{"line":124,"column":5}},"66":{"start":{"line":97,"column":6},"end":{"line":97,"column":30}},"67":{"start":{"line":98,"column":6},"end":{"line":98,"column":25}},"68":{"start":{"line":99,"column":6},"end":{"line":99,"column":28}},"69":{"start":{"line":100,"column":6},"end":{"line":102,"column":9}},"70":{"start":{"line":101,"column":8},"end":{"line":101,"column":26}},"71":{"start":{"line":103,"column":6},"end":{"line":108,"column":9}},"72":{"start":{"line":104,"column":8},"end":{"line":107,"column":10}},"73":{"start":{"line":109,"column":6},"end":{"line":109,"column":13}},"74":{"start":{"line":110,"column":6},"end":{"line":123,"column":9}},"75":{"start":{"line":111,"column":8},"end":{"line":111,"column":38}},"76":{"start":{"line":111,"column":17},"end":{"line":111,"column":38}},"77":{"start":{"line":112,"column":8},"end":{"line":112,"column":53}},"78":{"start":{"line":112,"column":19},"end":{"line":112,"column":53}},"79":{"start":{"line":113,"column":8},"end":{"line":113,"column":42}},"80":{"start":{"line":114,"column":8},"end":{"line":114,"column":50}},"81":{"start":{"line":115,"column":8},"end":{"line":115,"column":45}},"82":{"start":{"line":116,"column":8},"end":{"line":120,"column":11}},"83":{"start":{"line":121,"column":8},"end":{"line":121,"column":27}},"84":{"start":{"line":121,"column":20},"end":{"line":121,"column":27}},"85":{"start":{"line":122,"column":8},"end":{"line":122,"column":42}},"86":{"start":{"line":126,"column":4},"end":{"line":137,"column":5}},"87":{"start":{"line":127,"column":6},"end":{"line":127,"column":37}},"88":{"start":{"line":128,"column":6},"end":{"line":128,"column":23}},"89":{"start":{"line":129,"column":6},"end":{"line":133,"column":9}},"90":{"start":{"line":130,"column":8},"end":{"line":130,"column":26}},"91":{"start":{"line":130,"column":19},"end":{"line":130,"column":26}},"92":{"start":{"line":131,"column":8},"end":{"line":131,"column":62}},"93":{"start":{"line":132,"column":8},"end":{"line":132,"column":31}},"94":{"start":{"line":134,"column":6},"end":{"line":136,"column":9}},"95":{"start":{"line":135,"column":8},"end":{"line":135,"column":30}},"96":{"start":{"line":141,"column":0},"end":{"line":148,"column":1}},"97":{"start":{"line":142,"column":2},"end":{"line":142,"column":19}},"98":{"start":{"line":143,"column":2},"end":{"line":147,"column":4}},"99":{"start":{"line":144,"column":4},"end":{"line":144,"column":63}},"100":{"start":{"line":144,"column":14},"end":{"line":144,"column":63}},"101":{"start":{"line":145,"column":4},"end":{"line":145,"column":16}},"102":{"start":{"line":146,"column":4},"end":{"line":146,"column":43}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":4}},{"start":{"line":9,"column":4},"end":{"line":9,"column":4}}]},"2":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":23,"column":8}},{"start":{"line":23,"column":8},"end":{"line":23,"column":8}}]},"4":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":30,"column":8}},{"start":{"line":30,"column":8},"end":{"line":30,"column":8}}]},"5":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":6},"end":{"line":52,"column":6}},{"start":{"line":52,"column":6},"end":{"line":52,"column":6}}]},"6":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":6},"end":{"line":62,"column":6}},{"start":{"line":62,"column":6},"end":{"line":62,"column":6}}]},"7":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":8},"end":{"line":65,"column":8}},{"start":{"line":65,"column":8},"end":{"line":65,"column":8}}]},"8":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":4}},{"start":{"line":72,"column":4},"end":{"line":72,"column":4}}]},"9":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":8},"end":{"line":81,"column":8}},{"start":{"line":81,"column":8},"end":{"line":81,"column":8}}]},"10":{"line":84,"type":"cond-expr","locations":[{"start":{"line":84,"column":33},"end":{"line":84,"column":50}},{"start":{"line":84,"column":53},"end":{"line":84,"column":57}}]},"11":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":10},"end":{"line":85,"column":10}},{"start":{"line":85,"column":10},"end":{"line":85,"column":10}}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":6},"end":{"line":92,"column":6}},{"start":{"line":92,"column":6},"end":{"line":92,"column":6}}]},"13":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":8},"end":{"line":111,"column":8}},{"start":{"line":111,"column":8},"end":{"line":111,"column":8}}]},"14":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":8},"end":{"line":112,"column":8}},{"start":{"line":112,"column":8},"end":{"line":112,"column":8}}]},"15":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":8},"end":{"line":121,"column":8}},{"start":{"line":121,"column":8},"end":{"line":121,"column":8}}]},"16":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":8},"end":{"line":130,"column":8}},{"start":{"line":130,"column":8},"end":{"line":130,"column":8}}]},"17":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":4},"end":{"line":144,"column":4}},{"start":{"line":144,"column":4},"end":{"line":144,"column":4}}]}},"code":["\"use strict\";","","var modes = require('../lib/modes.js');","","module.exports = function (repo) {","  repo.createTree = createTree;","","  function createTree(entries, callback) {","    if (!callback) return createTree.bind(null, entries);","    callback = singleCall(callback);","    if (!Array.isArray(entries)) {","      entries = Object.keys(entries).map(function (path) {","        var entry = entries[path];","        entry.path = path;","        return entry;","      });","    }","","    // Tree paths that we need loaded","    var toLoad = {};","    function markTree(path) {","      while(true) {","        if (toLoad[path]) return;","        toLoad[path] = true;","        trees[path] = {","          add: [],","          del: [],","          tree: {}","        };","        if (!path) break;","        path = path.substring(0, path.lastIndexOf(\"/\"));","      }","    }","","    // Commands to run organized by tree path","    var trees = {};","","    // Counter for parallel I/O operations","    var left = 1; // One extra counter to protect again zalgo cache callbacks.","","    // First pass, stubs out the trees structure, sorts adds from deletes,","    // and saves any inline content blobs.","    entries.forEach(function (entry) {","      var index = entry.path.lastIndexOf(\"/\");","      var parentPath = entry.path.substr(0, index);","      var name = entry.path.substr(index + 1);","      markTree(parentPath);","      var tree = trees[parentPath];","      var adds = tree.add;","      var dels = tree.del;","","      if (!entry.mode) {","        dels.push(name);","        return;","      }","      var add = {","        name: name,","        mode: entry.mode,","        hash: entry.hash","      };","      adds.push(add);","      if (entry.hash) return;","      left++;","      repo.saveAs(\"blob\", entry.content, function (err, hash) {","        if (err) return callback(err);","        add.hash = hash;","        check();","      });","    });","","    // Preload the base trees","    if (entries.base) loadTree(\"\", entries.base);","","    // Check just in case there was no IO to perform","    check();","","    function loadTree(path, hash) {","      left++;","      delete toLoad[path];","      repo.loadAs(\"tree\", hash, function (err, tree) {","        if (err) return callback(err);","        trees[path].tree = tree;","        Object.keys(tree).forEach(function (name) {","          var childPath = path ? path + \"/\" + name : name;","          if (toLoad[childPath]) loadTree(childPath, tree[name].hash);","        });","        check();","      });","    }","","    function check() {","      if (--left) return;","      findLeaves().forEach(processLeaf);","    }","","    function processLeaf(path) {","      var entry = trees[path];","      delete trees[path];","      var tree = entry.tree;","      entry.del.forEach(function (name) {","        delete tree[name];","      });","      entry.add.forEach(function (item) {","        tree[item.name] = {","          mode: item.mode,","          hash: item.hash","        };","      });","      left++;","      repo.saveAs(\"tree\", tree, function (err, hash, tree) {","        if (err) return callback(err);","        if (!path) return callback(null, hash, tree);","        var index = path.lastIndexOf(\"/\");","        var parentPath = path.substring(0, index);","        var name = path.substring(index + 1);","        trees[parentPath].add.push({","          name: name,","          mode: modes.tree,","          hash: hash","        });","        if (--left) return;","        findLeaves().forEach(processLeaf);","      });","    }","","    function findLeaves() {","      var paths = Object.keys(trees);","      var parents = {};","      paths.forEach(function (path) {","        if (!path) return;","        var parent = path.substring(0, path.lastIndexOf(\"/\"));","        parents[parent] = true;","      });","      return paths.filter(function (path) {","        return !parents[path];","      });","    }","  }","};","","function singleCall(callback) {","  var done = false;","  return function () {","    if (done) return console.warn(\"Discarding extra callback\");","    done = true;","    return callback.apply(this, arguments);","  };","}",""],"l":{"3":1,"5":1,"6":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"30":0,"31":0,"36":0,"39":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"52":0,"53":0,"54":0,"56":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"72":0,"75":0,"77":1,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"87":0,"91":1,"92":0,"93":0,"96":1,"97":0,"98":0,"99":0,"100":0,"101":0,"103":0,"104":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"121":0,"122":0,"126":1,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"134":0,"135":0,"141":1,"142":0,"143":0,"144":0,"145":0,"146":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/delay.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/delay.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":37}}},"2":{"name":"saveAsDelayed","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":48}}},"3":{"name":"(anonymous_3)","line":18,"loc":{"start":{"line":18,"column":15},"end":{"line":18,"column":27}}},"4":{"name":"loadAsDelayed","line":23,"loc":{"start":{"line":23,"column":2},"end":{"line":23,"column":47}}},"5":{"name":"(anonymous_5)","line":25,"loc":{"start":{"line":25,"column":15},"end":{"line":25,"column":27}}},"6":{"name":"readRefDelayed","line":30,"loc":{"start":{"line":30,"column":2},"end":{"line":30,"column":41}}},"7":{"name":"(anonymous_7)","line":32,"loc":{"start":{"line":32,"column":15},"end":{"line":32,"column":27}}},"8":{"name":"updateRefDelayed","line":37,"loc":{"start":{"line":37,"column":2},"end":{"line":37,"column":49}}},"9":{"name":"(anonymous_9)","line":39,"loc":{"start":{"line":39,"column":15},"end":{"line":39,"column":27}}},"10":{"name":"createTreeDelayed","line":44,"loc":{"start":{"line":44,"column":2},"end":{"line":44,"column":48}}},"11":{"name":"(anonymous_11)","line":46,"loc":{"start":{"line":46,"column":15},"end":{"line":46,"column":27}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":51,"column":2}},"2":{"start":{"line":4,"column":2},"end":{"line":4,"column":27}},"3":{"start":{"line":5,"column":2},"end":{"line":5,"column":27}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":29}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":33}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":35}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":30}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":30}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":32}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":36}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":54}},"12":{"start":{"line":14,"column":18},"end":{"line":14,"column":54}},"13":{"start":{"line":16,"column":2},"end":{"line":21,"column":3}},"14":{"start":{"line":17,"column":4},"end":{"line":17,"column":64}},"15":{"start":{"line":17,"column":19},"end":{"line":17,"column":64}},"16":{"start":{"line":18,"column":4},"end":{"line":20,"column":11}},"17":{"start":{"line":19,"column":6},"end":{"line":19,"column":54}},"18":{"start":{"line":23,"column":2},"end":{"line":28,"column":3}},"19":{"start":{"line":24,"column":4},"end":{"line":24,"column":63}},"20":{"start":{"line":24,"column":19},"end":{"line":24,"column":63}},"21":{"start":{"line":25,"column":4},"end":{"line":27,"column":11}},"22":{"start":{"line":26,"column":6},"end":{"line":26,"column":53}},"23":{"start":{"line":30,"column":2},"end":{"line":35,"column":3}},"24":{"start":{"line":31,"column":4},"end":{"line":31,"column":57}},"25":{"start":{"line":31,"column":19},"end":{"line":31,"column":57}},"26":{"start":{"line":32,"column":4},"end":{"line":34,"column":11}},"27":{"start":{"line":33,"column":6},"end":{"line":33,"column":47}},"28":{"start":{"line":37,"column":2},"end":{"line":42,"column":3}},"29":{"start":{"line":38,"column":4},"end":{"line":38,"column":65}},"30":{"start":{"line":38,"column":19},"end":{"line":38,"column":65}},"31":{"start":{"line":39,"column":4},"end":{"line":41,"column":11}},"32":{"start":{"line":40,"column":6},"end":{"line":40,"column":55}},"33":{"start":{"line":44,"column":2},"end":{"line":49,"column":3}},"34":{"start":{"line":45,"column":4},"end":{"line":45,"column":64}},"35":{"start":{"line":45,"column":19},"end":{"line":45,"column":64}},"36":{"start":{"line":46,"column":4},"end":{"line":48,"column":11}},"37":{"start":{"line":47,"column":6},"end":{"line":47,"column":54}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":14,"column":2}},{"start":{"line":14,"column":2},"end":{"line":14,"column":2}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]},"3":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":4}},{"start":{"line":24,"column":4},"end":{"line":24,"column":4}}]},"4":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]},"5":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":4},"end":{"line":38,"column":4}},{"start":{"line":38,"column":4},"end":{"line":38,"column":4}}]},"6":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":45,"column":4}},{"start":{"line":45,"column":4},"end":{"line":45,"column":4}}]}},"code":["\"use strict\";","","module.exports = function (repo, ms) {","  var saveAs = repo.saveAs;","  var loadAs = repo.loadAs;","  var readRef = repo.readRef;","  var updateRef = repo.updateRef;","  var createTree = repo.createTree;","","  repo.saveAs = saveAsDelayed;","  repo.loadAs = loadAsDelayed;","  repo.readRef = readRefDelayed;","  repo.updateRed = updateRefDelayed;","  if (createTree) repo.createTree = createTreeDelayed;","","  function saveAsDelayed(type, value, callback) {","    if (!callback) return saveAsDelayed.bind(repo, type, value);","    setTimeout(function () {","      return saveAs.call(repo, type, value, callback);","    }, ms);","  }","","  function loadAsDelayed(type, hash, callback) {","    if (!callback) return loadAsDelayed.bind(repo, type, hash);","    setTimeout(function () {","      return loadAs.call(repo, type, hash, callback);","    }, ms);","  }","","  function readRefDelayed(ref, callback) {","    if (!callback) return readRefDelayed.bind(repo, ref);","    setTimeout(function () {","      return readRef.call(repo, ref, callback);","    }, ms);","  }","","  function updateRefDelayed(ref, hash, callback) {","    if (!callback) return updateRefDelayed.bind(repo, ref, hash);","    setTimeout(function () {","      return updateRef.call(repo, ref, hash, callback);","    }, ms);","  }","","  function createTreeDelayed(entries, callback) {","    if (!callback) return createTreeDelayed.bind(repo, entries);","    setTimeout(function () {","      return createTree.call(repo, entries, callback);","    }, ms);","  }","","};",""],"l":{"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"10":0,"11":0,"12":0,"13":0,"14":0,"16":1,"17":0,"18":0,"19":0,"23":1,"24":0,"25":0,"26":0,"30":1,"31":0,"32":0,"33":0,"37":1,"38":0,"39":0,"40":0,"44":1,"45":0,"46":0,"47":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/fall-through.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/fall-through.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":42}}},"2":{"name":"newLoadAs","line":6,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":43}}},"3":{"name":"(anonymous_3)","line":8,"loc":{"start":{"line":8,"column":35},"end":{"line":8,"column":56}}},"4":{"name":"newReadRef","line":17,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":37}}},"5":{"name":"(anonymous_5)","line":19,"loc":{"start":{"line":19,"column":29},"end":{"line":19,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":3,"column":0},"end":{"line":26,"column":2}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":28}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":27}},"5":{"start":{"line":6,"column":2},"end":{"line":13,"column":3}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":60}},"7":{"start":{"line":7,"column":19},"end":{"line":7,"column":60}},"8":{"start":{"line":8,"column":4},"end":{"line":12,"column":7}},"9":{"start":{"line":9,"column":6},"end":{"line":9,"column":36}},"10":{"start":{"line":9,"column":15},"end":{"line":9,"column":36}},"11":{"start":{"line":10,"column":6},"end":{"line":10,"column":73}},"12":{"start":{"line":10,"column":30},"end":{"line":10,"column":73}},"13":{"start":{"line":11,"column":6},"end":{"line":11,"column":27}},"14":{"start":{"line":15,"column":2},"end":{"line":15,"column":30}},"15":{"start":{"line":16,"column":2},"end":{"line":16,"column":29}},"16":{"start":{"line":17,"column":2},"end":{"line":24,"column":3}},"17":{"start":{"line":18,"column":4},"end":{"line":18,"column":54}},"18":{"start":{"line":18,"column":19},"end":{"line":18,"column":54}},"19":{"start":{"line":19,"column":4},"end":{"line":23,"column":7}},"20":{"start":{"line":20,"column":6},"end":{"line":20,"column":36}},"21":{"start":{"line":20,"column":15},"end":{"line":20,"column":36}},"22":{"start":{"line":21,"column":6},"end":{"line":21,"column":67}},"23":{"start":{"line":21,"column":30},"end":{"line":21,"column":67}},"24":{"start":{"line":22,"column":6},"end":{"line":22,"column":27}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":7,"column":4}},{"start":{"line":7,"column":4},"end":{"line":7,"column":4}}]},"2":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":6},"end":{"line":9,"column":6}},{"start":{"line":9,"column":6},"end":{"line":9,"column":6}}]},"3":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":6},"end":{"line":10,"column":6}},{"start":{"line":10,"column":6},"end":{"line":10,"column":6}}]},"4":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":4}},{"start":{"line":18,"column":4},"end":{"line":18,"column":4}}]},"5":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":6},"end":{"line":20,"column":6}},{"start":{"line":20,"column":6},"end":{"line":20,"column":6}}]},"6":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":6},"end":{"line":21,"column":6}},{"start":{"line":21,"column":6},"end":{"line":21,"column":6}}]}},"code":["var modes = require('../lib/modes');","","module.exports = function (local, remote) {","  var loadAs = local.loadAs;","  local.loadAs = newLoadAs;","  function newLoadAs(type, hash, callback) {","    if (!callback) return newLoadAs.bind(local. type, hash);","    loadAs.call(local, type, hash, function (err, body) {","      if (err) return callback(err);","      if (body === undefined) return remote.loadAs(type, hash, callback);","      callback(null, body);","    });","  }","","  var readRef = local.readRef;","  local.readRef = newReadRef;","  function newReadRef(ref, callback) {","    if (!callback) return newReadRef.bind(local. ref);","    readRef.call(local, ref, function (err, body) {","      if (err) return callback(err);","      if (body === undefined) return remote.readRef(ref, callback);","      callback(null, body);","    });","  }","","};",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/formats.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/formats.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0,0,0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":33}}},"2":{"name":"newLoadAs","line":12,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":43}}},"3":{"name":"onLoad","line":18,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":37}}},"4":{"name":"newSaveAs","line":26,"loc":{"start":{"line":26,"column":2},"end":{"line":26,"column":43}}},"5":{"name":"toArray","line":49,"loc":{"start":{"line":49,"column":0},"end":{"line":49,"column":23}}},"6":{"name":"normalizeTree","line":53,"loc":{"start":{"line":53,"column":0},"end":{"line":53,"column":29}}},"7":{"name":"normalizeCommit","line":83,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":31}}},"8":{"name":"normalizeTag","line":105,"loc":{"start":{"line":105,"column":0},"end":{"line":105,"column":28}}},"9":{"name":"normalizePerson","line":121,"loc":{"start":{"line":121,"column":0},"end":{"line":121,"column":33}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":53}},"3":{"start":{"line":6,"column":0},"end":{"line":47,"column":2}},"4":{"start":{"line":7,"column":2},"end":{"line":7,"column":27}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":26}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":27}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":26}},"8":{"start":{"line":12,"column":2},"end":{"line":24,"column":3}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":59}},"10":{"start":{"line":13,"column":19},"end":{"line":13,"column":59}},"11":{"start":{"line":14,"column":4},"end":{"line":15,"column":52}},"12":{"start":{"line":16,"column":4},"end":{"line":16,"column":53}},"13":{"start":{"line":18,"column":4},"end":{"line":23,"column":5}},"14":{"start":{"line":19,"column":6},"end":{"line":19,"column":51}},"15":{"start":{"line":19,"column":30},"end":{"line":19,"column":51}},"16":{"start":{"line":20,"column":6},"end":{"line":20,"column":56}},"17":{"start":{"line":20,"column":27},"end":{"line":20,"column":56}},"18":{"start":{"line":21,"column":6},"end":{"line":21,"column":49}},"19":{"start":{"line":21,"column":28},"end":{"line":21,"column":49}},"20":{"start":{"line":22,"column":6},"end":{"line":22,"column":39}},"21":{"start":{"line":26,"column":2},"end":{"line":45,"column":3}},"22":{"start":{"line":27,"column":4},"end":{"line":27,"column":59}},"23":{"start":{"line":27,"column":19},"end":{"line":27,"column":59}},"24":{"start":{"line":28,"column":4},"end":{"line":29,"column":44}},"25":{"start":{"line":30,"column":4},"end":{"line":43,"column":5}},"26":{"start":{"line":31,"column":6},"end":{"line":33,"column":7}},"27":{"start":{"line":32,"column":8},"end":{"line":32,"column":39}},"28":{"start":{"line":35,"column":9},"end":{"line":43,"column":5}},"29":{"start":{"line":36,"column":6},"end":{"line":36,"column":33}},"30":{"start":{"line":38,"column":9},"end":{"line":43,"column":5}},"31":{"start":{"line":39,"column":6},"end":{"line":39,"column":35}},"32":{"start":{"line":41,"column":9},"end":{"line":43,"column":5}},"33":{"start":{"line":42,"column":6},"end":{"line":42,"column":32}},"34":{"start":{"line":44,"column":4},"end":{"line":44,"column":51}},"35":{"start":{"line":49,"column":0},"end":{"line":51,"column":1}},"36":{"start":{"line":50,"column":2},"end":{"line":50,"column":46}},"37":{"start":{"line":53,"column":0},"end":{"line":81,"column":1}},"38":{"start":{"line":54,"column":2},"end":{"line":54,"column":33}},"39":{"start":{"line":55,"column":2},"end":{"line":57,"column":3}},"40":{"start":{"line":56,"column":4},"end":{"line":56,"column":61}},"41":{"start":{"line":58,"column":2},"end":{"line":58,"column":29}},"42":{"start":{"line":60,"column":2},"end":{"line":79,"column":3}},"43":{"start":{"line":61,"column":4},"end":{"line":67,"column":5}},"44":{"start":{"line":62,"column":6},"end":{"line":62,"column":22}},"45":{"start":{"line":63,"column":6},"end":{"line":66,"column":8}},"46":{"start":{"line":70,"column":4},"end":{"line":70,"column":34}},"47":{"start":{"line":71,"column":4},"end":{"line":78,"column":5}},"48":{"start":{"line":72,"column":6},"end":{"line":72,"column":26}},"49":{"start":{"line":73,"column":6},"end":{"line":73,"column":25}},"50":{"start":{"line":74,"column":6},"end":{"line":77,"column":8}},"51":{"start":{"line":80,"column":2},"end":{"line":80,"column":14}},"52":{"start":{"line":83,"column":0},"end":{"line":103,"column":1}},"53":{"start":{"line":84,"column":2},"end":{"line":86,"column":3}},"54":{"start":{"line":85,"column":4},"end":{"line":85,"column":57}},"55":{"start":{"line":87,"column":2},"end":{"line":89,"column":3}},"56":{"start":{"line":88,"column":4},"end":{"line":88,"column":78}},"57":{"start":{"line":90,"column":2},"end":{"line":90,"column":69}},"58":{"start":{"line":91,"column":2},"end":{"line":93,"column":3}},"59":{"start":{"line":92,"column":4},"end":{"line":92,"column":52}},"60":{"start":{"line":94,"column":2},"end":{"line":94,"column":44}},"61":{"start":{"line":95,"column":2},"end":{"line":95,"column":76}},"62":{"start":{"line":96,"column":2},"end":{"line":102,"column":4}},"63":{"start":{"line":105,"column":0},"end":{"line":119,"column":1}},"64":{"start":{"line":106,"column":2},"end":{"line":108,"column":3}},"65":{"start":{"line":107,"column":4},"end":{"line":107,"column":54}},"66":{"start":{"line":109,"column":2},"end":{"line":111,"column":3}},"67":{"start":{"line":110,"column":4},"end":{"line":110,"column":75}},"68":{"start":{"line":112,"column":2},"end":{"line":118,"column":4}},"69":{"start":{"line":121,"column":0},"end":{"line":133,"column":1}},"70":{"start":{"line":122,"column":2},"end":{"line":124,"column":3}},"71":{"start":{"line":123,"column":4},"end":{"line":123,"column":52}},"72":{"start":{"line":125,"column":2},"end":{"line":127,"column":3}},"73":{"start":{"line":126,"column":4},"end":{"line":126,"column":73}},"74":{"start":{"line":128,"column":2},"end":{"line":132,"column":4}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":4}},{"start":{"line":13,"column":4},"end":{"line":13,"column":4}}]},"2":{"line":14,"type":"cond-expr","locations":[{"start":{"line":14,"column":37},"end":{"line":14,"column":43}},{"start":{"line":15,"column":19},"end":{"line":15,"column":51}}]},"3":{"line":15,"type":"cond-expr","locations":[{"start":{"line":15,"column":38},"end":{"line":15,"column":44}},{"start":{"line":15,"column":47},"end":{"line":15,"column":51}}]},"4":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":6}},{"start":{"line":19,"column":6},"end":{"line":19,"column":6}}]},"5":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":6},"end":{"line":20,"column":6}},{"start":{"line":20,"column":6},"end":{"line":20,"column":6}}]},"6":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":6},"end":{"line":21,"column":6}},{"start":{"line":21,"column":6},"end":{"line":21,"column":6}}]},"7":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":4}},{"start":{"line":27,"column":4},"end":{"line":27,"column":4}}]},"8":{"line":28,"type":"cond-expr","locations":[{"start":{"line":28,"column":29},"end":{"line":28,"column":35}},{"start":{"line":29,"column":11},"end":{"line":29,"column":43}}]},"9":{"line":29,"type":"cond-expr","locations":[{"start":{"line":29,"column":30},"end":{"line":29,"column":36}},{"start":{"line":29,"column":39},"end":{"line":29,"column":43}}]},"10":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":4}},{"start":{"line":30,"column":4},"end":{"line":30,"column":4}}]},"11":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":6},"end":{"line":31,"column":6}},{"start":{"line":31,"column":6},"end":{"line":31,"column":6}}]},"12":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":9},"end":{"line":35,"column":9}},{"start":{"line":35,"column":9},"end":{"line":35,"column":9}}]},"13":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":9},"end":{"line":38,"column":9}},{"start":{"line":38,"column":9},"end":{"line":38,"column":9}}]},"14":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":9},"end":{"line":41,"column":9}},{"start":{"line":41,"column":9},"end":{"line":41,"column":9}}]},"15":{"line":54,"type":"binary-expr","locations":[{"start":{"line":54,"column":13},"end":{"line":54,"column":17}},{"start":{"line":54,"column":21},"end":{"line":54,"column":32}}]},"16":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":2},"end":{"line":55,"column":2}},{"start":{"line":55,"column":2},"end":{"line":55,"column":2}}]},"17":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":2},"end":{"line":60,"column":2}},{"start":{"line":60,"column":2},"end":{"line":60,"column":2}}]},"18":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":2},"end":{"line":84,"column":2}},{"start":{"line":84,"column":2},"end":{"line":84,"column":2}}]},"19":{"line":84,"type":"binary-expr","locations":[{"start":{"line":84,"column":6},"end":{"line":84,"column":11}},{"start":{"line":84,"column":15},"end":{"line":84,"column":39}}]},"20":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":2},"end":{"line":87,"column":2}},{"start":{"line":87,"column":2},"end":{"line":87,"column":2}}]},"21":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":8},"end":{"line":87,"column":17}},{"start":{"line":87,"column":21},"end":{"line":87,"column":32}},{"start":{"line":87,"column":36},"end":{"line":87,"column":48}}]},"22":{"line":90,"type":"binary-expr","locations":[{"start":{"line":90,"column":16},"end":{"line":90,"column":28}},{"start":{"line":90,"column":33},"end":{"line":90,"column":67}}]},"23":{"line":90,"type":"cond-expr","locations":[{"start":{"line":90,"column":47},"end":{"line":90,"column":62}},{"start":{"line":90,"column":65},"end":{"line":90,"column":67}}]},"24":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":2},"end":{"line":91,"column":2}},{"start":{"line":91,"column":2},"end":{"line":91,"column":2}}]},"25":{"line":95,"type":"cond-expr","locations":[{"start":{"line":95,"column":35},"end":{"line":95,"column":66}},{"start":{"line":95,"column":69},"end":{"line":95,"column":75}}]},"26":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":2},"end":{"line":106,"column":2}},{"start":{"line":106,"column":2},"end":{"line":106,"column":2}}]},"27":{"line":106,"type":"binary-expr","locations":[{"start":{"line":106,"column":6},"end":{"line":106,"column":11}},{"start":{"line":106,"column":15},"end":{"line":106,"column":39}}]},"28":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":2},"end":{"line":109,"column":2}},{"start":{"line":109,"column":2},"end":{"line":109,"column":2}}]},"29":{"line":109,"type":"binary-expr","locations":[{"start":{"line":109,"column":8},"end":{"line":109,"column":19}},{"start":{"line":109,"column":23},"end":{"line":109,"column":32}},{"start":{"line":109,"column":36},"end":{"line":109,"column":44}},{"start":{"line":109,"column":48},"end":{"line":109,"column":59}},{"start":{"line":109,"column":63},"end":{"line":109,"column":75}}]},"30":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":2},"end":{"line":122,"column":2}},{"start":{"line":122,"column":2},"end":{"line":122,"column":2}}]},"31":{"line":122,"type":"binary-expr","locations":[{"start":{"line":122,"column":6},"end":{"line":122,"column":13}},{"start":{"line":122,"column":17},"end":{"line":122,"column":43}}]},"32":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":2},"end":{"line":125,"column":2}},{"start":{"line":125,"column":2},"end":{"line":125,"column":2}}]},"33":{"line":125,"type":"binary-expr","locations":[{"start":{"line":125,"column":6},"end":{"line":125,"column":37}},{"start":{"line":125,"column":41},"end":{"line":125,"column":73}}]},"34":{"line":131,"type":"binary-expr","locations":[{"start":{"line":131,"column":10},"end":{"line":131,"column":21}},{"start":{"line":131,"column":25},"end":{"line":131,"column":35}}]}},"code":["\"use strict\";","","var bodec = require('bodec');","var treeMap = require('../lib/object-codec').treeMap;","","module.exports = function (repo) {","  var loadAs = repo.loadAs;","  repo.loadAs = newLoadAs;","  var saveAs = repo.saveAs;","  repo.saveAs = newSaveAs;","","  function newLoadAs(type, hash, callback) {","    if (!callback) return newLoadAs.bind(repo, type, hash);","    var realType = type === \"text\" ? \"blob\":","                   type === \"array\" ? \"tree\" : type;","    return loadAs.call(repo, realType, hash, onLoad);","","    function onLoad(err, body, hash) {","      if (body === undefined) return callback(err);","      if (type === \"text\") body = bodec.toUnicode(body);","      if (type === \"array\") body = toArray(body);","      return callback(err, body, hash);","    }","  }","","  function newSaveAs(type, body, callback) {","    if (!callback) return newSaveAs.bind(repo, type, body);","    type = type === \"text\" ? \"blob\":","           type === \"array\" ? \"tree\" : type;","    if (type === \"blob\") {","      if (typeof body === \"string\") {","        body = bodec.fromUnicode(body);","      }","    }","    else if (type === \"tree\") {","      body = normalizeTree(body);","    }","    else if (type === \"commit\") {","      body = normalizeCommit(body);","    }","    else if (type === \"tag\") {","      body = normalizeTag(body);","    }","    return saveAs.call(repo, type, body, callback);","  }","","};","","function toArray(tree) {","  return Object.keys(tree).map(treeMap, tree);","}","","function normalizeTree(body) {","  var type = body && typeof body;","  if (type !== \"object\") {","    throw new TypeError(\"Tree body must be array or object\");","  }","  var tree = {}, i, l, entry;","  // If array form is passed in, convert to object form.","  if (Array.isArray(body)) {","    for (i = 0, l = body.length; i < l; i++) {","      entry = body[i];","      tree[entry.name] = {","        mode: entry.mode,","        hash: entry.hash","      };","    }","  }","  else {","    var names = Object.keys(body);","    for (i = 0, l = names.length; i < l; i++) {","      var name = names[i];","      entry = body[name];","      tree[name] = {","        mode: entry.mode,","        hash: entry.hash","      };","    }","  }","  return tree;","}","","function normalizeCommit(body) {","  if (!body || typeof body !== \"object\") {","    throw new TypeError(\"Commit body must be an object\");","  }","  if (!(body.tree && body.author && body.message)) {","    throw new TypeError(\"Tree, author, and message are required for commits\");","  }","  var parents = body.parents || (body.parent ? [ body.parent ] : []);","  if (!Array.isArray(parents)) {","    throw new TypeError(\"Parents must be an array\");","  }","  var author = normalizePerson(body.author);","  var committer = body.committer ? normalizePerson(body.committer) : author;","  return {","    tree: body.tree,","    parents: parents,","    author: author,","    committer: committer,","    message: body.message","  };","}","","function normalizeTag(body) {","  if (!body || typeof body !== \"object\") {","    throw new TypeError(\"Tag body must be an object\");","  }","  if (!(body.object && body.type && body.tag && body.tagger && body.message)) {","    throw new TypeError(\"Object, type, tag, tagger, and message required\");","  }","  return {","    object: body.object,","    type: body.type,","    tag: body.tag,","    tagger: normalizePerson(body.tagger),","    message: body.message","  };","}","","function normalizePerson(person) {","  if (!person || typeof person !== \"object\") {","    throw new TypeError(\"Person must be an object\");","  }","  if (typeof person.name !== \"string\" || typeof person.email !== \"string\") {","    throw new TypeError(\"Name and email are required for person fields\");","  }","  return {","    name: person.name,","    email: person.email,","    date: person.date || new Date()","  };","}",""],"l":{"3":1,"4":1,"6":1,"7":0,"8":0,"9":0,"10":0,"12":1,"13":0,"14":0,"16":0,"18":1,"19":0,"20":0,"21":0,"22":0,"26":1,"27":0,"28":0,"30":0,"31":0,"32":0,"35":0,"36":0,"38":0,"39":0,"41":0,"42":0,"44":0,"49":1,"50":0,"53":1,"54":0,"55":0,"56":0,"58":0,"60":0,"61":0,"62":0,"63":0,"70":0,"71":0,"72":0,"73":0,"74":0,"80":0,"83":1,"84":0,"85":0,"87":0,"88":0,"90":0,"91":0,"92":0,"94":0,"95":0,"96":0,"105":1,"106":0,"107":0,"109":0,"110":0,"112":0,"121":1,"122":0,"123":0,"125":0,"126":0,"128":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/fs-db.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/fs-db.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":1,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":1,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":1,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":1,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":1,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":1,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":1,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":1,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":1,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":1,"198":0,"199":1,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":1,"234":0,"235":1,"236":0,"237":0,"238":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0},"fnMap":{"1":{"name":"(anonymous_1)","line":22,"loc":{"start":{"line":22,"column":17},"end":{"line":22,"column":37}}},"2":{"name":"init","line":36,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":31}}},"3":{"name":"setShallow","line":43,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":37}}},"4":{"name":"updateRef","line":49,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":42}}},"5":{"name":"(anonymous_5)","line":53,"loc":{"start":{"line":53,"column":51},"end":{"line":53,"column":65}}},"6":{"name":"readRef","line":59,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":34}}},"7":{"name":"(anonymous_7)","line":62,"loc":{"start":{"line":62,"column":22},"end":{"line":62,"column":45}}},"8":{"name":"readPackedRef","line":74,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":40}}},"9":{"name":"(anonymous_9)","line":76,"loc":{"start":{"line":76,"column":22},"end":{"line":76,"column":45}}},"10":{"name":"saveAs","line":93,"loc":{"start":{"line":93,"column":2},"end":{"line":93,"column":40}}},"11":{"name":"(anonymous_11)","line":104,"loc":{"start":{"line":104,"column":23},"end":{"line":104,"column":38}}},"12":{"name":"saveRaw","line":110,"loc":{"start":{"line":110,"column":2},"end":{"line":110,"column":40}}},"13":{"name":"(anonymous_13)","line":122,"loc":{"start":{"line":122,"column":18},"end":{"line":122,"column":39}}},"14":{"name":"(anonymous_14)","line":127,"loc":{"start":{"line":127,"column":32},"end":{"line":127,"column":46}}},"15":{"name":"loadAs","line":134,"loc":{"start":{"line":134,"column":2},"end":{"line":134,"column":40}}},"16":{"name":"(anonymous_16)","line":136,"loc":{"start":{"line":136,"column":18},"end":{"line":136,"column":38}}},"17":{"name":"hasHash","line":149,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":35}}},"18":{"name":"(anonymous_18)","line":151,"loc":{"start":{"line":151,"column":18},"end":{"line":151,"column":39}}},"19":{"name":"loadRaw","line":157,"loc":{"start":{"line":157,"column":2},"end":{"line":157,"column":35}}},"20":{"name":"(anonymous_20)","line":160,"loc":{"start":{"line":160,"column":22},"end":{"line":160,"column":45}}},"21":{"name":"loadRawPacked","line":172,"loc":{"start":{"line":172,"column":2},"end":{"line":172,"column":41}}},"22":{"name":"(anonymous_22)","line":175,"loc":{"start":{"line":175,"column":24},"end":{"line":175,"column":48}}},"23":{"name":"(anonymous_23)","line":177,"loc":{"start":{"line":177,"column":22},"end":{"line":177,"column":38}}},"24":{"name":"start","line":184,"loc":{"start":{"line":184,"column":4},"end":{"line":184,"column":21}}},"25":{"name":"loadIndex","line":191,"loc":{"start":{"line":191,"column":6},"end":{"line":191,"column":27}}},"26":{"name":"(anonymous_26)","line":193,"loc":{"start":{"line":193,"column":31},"end":{"line":193,"column":54}}},"27":{"name":"onIndex","line":203,"loc":{"start":{"line":203,"column":6},"end":{"line":203,"column":25}}},"28":{"name":"loadChunk","line":212,"loc":{"start":{"line":212,"column":6},"end":{"line":212,"column":52}}},"29":{"name":"(anonymous_29)","line":219,"loc":{"start":{"line":219,"column":43},"end":{"line":219,"column":65}}},"30":{"name":"onBase","line":235,"loc":{"start":{"line":235,"column":10},"end":{"line":235,"column":37}}},"31":{"name":"hashToPath","line":252,"loc":{"start":{"line":252,"column":2},"end":{"line":252,"column":28}}},"32":{"name":"parseIndex","line":258,"loc":{"start":{"line":258,"column":0},"end":{"line":258,"column":28}}},"33":{"name":"(anonymous_33)","line":297,"loc":{"start":{"line":297,"column":15},"end":{"line":297,"column":31}}},"34":{"name":"(anonymous_34)","line":300,"loc":{"start":{"line":300,"column":18},"end":{"line":300,"column":34}}},"35":{"name":"(anonymous_35)","line":306,"loc":{"start":{"line":306,"column":28},"end":{"line":306,"column":45}}},"36":{"name":"(anonymous_36)","line":308,"loc":{"start":{"line":308,"column":10},"end":{"line":308,"column":26}}},"37":{"name":"readUint32","line":319,"loc":{"start":{"line":319,"column":0},"end":{"line":319,"column":36}}},"38":{"name":"readUint64","line":329,"loc":{"start":{"line":329,"column":0},"end":{"line":329,"column":36}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":43}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":61}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":47}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":36}},"9":{"start":{"line":22,"column":0},"end":{"line":256,"column":2}},"10":{"start":{"line":24,"column":2},"end":{"line":24,"column":25}},"11":{"start":{"line":26,"column":2},"end":{"line":26,"column":23}},"12":{"start":{"line":27,"column":2},"end":{"line":27,"column":23}},"13":{"start":{"line":28,"column":2},"end":{"line":28,"column":25}},"14":{"start":{"line":29,"column":2},"end":{"line":29,"column":25}},"15":{"start":{"line":30,"column":2},"end":{"line":30,"column":25}},"16":{"start":{"line":31,"column":2},"end":{"line":31,"column":29}},"17":{"start":{"line":32,"column":2},"end":{"line":32,"column":25}},"18":{"start":{"line":33,"column":2},"end":{"line":33,"column":19}},"19":{"start":{"line":34,"column":2},"end":{"line":34,"column":31}},"20":{"start":{"line":36,"column":2},"end":{"line":41,"column":3}},"21":{"start":{"line":37,"column":4},"end":{"line":37,"column":47}},"22":{"start":{"line":37,"column":19},"end":{"line":37,"column":47}},"23":{"start":{"line":38,"column":4},"end":{"line":38,"column":37}},"24":{"start":{"line":39,"column":4},"end":{"line":39,"column":47}},"25":{"start":{"line":40,"column":4},"end":{"line":40,"column":48}},"26":{"start":{"line":43,"column":2},"end":{"line":47,"column":3}},"27":{"start":{"line":44,"column":4},"end":{"line":44,"column":53}},"28":{"start":{"line":44,"column":19},"end":{"line":44,"column":53}},"29":{"start":{"line":45,"column":4},"end":{"line":45,"column":50}},"30":{"start":{"line":46,"column":4},"end":{"line":46,"column":38}},"31":{"start":{"line":49,"column":2},"end":{"line":57,"column":3}},"32":{"start":{"line":50,"column":4},"end":{"line":50,"column":58}},"33":{"start":{"line":50,"column":19},"end":{"line":50,"column":58}},"34":{"start":{"line":51,"column":4},"end":{"line":51,"column":44}},"35":{"start":{"line":52,"column":4},"end":{"line":52,"column":30}},"36":{"start":{"line":53,"column":4},"end":{"line":56,"column":7}},"37":{"start":{"line":54,"column":6},"end":{"line":54,"column":35}},"38":{"start":{"line":54,"column":14},"end":{"line":54,"column":35}},"39":{"start":{"line":55,"column":6},"end":{"line":55,"column":38}},"40":{"start":{"line":59,"column":2},"end":{"line":72,"column":3}},"41":{"start":{"line":60,"column":4},"end":{"line":60,"column":50}},"42":{"start":{"line":60,"column":19},"end":{"line":60,"column":50}},"43":{"start":{"line":61,"column":4},"end":{"line":61,"column":44}},"44":{"start":{"line":62,"column":4},"end":{"line":71,"column":7}},"45":{"start":{"line":63,"column":6},"end":{"line":63,"column":36}},"46":{"start":{"line":63,"column":15},"end":{"line":63,"column":36}},"47":{"start":{"line":64,"column":6},"end":{"line":66,"column":7}},"48":{"start":{"line":65,"column":8},"end":{"line":65,"column":44}},"49":{"start":{"line":67,"column":6},"end":{"line":67,"column":15}},"50":{"start":{"line":68,"column":6},"end":{"line":69,"column":43}},"51":{"start":{"line":68,"column":12},"end":{"line":68,"column":46}},"52":{"start":{"line":69,"column":20},"end":{"line":69,"column":41}},"53":{"start":{"line":70,"column":6},"end":{"line":70,"column":27}},"54":{"start":{"line":74,"column":2},"end":{"line":91,"column":3}},"55":{"start":{"line":75,"column":4},"end":{"line":75,"column":54}},"56":{"start":{"line":76,"column":4},"end":{"line":90,"column":7}},"57":{"start":{"line":77,"column":6},"end":{"line":77,"column":53}},"58":{"start":{"line":77,"column":32},"end":{"line":77,"column":53}},"59":{"start":{"line":78,"column":6},"end":{"line":78,"column":15}},"60":{"start":{"line":79,"column":6},"end":{"line":88,"column":7}},"61":{"start":{"line":80,"column":8},"end":{"line":80,"column":39}},"62":{"start":{"line":81,"column":8},"end":{"line":81,"column":38}},"63":{"start":{"line":82,"column":8},"end":{"line":84,"column":9}},"64":{"start":{"line":83,"column":10},"end":{"line":83,"column":55}},"65":{"start":{"line":87,"column":8},"end":{"line":87,"column":29}},"66":{"start":{"line":89,"column":6},"end":{"line":89,"column":27}},"67":{"start":{"line":93,"column":2},"end":{"line":108,"column":3}},"68":{"start":{"line":94,"column":4},"end":{"line":94,"column":56}},"69":{"start":{"line":94,"column":19},"end":{"line":94,"column":56}},"70":{"start":{"line":95,"column":4},"end":{"line":95,"column":18}},"71":{"start":{"line":96,"column":4},"end":{"line":103,"column":41}},"72":{"start":{"line":97,"column":6},"end":{"line":100,"column":9}},"73":{"start":{"line":101,"column":6},"end":{"line":101,"column":23}},"74":{"start":{"line":103,"column":18},"end":{"line":103,"column":39}},"75":{"start":{"line":104,"column":4},"end":{"line":107,"column":7}},"76":{"start":{"line":105,"column":6},"end":{"line":105,"column":36}},"77":{"start":{"line":105,"column":15},"end":{"line":105,"column":36}},"78":{"start":{"line":106,"column":6},"end":{"line":106,"column":27}},"79":{"start":{"line":110,"column":2},"end":{"line":132,"column":3}},"80":{"start":{"line":111,"column":4},"end":{"line":111,"column":56}},"81":{"start":{"line":111,"column":19},"end":{"line":111,"column":56}},"82":{"start":{"line":112,"column":4},"end":{"line":112,"column":21}},"83":{"start":{"line":113,"column":4},"end":{"line":120,"column":41}},"84":{"start":{"line":114,"column":6},"end":{"line":116,"column":7}},"85":{"start":{"line":115,"column":8},"end":{"line":115,"column":57}},"86":{"start":{"line":117,"column":6},"end":{"line":117,"column":28}},"87":{"start":{"line":118,"column":6},"end":{"line":118,"column":30}},"88":{"start":{"line":120,"column":18},"end":{"line":120,"column":39}},"89":{"start":{"line":122,"column":4},"end":{"line":131,"column":7}},"90":{"start":{"line":124,"column":6},"end":{"line":124,"column":34}},"91":{"start":{"line":124,"column":16},"end":{"line":124,"column":34}},"92":{"start":{"line":126,"column":6},"end":{"line":126,"column":93}},"93":{"start":{"line":127,"column":6},"end":{"line":130,"column":9}},"94":{"start":{"line":128,"column":8},"end":{"line":128,"column":37}},"95":{"start":{"line":128,"column":16},"end":{"line":128,"column":37}},"96":{"start":{"line":129,"column":8},"end":{"line":129,"column":39}},"97":{"start":{"line":134,"column":2},"end":{"line":147,"column":3}},"98":{"start":{"line":135,"column":4},"end":{"line":135,"column":56}},"99":{"start":{"line":135,"column":19},"end":{"line":135,"column":56}},"100":{"start":{"line":136,"column":4},"end":{"line":146,"column":7}},"101":{"start":{"line":137,"column":6},"end":{"line":137,"column":50}},"102":{"start":{"line":137,"column":29},"end":{"line":137,"column":50}},"103":{"start":{"line":138,"column":6},"end":{"line":138,"column":15}},"104":{"start":{"line":139,"column":6},"end":{"line":144,"column":43}},"105":{"start":{"line":140,"column":8},"end":{"line":140,"column":33}},"106":{"start":{"line":141,"column":8},"end":{"line":141,"column":68}},"107":{"start":{"line":141,"column":31},"end":{"line":141,"column":68}},"108":{"start":{"line":142,"column":8},"end":{"line":142,"column":50}},"109":{"start":{"line":144,"column":20},"end":{"line":144,"column":41}},"110":{"start":{"line":145,"column":6},"end":{"line":145,"column":27}},"111":{"start":{"line":149,"column":2},"end":{"line":155,"column":3}},"112":{"start":{"line":150,"column":4},"end":{"line":150,"column":51}},"113":{"start":{"line":150,"column":19},"end":{"line":150,"column":51}},"114":{"start":{"line":151,"column":4},"end":{"line":154,"column":7}},"115":{"start":{"line":152,"column":6},"end":{"line":152,"column":36}},"116":{"start":{"line":152,"column":15},"end":{"line":152,"column":36}},"117":{"start":{"line":153,"column":6},"end":{"line":153,"column":36}},"118":{"start":{"line":157,"column":2},"end":{"line":170,"column":3}},"119":{"start":{"line":158,"column":4},"end":{"line":158,"column":51}},"120":{"start":{"line":158,"column":19},"end":{"line":158,"column":51}},"121":{"start":{"line":159,"column":4},"end":{"line":159,"column":32}},"122":{"start":{"line":160,"column":4},"end":{"line":169,"column":7}},"123":{"start":{"line":161,"column":6},"end":{"line":161,"column":36}},"124":{"start":{"line":161,"column":15},"end":{"line":161,"column":36}},"125":{"start":{"line":162,"column":6},"end":{"line":167,"column":7}},"126":{"start":{"line":163,"column":8},"end":{"line":163,"column":16}},"127":{"start":{"line":164,"column":8},"end":{"line":165,"column":45}},"128":{"start":{"line":164,"column":14},"end":{"line":164,"column":36}},"129":{"start":{"line":165,"column":22},"end":{"line":165,"column":43}},"130":{"start":{"line":166,"column":8},"end":{"line":166,"column":35}},"131":{"start":{"line":168,"column":6},"end":{"line":168,"column":43}},"132":{"start":{"line":172,"column":2},"end":{"line":250,"column":3}},"133":{"start":{"line":173,"column":4},"end":{"line":173,"column":58}},"134":{"start":{"line":174,"column":4},"end":{"line":174,"column":24}},"135":{"start":{"line":175,"column":4},"end":{"line":182,"column":7}},"136":{"start":{"line":176,"column":6},"end":{"line":176,"column":41}},"137":{"start":{"line":176,"column":20},"end":{"line":176,"column":41}},"138":{"start":{"line":177,"column":6},"end":{"line":180,"column":9}},"139":{"start":{"line":178,"column":8},"end":{"line":178,"column":58}},"140":{"start":{"line":179,"column":8},"end":{"line":179,"column":45}},"141":{"start":{"line":179,"column":19},"end":{"line":179,"column":45}},"142":{"start":{"line":181,"column":6},"end":{"line":181,"column":14}},"143":{"start":{"line":184,"column":4},"end":{"line":249,"column":5}},"144":{"start":{"line":185,"column":6},"end":{"line":185,"column":38}},"145":{"start":{"line":186,"column":6},"end":{"line":186,"column":18}},"146":{"start":{"line":187,"column":6},"end":{"line":187,"column":39}},"147":{"start":{"line":187,"column":21},"end":{"line":187,"column":39}},"148":{"start":{"line":188,"column":6},"end":{"line":189,"column":21}},"149":{"start":{"line":188,"column":36},"end":{"line":188,"column":56}},"150":{"start":{"line":189,"column":11},"end":{"line":189,"column":21}},"151":{"start":{"line":191,"column":6},"end":{"line":201,"column":7}},"152":{"start":{"line":192,"column":8},"end":{"line":192,"column":72}},"153":{"start":{"line":193,"column":8},"end":{"line":200,"column":11}},"154":{"start":{"line":194,"column":10},"end":{"line":194,"column":44}},"155":{"start":{"line":194,"column":23},"end":{"line":194,"column":44}},"156":{"start":{"line":195,"column":10},"end":{"line":198,"column":47}},"157":{"start":{"line":196,"column":12},"end":{"line":196,"column":57}},"158":{"start":{"line":198,"column":24},"end":{"line":198,"column":45}},"159":{"start":{"line":199,"column":10},"end":{"line":199,"column":20}},"160":{"start":{"line":203,"column":6},"end":{"line":210,"column":7}},"161":{"start":{"line":204,"column":8},"end":{"line":204,"column":45}},"162":{"start":{"line":205,"column":8},"end":{"line":205,"column":72}},"163":{"start":{"line":206,"column":8},"end":{"line":206,"column":40}},"164":{"start":{"line":207,"column":8},"end":{"line":207,"column":35}},"165":{"start":{"line":207,"column":20},"end":{"line":207,"column":35}},"166":{"start":{"line":208,"column":8},"end":{"line":208,"column":33}},"167":{"start":{"line":209,"column":8},"end":{"line":209,"column":52}},"168":{"start":{"line":212,"column":6},"end":{"line":247,"column":7}},"169":{"start":{"line":213,"column":8},"end":{"line":213,"column":43}},"170":{"start":{"line":214,"column":8},"end":{"line":217,"column":9}},"171":{"start":{"line":215,"column":10},"end":{"line":215,"column":73}},"172":{"start":{"line":216,"column":10},"end":{"line":216,"column":33}},"173":{"start":{"line":218,"column":8},"end":{"line":218,"column":72}},"174":{"start":{"line":219,"column":8},"end":{"line":246,"column":11}},"175":{"start":{"line":220,"column":10},"end":{"line":220,"column":43}},"176":{"start":{"line":220,"column":22},"end":{"line":220,"column":43}},"177":{"start":{"line":221,"column":10},"end":{"line":221,"column":18}},"178":{"start":{"line":222,"column":10},"end":{"line":232,"column":47}},"179":{"start":{"line":223,"column":12},"end":{"line":223,"column":46}},"180":{"start":{"line":224,"column":12},"end":{"line":229,"column":13}},"181":{"start":{"line":225,"column":14},"end":{"line":225,"column":59}},"182":{"start":{"line":227,"column":17},"end":{"line":229,"column":13}},"183":{"start":{"line":228,"column":14},"end":{"line":228,"column":68}},"184":{"start":{"line":230,"column":12},"end":{"line":230,"column":37}},"185":{"start":{"line":232,"column":24},"end":{"line":232,"column":45}},"186":{"start":{"line":233,"column":10},"end":{"line":233,"column":30}},"187":{"start":{"line":235,"column":10},"end":{"line":245,"column":11}},"188":{"start":{"line":236,"column":12},"end":{"line":236,"column":44}},"189":{"start":{"line":236,"column":23},"end":{"line":236,"column":44}},"190":{"start":{"line":237,"column":12},"end":{"line":237,"column":45}},"191":{"start":{"line":238,"column":12},"end":{"line":238,"column":23}},"192":{"start":{"line":239,"column":12},"end":{"line":243,"column":49}},"193":{"start":{"line":240,"column":14},"end":{"line":240,"column":64}},"194":{"start":{"line":241,"column":14},"end":{"line":241,"column":43}},"195":{"start":{"line":243,"column":26},"end":{"line":243,"column":47}},"196":{"start":{"line":244,"column":12},"end":{"line":244,"column":35}},"197":{"start":{"line":252,"column":2},"end":{"line":254,"column":3}},"198":{"start":{"line":253,"column":4},"end":{"line":253,"column":87}},"199":{"start":{"line":258,"column":0},"end":{"line":317,"column":1}},"200":{"start":{"line":259,"column":2},"end":{"line":262,"column":3}},"201":{"start":{"line":261,"column":4},"end":{"line":261,"column":54}},"202":{"start":{"line":266,"column":2},"end":{"line":266,"column":31}},"203":{"start":{"line":267,"column":2},"end":{"line":267,"column":46}},"204":{"start":{"line":268,"column":2},"end":{"line":268,"column":18}},"205":{"start":{"line":269,"column":2},"end":{"line":269,"column":43}},"206":{"start":{"line":270,"column":2},"end":{"line":270,"column":44}},"207":{"start":{"line":271,"column":2},"end":{"line":271,"column":46}},"208":{"start":{"line":272,"column":2},"end":{"line":272,"column":32}},"209":{"start":{"line":273,"column":2},"end":{"line":273,"column":34}},"210":{"start":{"line":274,"column":2},"end":{"line":289,"column":3}},"211":{"start":{"line":275,"column":4},"end":{"line":275,"column":36}},"212":{"start":{"line":276,"column":4},"end":{"line":276,"column":67}},"213":{"start":{"line":277,"column":4},"end":{"line":277,"column":52}},"214":{"start":{"line":278,"column":4},"end":{"line":278,"column":58}},"215":{"start":{"line":279,"column":4},"end":{"line":283,"column":5}},"216":{"start":{"line":280,"column":6},"end":{"line":280,"column":54}},"217":{"start":{"line":281,"column":6},"end":{"line":281,"column":54}},"218":{"start":{"line":282,"column":6},"end":{"line":282,"column":42}},"219":{"start":{"line":284,"column":4},"end":{"line":288,"column":6}},"220":{"start":{"line":290,"column":2},"end":{"line":290,"column":85}},"221":{"start":{"line":291,"column":2},"end":{"line":291,"column":86}},"222":{"start":{"line":292,"column":2},"end":{"line":294,"column":3}},"223":{"start":{"line":293,"column":4},"end":{"line":293,"column":42}},"224":{"start":{"line":296,"column":2},"end":{"line":296,"column":18}},"225":{"start":{"line":297,"column":2},"end":{"line":299,"column":5}},"226":{"start":{"line":298,"column":4},"end":{"line":298,"column":31}},"227":{"start":{"line":300,"column":2},"end":{"line":305,"column":5}},"228":{"start":{"line":301,"column":4},"end":{"line":304,"column":6}},"229":{"start":{"line":306,"column":2},"end":{"line":310,"column":5}},"230":{"start":{"line":307,"column":4},"end":{"line":307,"column":24}},"231":{"start":{"line":309,"column":4},"end":{"line":309,"column":17}},"232":{"start":{"line":312,"column":2},"end":{"line":316,"column":4}},"233":{"start":{"line":319,"column":0},"end":{"line":324,"column":1}},"234":{"start":{"line":320,"column":2},"end":{"line":323,"column":41}},"235":{"start":{"line":329,"column":0},"end":{"line":339,"column":1}},"236":{"start":{"line":330,"column":2},"end":{"line":333,"column":43}},"237":{"start":{"line":334,"column":2},"end":{"line":337,"column":43}},"238":{"start":{"line":338,"column":2},"end":{"line":338,"column":31}}},"branchMap":{"1":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":4}},{"start":{"line":37,"column":4},"end":{"line":37,"column":4}}]},"2":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":10},"end":{"line":38,"column":13}},{"start":{"line":38,"column":17},"end":{"line":38,"column":36}}]},"3":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":4},"end":{"line":44,"column":4}},{"start":{"line":44,"column":4},"end":{"line":44,"column":4}}]},"4":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":4},"end":{"line":50,"column":4}},{"start":{"line":50,"column":4},"end":{"line":50,"column":4}}]},"5":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":6},"end":{"line":54,"column":6}},{"start":{"line":54,"column":6},"end":{"line":54,"column":6}}]},"6":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":4},"end":{"line":60,"column":4}},{"start":{"line":60,"column":4},"end":{"line":60,"column":4}}]},"7":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":6},"end":{"line":63,"column":6}},{"start":{"line":63,"column":6},"end":{"line":63,"column":6}}]},"8":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":6},"end":{"line":64,"column":6}},{"start":{"line":64,"column":6},"end":{"line":64,"column":6}}]},"9":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":6},"end":{"line":77,"column":6}},{"start":{"line":77,"column":6},"end":{"line":77,"column":6}}]},"10":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":8}},{"start":{"line":82,"column":8},"end":{"line":82,"column":8}}]},"11":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":4},"end":{"line":94,"column":4}},{"start":{"line":94,"column":4},"end":{"line":94,"column":4}}]},"12":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":6},"end":{"line":105,"column":6}},{"start":{"line":105,"column":6},"end":{"line":105,"column":6}}]},"13":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":4},"end":{"line":111,"column":4}},{"start":{"line":111,"column":4},"end":{"line":111,"column":4}}]},"14":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":6},"end":{"line":114,"column":6}},{"start":{"line":114,"column":6},"end":{"line":114,"column":6}}]},"15":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":6},"end":{"line":124,"column":6}},{"start":{"line":124,"column":6},"end":{"line":124,"column":6}}]},"16":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":8},"end":{"line":128,"column":8}},{"start":{"line":128,"column":8},"end":{"line":128,"column":8}}]},"17":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":4},"end":{"line":135,"column":4}},{"start":{"line":135,"column":4},"end":{"line":135,"column":4}}]},"18":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":6},"end":{"line":137,"column":6}},{"start":{"line":137,"column":6},"end":{"line":137,"column":6}}]},"19":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":8},"end":{"line":141,"column":8}},{"start":{"line":141,"column":8},"end":{"line":141,"column":8}}]},"20":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":4},"end":{"line":150,"column":4}},{"start":{"line":150,"column":4},"end":{"line":150,"column":4}}]},"21":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":6},"end":{"line":152,"column":6}},{"start":{"line":152,"column":6},"end":{"line":152,"column":6}}]},"22":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":4},"end":{"line":158,"column":4}},{"start":{"line":158,"column":4},"end":{"line":158,"column":4}}]},"23":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":6},"end":{"line":161,"column":6}},{"start":{"line":161,"column":6},"end":{"line":161,"column":6}}]},"24":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":6},"end":{"line":162,"column":6}},{"start":{"line":162,"column":6},"end":{"line":162,"column":6}}]},"25":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":6},"end":{"line":176,"column":6}},{"start":{"line":176,"column":6},"end":{"line":176,"column":6}}]},"26":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":8},"end":{"line":179,"column":8}},{"start":{"line":179,"column":8},"end":{"line":179,"column":8}}]},"27":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":6},"end":{"line":187,"column":6}},{"start":{"line":187,"column":6},"end":{"line":187,"column":6}}]},"28":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":6},"end":{"line":188,"column":6}},{"start":{"line":188,"column":6},"end":{"line":188,"column":6}}]},"29":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":10},"end":{"line":194,"column":10}},{"start":{"line":194,"column":10},"end":{"line":194,"column":10}}]},"30":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":8},"end":{"line":207,"column":8}},{"start":{"line":207,"column":8},"end":{"line":207,"column":8}}]},"31":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":8},"end":{"line":214,"column":8}},{"start":{"line":214,"column":8},"end":{"line":214,"column":8}}]},"32":{"line":218,"type":"cond-expr","locations":[{"start":{"line":218,"column":47},"end":{"line":218,"column":65}},{"start":{"line":218,"column":68},"end":{"line":218,"column":71}}]},"33":{"line":220,"type":"if","locations":[{"start":{"line":220,"column":10},"end":{"line":220,"column":10}},{"start":{"line":220,"column":10},"end":{"line":220,"column":10}}]},"34":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":12},"end":{"line":224,"column":12}},{"start":{"line":224,"column":12},"end":{"line":224,"column":12}}]},"35":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":17},"end":{"line":227,"column":17}},{"start":{"line":227,"column":17},"end":{"line":227,"column":17}}]},"36":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":12},"end":{"line":236,"column":12}},{"start":{"line":236,"column":12},"end":{"line":236,"column":12}}]},"37":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":2},"end":{"line":259,"column":2}},{"start":{"line":259,"column":2},"end":{"line":259,"column":2}}]},"38":{"line":259,"type":"binary-expr","locations":[{"start":{"line":259,"column":6},"end":{"line":259,"column":42}},{"start":{"line":260,"column":6},"end":{"line":260,"column":42}}]},"39":{"line":279,"type":"if","locations":[{"start":{"line":279,"column":4},"end":{"line":279,"column":4}},{"start":{"line":279,"column":4},"end":{"line":279,"column":4}}]},"40":{"line":292,"type":"if","locations":[{"start":{"line":292,"column":2},"end":{"line":292,"column":2}},{"start":{"line":292,"column":2},"end":{"line":292,"column":2}}]}},"code":["\"use strict\";","var bodec = require('bodec');","var inflate = require('../lib/inflate');","var deflate = require('../lib/deflate');","var codec = require('../lib/object-codec');","var parsePackEntry = require('../lib/pack-codec').parseEntry;","var applyDelta = require('../lib/apply-delta');","var sha1 = require('git-sha1');","var pathJoin = require('path').join;","","// The fs object has the following interface:","// - readFile(path) => binary","//   Must also call callback() with no arguments if the file does not exist.","// - readChunk(path, start, end) => binary","//   Must also call callback() with no arguments if the file does not exist.","// - writeFile(path, binary) =>","//   Must also make every directory up to parent of path.","// - readDir(path) => array<paths>","//   Must also call callback() with no arguments if the file does not exist.","// The repo is expected to have a rootPath property that points to","// the .git folder within the filesystem.","module.exports = function (repo, fs) {","","  var cachedIndexes = {};","","  repo.loadAs = loadAs;","  repo.saveAs = saveAs;","  repo.loadRaw = loadRaw;","  repo.saveRaw = saveRaw;","  repo.readRef = readRef;","  repo.updateRef = updateRef;","  repo.hasHash = hasHash;","  repo.init = init;","  repo.setShallow = setShallow;","","  function init(ref, callback) {","    if (!callback) return init.bind(null, ref);","    ref = ref || \"refs/heads/master\";","    var path = pathJoin(repo.rootPath, \"HEAD\");","    fs.writeFile(path, \"ref: \" + ref, callback);","  }","","  function setShallow(ref, callback) {","    if (!callback) return setShallow.bind(null, ref);","    var path = pathJoin(repo.rootPath, \"shallow\");","    fs.writeFile(path, ref, callback);","  }","","  function updateRef(ref, hash, callback) {","    if (!callback) return updateRef.bind(repo, ref, hash);","    var path = pathJoin(repo.rootPath, ref);","    var lock = path + \".lock\";","    fs.writeFile(lock, bodec.fromRaw(hash + \"\\n\"), function(err) {","      if(err) return callback(err);","      fs.rename(lock, path, callback);","    });","  }","","  function readRef(ref, callback) {","    if (!callback) return readRef.bind(repo, ref);","    var path = pathJoin(repo.rootPath, ref);","    fs.readFile(path, function (err, binary) {","      if (err) return callback(err);","      if (binary === undefined) {","        return readPackedRef(ref, callback);","      }","      var hash;","      try { hash = bodec.toRaw(binary).trim(); }","      catch (err) { return callback(err); }","      callback(null, hash);","    });","  }","","  function readPackedRef(ref, callback) {","    var path = pathJoin(repo.rootPath, \"packed-refs\");","    fs.readFile(path, function (err, binary) {","      if (binary === undefined) return callback(err);","      var hash;","      try {","        var text = bodec.toRaw(binary);","        var index = text.indexOf(ref);","        if (index >= 0) {","          hash = text.substring(index - 41, index - 1);","        }","      }","      catch (err) {","        return callback(err);","      }","      callback(null, hash);","    });","  }","","  function saveAs(type, body, callback) {","    if (!callback) return saveAs.bind(repo, type, body);","    var raw, hash;","    try {","      raw = codec.frame({","        type: type,","        body: codec.encoders[type](body)","      });","      hash = sha1(raw);","    }","    catch (err) { return callback(err); }","    saveRaw(hash, raw, function (err) {","      if (err) return callback(err);","      callback(null, hash);","    });","  }","","  function saveRaw(hash, raw, callback) {","    if (!callback) return saveRaw.bind(repo, hash, raw);","    var buffer, path;","    try {","      if (sha1(raw) !== hash) {","        throw new Error(\"Save data does not match hash\");","      }","      buffer = deflate(raw);","      path = hashToPath(hash);","    }","    catch (err) { return callback(err); }","    // Try to read the object first.","    loadRaw(hash, function (err, data) {","      // If it already exists, we're done","      if (data) return callback();","      // Otherwise write a new file","      var tmp = path.replace(/[0-9a-f]+$/, 'tmp_obj_' + Math.random().toString(36).substr(2))","      fs.writeFile(tmp, buffer, function(err) {","        if(err) return callback(err);","        fs.rename(tmp, path, callback);","      });","    });","  }","","  function loadAs(type, hash, callback) {","    if (!callback) return loadAs.bind(repo, type, hash);","    loadRaw(hash, function (err, raw) {","      if (raw === undefined) return callback(err);","      var body;","      try {","        raw = codec.deframe(raw);","        if (raw.type !== type) throw new TypeError(\"Type mismatch\");","        body = codec.decoders[raw.type](raw.body);","      }","      catch (err) { return callback(err); }","      callback(null, body);","    });","  }","","  function hasHash(hash, callback) {","    if (!callback) return hasHash.bind(repo, hash);","    loadRaw(hash, function (err, body) {","      if (err) return callback(err);","      return callback(null, !!body);","    });","  }","","  function loadRaw(hash, callback) {","    if (!callback) return loadRaw.bind(repo, hash);","    var path = hashToPath(hash);","    fs.readFile(path, function (err, buffer) {","      if (err) return callback(err);","      if (buffer) {","        var raw;","        try { raw = inflate(buffer); }","        catch (err) { return callback(err); }","        return callback(null, raw);","      }","      return loadRawPacked(hash, callback);","    });","  }","","  function loadRawPacked(hash, callback) {","    var packDir = pathJoin(repo.rootPath, \"objects/pack\");","    var packHashes = [];","    fs.readDir(packDir, function (err, entries) {","      if (!entries) return callback(err);","      entries.forEach(function (name) {","        var match = name.match(/pack-([0-9a-f]{40}).idx/);","        if (match) packHashes.push(match[1]);","      });","      start();","    });","","    function start() {","      var packHash = packHashes.pop();","      var offsets;","      if (!packHash) return callback();","      if (!cachedIndexes[packHash]) loadIndex(packHash);","      else onIndex();","","      function loadIndex() {","        var indexFile = pathJoin(packDir, \"pack-\" + packHash + \".idx\" );","        fs.readFile(indexFile, function (err, buffer) {","          if (!buffer) return callback(err);","          try {","            cachedIndexes[packHash] = parseIndex(buffer);","          }","          catch (err) { return callback(err); }","          onIndex();","        });","      }","","      function onIndex() {","        var cached = cachedIndexes[packHash];","        var packFile = pathJoin(packDir, \"pack-\" + packHash + \".pack\" );","        var index = cached.byHash[hash];","        if (!index) return start();","        offsets = cached.offsets;","        loadChunk(packFile, index.offset, callback);","      }","","      function loadChunk(packFile, start, callback) {","        var index = offsets.indexOf(start);","        if (index < 0) {","          var error = new Error(\"Can't find chunk starting at \" + start);","          return callback(error);","        }","        var end = index + 1 < offsets.length ? offsets[index + 1] : -20;","        fs.readChunk(packFile, start, end, function (err, chunk) {","          if (!chunk) return callback(err);","          var raw;","          try {","            var entry = parsePackEntry(chunk);","            if (entry.type === \"ref-delta\") {","              return loadRaw.call(repo, entry.ref, onBase);","            }","            else if (entry.type === \"ofs-delta\") {","              return loadChunk(packFile, start - entry.ref, onBase);","            }","            raw = codec.frame(entry);","          }","          catch (err) { return callback(err); }","          callback(null, raw);","","          function onBase(err, base) {","            if (!base) return callback(err);","            var object = codec.deframe(base);","            var buffer;","            try {","              object.body = applyDelta(entry.body, object.body);","              buffer = codec.frame(object);","            }","            catch (err) { return callback(err); }","            callback(null, buffer);","          }","        });","      }","","    }","  }","","  function hashToPath(hash) {","    return pathJoin(repo.rootPath, \"objects\", hash.substring(0, 2), hash.substring(2));","  }","","};","","function parseIndex(buffer) {","  if (readUint32(buffer, 0) !== 0xff744f63 ||","      readUint32(buffer, 4) !== 0x00000002) {","    throw new Error(\"Only v2 pack indexes supported\");","  }","","  // Get the number of hashes in index","  // This is the value of the last fan-out entry","  var hashOffset = 8 + 255 * 4;","  var length = readUint32(buffer, hashOffset);","  hashOffset += 4;","  var crcOffset = hashOffset + 20 * length;","  var lengthOffset = crcOffset + 4 * length;","  var largeOffset = lengthOffset + 4 * length;","  var checkOffset = largeOffset;","  var indexes = new Array(length);","  for (var i = 0; i < length; i++) {","    var start = hashOffset + i * 20;","    var hash = bodec.toHex(bodec.slice(buffer, start, start + 20));","    var crc = readUint32(buffer, crcOffset + i * 4);","    var offset = readUint32(buffer, lengthOffset + i * 4);","    if (offset & 0x80000000) {","      offset = largeOffset + (offset &0x7fffffff) * 8;","      checkOffset = Math.max(checkOffset, offset + 8);","      offset = readUint64(buffer, offset);","    }","    indexes[i] = {","      hash: hash,","      offset: offset,","      crc: crc","    };","  }","  var packChecksum = bodec.toHex(bodec.slice(buffer, checkOffset, checkOffset + 20));","  var checksum = bodec.toHex(bodec.slice(buffer, checkOffset + 20, checkOffset + 40));","  if (sha1(bodec.slice(buffer, 0, checkOffset + 20)) !== checksum) {","    throw new Error(\"Checksum mistmatch\");","  }","","  var byHash = {};","  indexes.sort(function (a, b) {","    return a.offset - b.offset;","  });","  indexes.forEach(function (data) {","    byHash[data.hash] = {","      offset: data.offset,","      crc: data.crc,","    };","  });","  var offsets = indexes.map(function (entry) {","    return entry.offset;","  }).sort(function (a, b) {","    return a - b;","  });","","  return {","    offsets: offsets,","    byHash: byHash,","    checksum: packChecksum","  };","}","","function readUint32(buffer, offset) {","  return (buffer[offset] << 24 |","          buffer[offset + 1] << 16 |","          buffer[offset + 2] << 8 |","          buffer[offset + 3] << 0) >>> 0;","}","","// Yes this will lose precision over 2^53, but that can't be helped when","// returning a single integer.","// We simply won't support packfiles over 8 petabytes. I'm ok with that.","function readUint64(buffer, offset) {","  var hi = (buffer[offset] << 24 |","            buffer[offset + 1] << 16 |","            buffer[offset + 2] << 8 |","            buffer[offset + 3] << 0) >>> 0;","  var lo = (buffer[offset + 4] << 24 |","            buffer[offset + 5] << 16 |","            buffer[offset + 6] << 8 |","            buffer[offset + 7] << 0) >>> 0;","  return hi * 0x100000000 + lo;","}",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"22":1,"24":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"36":1,"37":0,"38":0,"39":0,"40":0,"43":1,"44":0,"45":0,"46":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"59":1,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"67":0,"68":0,"69":0,"70":0,"74":1,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"87":0,"89":0,"93":1,"94":0,"95":0,"96":0,"97":0,"101":0,"103":0,"104":0,"105":0,"106":0,"110":1,"111":0,"112":0,"113":0,"114":0,"115":0,"117":0,"118":0,"120":0,"122":0,"124":0,"126":0,"127":0,"128":0,"129":0,"134":1,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"144":0,"145":0,"149":1,"150":0,"151":0,"152":0,"153":0,"157":1,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"168":0,"172":1,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"181":0,"184":1,"185":0,"186":0,"187":0,"188":0,"189":0,"191":1,"192":0,"193":0,"194":0,"195":0,"196":0,"198":0,"199":0,"203":1,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"212":1,"213":0,"214":0,"215":0,"216":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"227":0,"228":0,"230":0,"232":0,"233":0,"235":1,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"243":0,"244":0,"252":1,"253":0,"258":1,"259":0,"261":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"284":0,"290":0,"291":0,"292":0,"293":0,"296":0,"297":0,"298":0,"300":0,"301":0,"306":0,"307":0,"309":0,"312":0,"319":1,"320":0,"329":1,"330":0,"334":0,"338":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/indexed-db.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/indexed-db.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"fnMap":{"1":{"name":"init","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":24}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":28},"end":{"line":21,"column":42}}},"3":{"name":"(anonymous_3)","line":42,"loc":{"start":{"line":42,"column":22},"end":{"line":42,"column":37}}},"4":{"name":"mixin","line":50,"loc":{"start":{"line":50,"column":0},"end":{"line":50,"column":29}}},"5":{"name":"onError","line":60,"loc":{"start":{"line":60,"column":0},"end":{"line":60,"column":22}}},"6":{"name":"saveAs","line":64,"loc":{"start":{"line":64,"column":0},"end":{"line":64,"column":50}}},"7":{"name":"(anonymous_7)","line":76,"loc":{"start":{"line":76,"column":22},"end":{"line":76,"column":33}}},"8":{"name":"(anonymous_8)","line":80,"loc":{"start":{"line":80,"column":20},"end":{"line":80,"column":34}}},"9":{"name":"loadAs","line":85,"loc":{"start":{"line":85,"column":0},"end":{"line":85,"column":38}}},"10":{"name":"(anonymous_10)","line":87,"loc":{"start":{"line":87,"column":16},"end":{"line":87,"column":38}}},"11":{"name":"loadRaw","line":96,"loc":{"start":{"line":96,"column":0},"end":{"line":96,"column":33}}},"12":{"name":"(anonymous_12)","line":100,"loc":{"start":{"line":100,"column":22},"end":{"line":100,"column":36}}},"13":{"name":"(anonymous_13)","line":105,"loc":{"start":{"line":105,"column":20},"end":{"line":105,"column":34}}},"14":{"name":"hasHash","line":110,"loc":{"start":{"line":110,"column":0},"end":{"line":110,"column":33}}},"15":{"name":"(anonymous_15)","line":112,"loc":{"start":{"line":112,"column":16},"end":{"line":112,"column":37}}},"16":{"name":"readRef","line":118,"loc":{"start":{"line":118,"column":0},"end":{"line":118,"column":32}}},"17":{"name":"(anonymous_17)","line":124,"loc":{"start":{"line":124,"column":22},"end":{"line":124,"column":36}}},"18":{"name":"(anonymous_18)","line":129,"loc":{"start":{"line":129,"column":20},"end":{"line":129,"column":34}}},"19":{"name":"updateRef","line":134,"loc":{"start":{"line":134,"column":0},"end":{"line":134,"column":40}}},"20":{"name":"(anonymous_20)","line":141,"loc":{"start":{"line":141,"column":22},"end":{"line":141,"column":33}}},"21":{"name":"(anonymous_21)","line":144,"loc":{"start":{"line":144,"column":20},"end":{"line":144,"column":34}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":39}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":7}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":18}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":22}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":22}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":23}},"9":{"start":{"line":15,"column":0},"end":{"line":47,"column":1}},"10":{"start":{"line":17,"column":2},"end":{"line":17,"column":12}},"11":{"start":{"line":18,"column":2},"end":{"line":18,"column":43}},"12":{"start":{"line":21,"column":2},"end":{"line":40,"column":4}},"13":{"start":{"line":22,"column":4},"end":{"line":22,"column":31}},"14":{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},"15":{"start":{"line":25,"column":6},"end":{"line":25,"column":76}},"16":{"start":{"line":29,"column":4},"end":{"line":29,"column":45}},"17":{"start":{"line":31,"column":4},"end":{"line":33,"column":5}},"18":{"start":{"line":32,"column":6},"end":{"line":32,"column":38}},"19":{"start":{"line":34,"column":4},"end":{"line":36,"column":5}},"20":{"start":{"line":35,"column":6},"end":{"line":35,"column":35}},"21":{"start":{"line":38,"column":4},"end":{"line":38,"column":55}},"22":{"start":{"line":39,"column":4},"end":{"line":39,"column":52}},"23":{"start":{"line":42,"column":2},"end":{"line":45,"column":4}},"24":{"start":{"line":43,"column":4},"end":{"line":43,"column":27}},"25":{"start":{"line":44,"column":4},"end":{"line":44,"column":15}},"26":{"start":{"line":46,"column":2},"end":{"line":46,"column":28}},"27":{"start":{"line":50,"column":0},"end":{"line":58,"column":1}},"28":{"start":{"line":51,"column":2},"end":{"line":51,"column":50}},"29":{"start":{"line":51,"column":15},"end":{"line":51,"column":50}},"30":{"start":{"line":52,"column":2},"end":{"line":52,"column":26}},"31":{"start":{"line":53,"column":2},"end":{"line":53,"column":23}},"32":{"start":{"line":54,"column":2},"end":{"line":54,"column":23}},"33":{"start":{"line":55,"column":2},"end":{"line":55,"column":25}},"34":{"start":{"line":56,"column":2},"end":{"line":56,"column":29}},"35":{"start":{"line":57,"column":2},"end":{"line":57,"column":25}},"36":{"start":{"line":60,"column":0},"end":{"line":62,"column":1}},"37":{"start":{"line":61,"column":2},"end":{"line":61,"column":43}},"38":{"start":{"line":64,"column":0},"end":{"line":83,"column":1}},"39":{"start":{"line":65,"column":2},"end":{"line":65,"column":54}},"40":{"start":{"line":65,"column":17},"end":{"line":65,"column":54}},"41":{"start":{"line":66,"column":2},"end":{"line":66,"column":11}},"42":{"start":{"line":67,"column":2},"end":{"line":71,"column":39}},"43":{"start":{"line":68,"column":4},"end":{"line":68,"column":52}},"44":{"start":{"line":69,"column":4},"end":{"line":69,"column":38}},"45":{"start":{"line":71,"column":16},"end":{"line":71,"column":37}},"46":{"start":{"line":72,"column":2},"end":{"line":72,"column":55}},"47":{"start":{"line":73,"column":2},"end":{"line":73,"column":43}},"48":{"start":{"line":74,"column":2},"end":{"line":74,"column":53}},"49":{"start":{"line":75,"column":2},"end":{"line":75,"column":33}},"50":{"start":{"line":76,"column":2},"end":{"line":79,"column":4}},"51":{"start":{"line":78,"column":4},"end":{"line":78,"column":31}},"52":{"start":{"line":80,"column":2},"end":{"line":82,"column":4}},"53":{"start":{"line":81,"column":4},"end":{"line":81,"column":35}},"54":{"start":{"line":85,"column":0},"end":{"line":94,"column":1}},"55":{"start":{"line":86,"column":2},"end":{"line":86,"column":54}},"56":{"start":{"line":86,"column":17},"end":{"line":86,"column":54}},"57":{"start":{"line":87,"column":2},"end":{"line":93,"column":5}},"58":{"start":{"line":88,"column":4},"end":{"line":88,"column":37}},"59":{"start":{"line":88,"column":16},"end":{"line":88,"column":37}},"60":{"start":{"line":89,"column":4},"end":{"line":91,"column":5}},"61":{"start":{"line":90,"column":6},"end":{"line":90,"column":54}},"62":{"start":{"line":92,"column":4},"end":{"line":92,"column":37}},"63":{"start":{"line":96,"column":0},"end":{"line":108,"column":1}},"64":{"start":{"line":97,"column":2},"end":{"line":97,"column":55}},"65":{"start":{"line":98,"column":2},"end":{"line":98,"column":43}},"66":{"start":{"line":99,"column":2},"end":{"line":99,"column":32}},"67":{"start":{"line":100,"column":2},"end":{"line":104,"column":4}},"68":{"start":{"line":101,"column":4},"end":{"line":101,"column":34}},"69":{"start":{"line":102,"column":4},"end":{"line":102,"column":34}},"70":{"start":{"line":102,"column":16},"end":{"line":102,"column":34}},"71":{"start":{"line":103,"column":4},"end":{"line":103,"column":33}},"72":{"start":{"line":105,"column":2},"end":{"line":107,"column":4}},"73":{"start":{"line":106,"column":4},"end":{"line":106,"column":35}},"74":{"start":{"line":110,"column":0},"end":{"line":116,"column":1}},"75":{"start":{"line":111,"column":2},"end":{"line":111,"column":49}},"76":{"start":{"line":111,"column":17},"end":{"line":111,"column":49}},"77":{"start":{"line":112,"column":2},"end":{"line":115,"column":5}},"78":{"start":{"line":113,"column":4},"end":{"line":113,"column":34}},"79":{"start":{"line":113,"column":13},"end":{"line":113,"column":34}},"80":{"start":{"line":114,"column":4},"end":{"line":114,"column":34}},"81":{"start":{"line":118,"column":0},"end":{"line":132,"column":1}},"82":{"start":{"line":119,"column":2},"end":{"line":119,"column":48}},"83":{"start":{"line":119,"column":17},"end":{"line":119,"column":48}},"84":{"start":{"line":120,"column":2},"end":{"line":120,"column":39}},"85":{"start":{"line":121,"column":2},"end":{"line":121,"column":52}},"86":{"start":{"line":122,"column":2},"end":{"line":122,"column":40}},"87":{"start":{"line":123,"column":2},"end":{"line":123,"column":31}},"88":{"start":{"line":124,"column":2},"end":{"line":128,"column":4}},"89":{"start":{"line":125,"column":4},"end":{"line":125,"column":34}},"90":{"start":{"line":126,"column":4},"end":{"line":126,"column":34}},"91":{"start":{"line":126,"column":16},"end":{"line":126,"column":34}},"92":{"start":{"line":127,"column":4},"end":{"line":127,"column":31}},"93":{"start":{"line":129,"column":2},"end":{"line":131,"column":4}},"94":{"start":{"line":130,"column":4},"end":{"line":130,"column":35}},"95":{"start":{"line":134,"column":0},"end":{"line":147,"column":1}},"96":{"start":{"line":135,"column":2},"end":{"line":135,"column":56}},"97":{"start":{"line":135,"column":17},"end":{"line":135,"column":56}},"98":{"start":{"line":136,"column":2},"end":{"line":136,"column":39}},"99":{"start":{"line":137,"column":2},"end":{"line":137,"column":52}},"100":{"start":{"line":138,"column":2},"end":{"line":138,"column":40}},"101":{"start":{"line":139,"column":2},"end":{"line":139,"column":40}},"102":{"start":{"line":140,"column":2},"end":{"line":140,"column":33}},"103":{"start":{"line":141,"column":2},"end":{"line":143,"column":4}},"104":{"start":{"line":142,"column":4},"end":{"line":142,"column":15}},"105":{"start":{"line":144,"column":2},"end":{"line":146,"column":4}},"106":{"start":{"line":145,"column":4},"end":{"line":145,"column":35}}},"branchMap":{"1":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":4}},{"start":{"line":24,"column":4},"end":{"line":24,"column":4}}]},"2":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":8},"end":{"line":24,"column":20}},{"start":{"line":24,"column":24},"end":{"line":24,"column":47}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]},"4":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":4},"end":{"line":34,"column":4}},{"start":{"line":34,"column":4},"end":{"line":34,"column":4}}]},"5":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":2},"end":{"line":51,"column":2}},{"start":{"line":51,"column":2},"end":{"line":51,"column":2}}]},"6":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":2},"end":{"line":65,"column":2}},{"start":{"line":65,"column":2},"end":{"line":65,"column":2}}]},"7":{"line":69,"type":"binary-expr","locations":[{"start":{"line":69,"column":11},"end":{"line":69,"column":21}},{"start":{"line":69,"column":25},"end":{"line":69,"column":37}}]},"8":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":2},"end":{"line":86,"column":2}},{"start":{"line":86,"column":2},"end":{"line":86,"column":2}}]},"9":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":4}},{"start":{"line":88,"column":4},"end":{"line":88,"column":4}}]},"10":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":4},"end":{"line":89,"column":4}},{"start":{"line":89,"column":4},"end":{"line":89,"column":4}}]},"11":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":4},"end":{"line":102,"column":4}},{"start":{"line":102,"column":4},"end":{"line":102,"column":4}}]},"12":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":2},"end":{"line":111,"column":2}},{"start":{"line":111,"column":2},"end":{"line":111,"column":2}}]},"13":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":113,"column":4}},{"start":{"line":113,"column":4},"end":{"line":113,"column":4}}]},"14":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":2},"end":{"line":119,"column":2}},{"start":{"line":119,"column":2},"end":{"line":119,"column":2}}]},"15":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":4},"end":{"line":126,"column":4}},{"start":{"line":126,"column":4},"end":{"line":126,"column":4}}]},"16":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":2},"end":{"line":135,"column":2}},{"start":{"line":135,"column":2},"end":{"line":135,"column":2}}]}},"code":["\"use strict\";","/*global indexedDB*/","","var codec = require('../lib/object-codec.js');","var sha1 = require('git-sha1');","var modes = require('../lib/modes.js');","var db;","","mixin.init = init;","","mixin.loadAs = loadAs;","mixin.saveAs = saveAs;","module.exports = mixin;","","function init(callback) {","","  db = null;","  var request = indexedDB.open(\"tedit\", 1);","","  // We can only create Object stores in a versionchange transaction.","  request.onupgradeneeded = function(evt) {","    var db = evt.target.result;","","    if (evt.dataLoss && evt.dataLoss !== \"none\") {","      return callback(new Error(evt.dataLoss + \": \" + evt.dataLossMessage));","    }","","    // A versionchange transaction is started automatically.","    evt.target.transaction.onerror = onError;","","    if(db.objectStoreNames.contains(\"objects\")) {","      db.deleteObjectStore(\"objects\");","    }","    if(db.objectStoreNames.contains(\"refs\")) {","      db.deleteObjectStore(\"refs\");","    }","","    db.createObjectStore(\"objects\", {keyPath: \"hash\"});","    db.createObjectStore(\"refs\", {keyPath: \"path\"});","  };","","  request.onsuccess = function (evt) {","    db = evt.target.result;","    callback();","  };","  request.onerror = onError;","}","","","function mixin(repo, prefix) {","  if (!prefix) throw new Error(\"Prefix required\");","  repo.refPrefix = prefix;","  repo.saveAs = saveAs;","  repo.loadAs = loadAs;","  repo.readRef = readRef;","  repo.updateRef = updateRef;","  repo.hasHash = hasHash;","}","","function onError(evt) {","  console.error(\"error\", evt.target.error);","}","","function saveAs(type, body, callback, forcedHash) {","  if (!callback) return saveAs.bind(this, type, body);","  var hash;","  try {","    var buffer = codec.frame({type:type,body:body});","    hash = forcedHash || sha1(buffer);","  }","  catch (err) { return callback(err); }","  var trans = db.transaction([\"objects\"], \"readwrite\");","  var store = trans.objectStore(\"objects\");","  var entry = { hash: hash, type: type, body: body };","  var request = store.put(entry);","  request.onsuccess = function() {","    // console.warn(\"SAVE\", type, hash);","    callback(null, hash, body);","  };","  request.onerror = function(evt) {","    callback(new Error(evt.value));","  };","}","","function loadAs(type, hash, callback) {","  if (!callback) return loadAs.bind(this, type, hash);","  loadRaw(hash, function (err, entry) {","    if (!entry) return callback(err);","    if (type !== entry.type) {","      return callback(new TypeError(\"Type mismatch\"));","    }","    callback(null, entry.body, hash);","  });","}","","function loadRaw(hash, callback) {","  var trans = db.transaction([\"objects\"], \"readwrite\");","  var store = trans.objectStore(\"objects\");","  var request = store.get(hash);","  request.onsuccess = function(evt) {","    var entry = evt.target.result;","    if (!entry) return callback();","    return callback(null, entry);","  };","  request.onerror = function(evt) {","    callback(new Error(evt.value));","  };","}","","function hasHash(hash, callback) {","  if (!callback) return hasHash.bind(this, hash);","  loadRaw(hash, function (err, body) {","    if (err) return callback(err);","    return callback(null, !!body);","  });","}","","function readRef(ref, callback) {","  if (!callback) return readRef.bind(this, ref);","  var key = this.refPrefix + \"/\" + ref;","  var trans = db.transaction([\"refs\"], \"readwrite\");","  var store = trans.objectStore(\"refs\");","  var request = store.get(key);","  request.onsuccess = function(evt) {","    var entry = evt.target.result;","    if (!entry) return callback();","    callback(null, entry.hash);","  };","  request.onerror = function(evt) {","    callback(new Error(evt.value));","  };","}","","function updateRef(ref, hash, callback) {","  if (!callback) return updateRef.bind(this, ref, hash);","  var key = this.refPrefix + \"/\" + ref;","  var trans = db.transaction([\"refs\"], \"readwrite\");","  var store = trans.objectStore(\"refs\");","  var entry = { path: key, hash: hash };","  var request = store.put(entry);","  request.onsuccess = function() {","    callback();","  };","  request.onerror = function(evt) {","    callback(new Error(evt.value));","  };","}",""],"l":{"4":1,"5":1,"6":1,"7":1,"9":1,"11":1,"12":1,"13":1,"15":1,"17":0,"18":0,"21":0,"22":0,"24":0,"25":0,"29":0,"31":0,"32":0,"34":0,"35":0,"38":0,"39":0,"42":0,"43":0,"44":0,"46":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"60":1,"61":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"78":0,"80":0,"81":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"92":0,"96":1,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"105":0,"106":0,"110":1,"111":0,"112":0,"113":0,"114":0,"118":1,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"129":0,"130":0,"134":1,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"144":0,"145":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/mem-cache.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/mem-cache.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"memCache","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":24}}},"2":{"name":"loadAsCached","line":13,"loc":{"start":{"line":13,"column":2},"end":{"line":13,"column":46}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":34},"end":{"line":16,"column":56}}},"4":{"name":"saveAsCached","line":27,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":47}}},"5":{"name":"(anonymous_5)","line":30,"loc":{"start":{"line":30,"column":35},"end":{"line":30,"column":56}}},"6":{"name":"dupe","line":39,"loc":{"start":{"line":39,"column":0},"end":{"line":39,"column":27}}},"7":{"name":"deepFreeze","line":47,"loc":{"start":{"line":47,"column":0},"end":{"line":47,"column":25}}},"8":{"name":"(anonymous_8)","line":49,"loc":{"start":{"line":49,"column":27},"end":{"line":49,"column":42}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":55}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":55}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":32}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":26}},"6":{"start":{"line":10,"column":0},"end":{"line":38,"column":1}},"7":{"start":{"line":11,"column":2},"end":{"line":11,"column":27}},"8":{"start":{"line":12,"column":2},"end":{"line":12,"column":29}},"9":{"start":{"line":13,"column":2},"end":{"line":23,"column":3}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":62}},"11":{"start":{"line":14,"column":19},"end":{"line":14,"column":62}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":76}},"13":{"start":{"line":15,"column":23},"end":{"line":15,"column":76}},"14":{"start":{"line":16,"column":4},"end":{"line":22,"column":7}},"15":{"start":{"line":17,"column":6},"end":{"line":17,"column":52}},"16":{"start":{"line":17,"column":31},"end":{"line":17,"column":52}},"17":{"start":{"line":18,"column":6},"end":{"line":20,"column":7}},"18":{"start":{"line":19,"column":8},"end":{"line":19,"column":40}},"19":{"start":{"line":21,"column":6},"end":{"line":21,"column":45}},"20":{"start":{"line":25,"column":2},"end":{"line":25,"column":27}},"21":{"start":{"line":26,"column":2},"end":{"line":26,"column":29}},"22":{"start":{"line":27,"column":2},"end":{"line":37,"column":3}},"23":{"start":{"line":28,"column":4},"end":{"line":28,"column":63}},"24":{"start":{"line":28,"column":19},"end":{"line":28,"column":63}},"25":{"start":{"line":29,"column":4},"end":{"line":29,"column":30}},"26":{"start":{"line":30,"column":4},"end":{"line":36,"column":7}},"27":{"start":{"line":31,"column":6},"end":{"line":31,"column":36}},"28":{"start":{"line":31,"column":15},"end":{"line":31,"column":36}},"29":{"start":{"line":32,"column":6},"end":{"line":34,"column":7}},"30":{"start":{"line":33,"column":8},"end":{"line":33,"column":28}},"31":{"start":{"line":35,"column":6},"end":{"line":35,"column":41}},"32":{"start":{"line":39,"column":0},"end":{"line":45,"column":1}},"33":{"start":{"line":40,"column":2},"end":{"line":43,"column":3}},"34":{"start":{"line":41,"column":4},"end":{"line":41,"column":41}},"35":{"start":{"line":41,"column":28},"end":{"line":41,"column":41}},"36":{"start":{"line":42,"column":4},"end":{"line":42,"column":29}},"37":{"start":{"line":44,"column":2},"end":{"line":44,"column":47}},"38":{"start":{"line":47,"column":0},"end":{"line":53,"column":1}},"39":{"start":{"line":48,"column":2},"end":{"line":48,"column":21}},"40":{"start":{"line":49,"column":2},"end":{"line":52,"column":5}},"41":{"start":{"line":50,"column":4},"end":{"line":50,"column":25}},"42":{"start":{"line":51,"column":4},"end":{"line":51,"column":53}},"43":{"start":{"line":51,"column":35},"end":{"line":51,"column":53}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":4}},{"start":{"line":14,"column":4},"end":{"line":14,"column":4}}]},"2":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]},"3":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":6},"end":{"line":17,"column":6}},{"start":{"line":17,"column":6},"end":{"line":17,"column":6}}]},"4":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":6},"end":{"line":18,"column":6}},{"start":{"line":18,"column":6},"end":{"line":18,"column":6}}]},"5":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":10},"end":{"line":18,"column":25}},{"start":{"line":18,"column":29},"end":{"line":18,"column":47}}]},"6":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":4}},{"start":{"line":28,"column":4},"end":{"line":28,"column":4}}]},"7":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":6},"end":{"line":31,"column":6}},{"start":{"line":31,"column":6},"end":{"line":31,"column":6}}]},"8":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":6},"end":{"line":32,"column":6}},{"start":{"line":32,"column":6},"end":{"line":32,"column":6}}]},"9":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":10},"end":{"line":32,"column":25}},{"start":{"line":32,"column":29},"end":{"line":32,"column":47}}]},"10":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":2},"end":{"line":40,"column":2}},{"start":{"line":40,"column":2},"end":{"line":40,"column":2}}]},"11":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":41,"column":4}},{"start":{"line":41,"column":4},"end":{"line":41,"column":4}}]},"12":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":4}},{"start":{"line":51,"column":4},"end":{"line":51,"column":4}}]}},"code":["\"use strict\";","","var encoders = require('../lib/object-codec').encoders;","var decoders = require('../lib/object-codec').decoders;","var Binary = require('bodec').Binary;","","var cache = memCache.cache = {};","module.exports = memCache;","","function memCache(repo) {","  var loadAs = repo.loadAs;","  repo.loadAs = loadAsCached;","  function loadAsCached(type, hash, callback) {","    if (!callback) return loadAsCached.bind(this, type, hash);","    if (hash in cache) return callback(null, dupe(type, cache[hash]), hash);","    loadAs.call(repo, type, hash, function (err, value) {","      if (value === undefined) return callback(err);","      if (type !== \"blob\" || value.length < 100) {","        cache[hash] = dupe(type, value);","      }","      return callback.apply(this, arguments);","    });","  }","","  var saveAs = repo.saveAs;","  repo.saveAs = saveAsCached;","  function saveAsCached(type, value, callback) {","    if (!callback) return saveAsCached.bind(this, type, value);","    value = dupe(type, value);","    saveAs.call(repo, type, value, function (err, hash) {","      if (err) return callback(err);","      if (type !== \"blob\" || value.length < 100) {","        cache[hash] = value;","      }","      return callback(null, hash, value);","    });","  }","}","function dupe(type, value) {","  if (type === \"blob\") {","    if (type.length >= 100) return value;","    return new Binary(value);","  }","  return decoders[type](encoders[type](value));","}","","function deepFreeze(obj) {","  Object.freeze(obj);","  Object.keys(obj).forEach(function (key) {","    var value = obj[key];","    if (typeof value === \"object\") deepFreeze(value);","  });","}",""],"l":{"3":1,"4":1,"5":1,"7":1,"8":1,"10":1,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"21":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"35":0,"39":1,"40":0,"41":0,"42":0,"44":0,"47":1,"48":0,"49":0,"50":0,"51":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/mem-db.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/mem-db.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"mixin","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":21}}},"2":{"name":"readRef","line":23,"loc":{"start":{"line":23,"column":2},"end":{"line":23,"column":34}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":21},"end":{"line":24,"column":33}}},"4":{"name":"listRefs","line":29,"loc":{"start":{"line":29,"column":2},"end":{"line":29,"column":38}}},"5":{"name":"(anonymous_5)","line":30,"loc":{"start":{"line":30,"column":21},"end":{"line":30,"column":33}}},"6":{"name":"(anonymous_6)","line":33,"loc":{"start":{"line":33,"column":32},"end":{"line":33,"column":48}}},"7":{"name":"updateRef","line":41,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":42}}},"8":{"name":"(anonymous_8)","line":42,"loc":{"start":{"line":42,"column":21},"end":{"line":42,"column":33}}},"9":{"name":"hasHash","line":47,"loc":{"start":{"line":47,"column":2},"end":{"line":47,"column":35}}},"10":{"name":"(anonymous_10)","line":48,"loc":{"start":{"line":48,"column":21},"end":{"line":48,"column":33}}},"11":{"name":"saveAs","line":54,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":40}}},"12":{"name":"(anonymous_12)","line":55,"loc":{"start":{"line":55,"column":21},"end":{"line":55,"column":33}}},"13":{"name":"saveRaw","line":63,"loc":{"start":{"line":63,"column":2},"end":{"line":63,"column":43}}},"14":{"name":"(anonymous_14)","line":64,"loc":{"start":{"line":64,"column":21},"end":{"line":64,"column":33}}},"15":{"name":"loadAs","line":69,"loc":{"start":{"line":69,"column":2},"end":{"line":69,"column":40}}},"16":{"name":"(anonymous_16)","line":70,"loc":{"start":{"line":70,"column":21},"end":{"line":70,"column":33}}},"17":{"name":"loadRaw","line":80,"loc":{"start":{"line":80,"column":2},"end":{"line":80,"column":35}}},"18":{"name":"(anonymous_18)","line":81,"loc":{"start":{"line":81,"column":21},"end":{"line":81,"column":33}}},"19":{"name":"makeAsync","line":87,"loc":{"start":{"line":87,"column":0},"end":{"line":87,"column":33}}},"20":{"name":"(anonymous_20)","line":89,"loc":{"start":{"line":89,"column":8},"end":{"line":89,"column":20}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":23}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":30}},"6":{"start":{"line":10,"column":0},"end":{"line":85,"column":1}},"7":{"start":{"line":11,"column":2},"end":{"line":11,"column":19}},"8":{"start":{"line":12,"column":2},"end":{"line":12,"column":16}},"9":{"start":{"line":14,"column":2},"end":{"line":14,"column":23}},"10":{"start":{"line":15,"column":2},"end":{"line":15,"column":23}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":25}},"12":{"start":{"line":17,"column":2},"end":{"line":17,"column":25}},"13":{"start":{"line":18,"column":2},"end":{"line":18,"column":25}},"14":{"start":{"line":19,"column":2},"end":{"line":19,"column":25}},"15":{"start":{"line":20,"column":2},"end":{"line":20,"column":29}},"16":{"start":{"line":21,"column":2},"end":{"line":21,"column":27}},"17":{"start":{"line":23,"column":2},"end":{"line":27,"column":3}},"18":{"start":{"line":24,"column":4},"end":{"line":26,"column":17}},"19":{"start":{"line":25,"column":6},"end":{"line":25,"column":23}},"20":{"start":{"line":29,"column":2},"end":{"line":39,"column":3}},"21":{"start":{"line":30,"column":4},"end":{"line":38,"column":17}},"22":{"start":{"line":31,"column":6},"end":{"line":31,"column":62}},"23":{"start":{"line":32,"column":6},"end":{"line":32,"column":19}},"24":{"start":{"line":33,"column":6},"end":{"line":36,"column":9}},"25":{"start":{"line":34,"column":8},"end":{"line":34,"column":47}},"26":{"start":{"line":34,"column":40},"end":{"line":34,"column":47}},"27":{"start":{"line":35,"column":8},"end":{"line":35,"column":31}},"28":{"start":{"line":37,"column":6},"end":{"line":37,"column":17}},"29":{"start":{"line":41,"column":2},"end":{"line":45,"column":3}},"30":{"start":{"line":42,"column":4},"end":{"line":44,"column":17}},"31":{"start":{"line":43,"column":6},"end":{"line":43,"column":32}},"32":{"start":{"line":47,"column":2},"end":{"line":52,"column":3}},"33":{"start":{"line":48,"column":4},"end":{"line":51,"column":17}},"34":{"start":{"line":49,"column":6},"end":{"line":49,"column":48}},"35":{"start":{"line":49,"column":30},"end":{"line":49,"column":48}},"36":{"start":{"line":50,"column":6},"end":{"line":50,"column":29}},"37":{"start":{"line":54,"column":2},"end":{"line":61,"column":3}},"38":{"start":{"line":55,"column":4},"end":{"line":60,"column":17}},"39":{"start":{"line":56,"column":6},"end":{"line":56,"column":54}},"40":{"start":{"line":57,"column":6},"end":{"line":57,"column":30}},"41":{"start":{"line":58,"column":6},"end":{"line":58,"column":29}},"42":{"start":{"line":59,"column":6},"end":{"line":59,"column":18}},"43":{"start":{"line":63,"column":2},"end":{"line":67,"column":3}},"44":{"start":{"line":64,"column":4},"end":{"line":66,"column":17}},"45":{"start":{"line":65,"column":6},"end":{"line":65,"column":29}},"46":{"start":{"line":69,"column":2},"end":{"line":78,"column":3}},"47":{"start":{"line":70,"column":4},"end":{"line":77,"column":17}},"48":{"start":{"line":71,"column":6},"end":{"line":71,"column":48}},"49":{"start":{"line":71,"column":30},"end":{"line":71,"column":48}},"50":{"start":{"line":72,"column":6},"end":{"line":72,"column":33}},"51":{"start":{"line":73,"column":6},"end":{"line":73,"column":29}},"52":{"start":{"line":73,"column":19},"end":{"line":73,"column":29}},"53":{"start":{"line":74,"column":6},"end":{"line":74,"column":44}},"54":{"start":{"line":75,"column":6},"end":{"line":75,"column":66}},"55":{"start":{"line":75,"column":29},"end":{"line":75,"column":66}},"56":{"start":{"line":76,"column":6},"end":{"line":76,"column":22}},"57":{"start":{"line":80,"column":2},"end":{"line":84,"column":3}},"58":{"start":{"line":81,"column":4},"end":{"line":83,"column":17}},"59":{"start":{"line":82,"column":6},"end":{"line":82,"column":27}},"60":{"start":{"line":87,"column":0},"end":{"line":95,"column":1}},"61":{"start":{"line":88,"column":2},"end":{"line":88,"column":49}},"62":{"start":{"line":88,"column":17},"end":{"line":88,"column":49}},"63":{"start":{"line":89,"column":2},"end":{"line":94,"column":5}},"64":{"start":{"line":90,"column":4},"end":{"line":90,"column":12}},"65":{"start":{"line":91,"column":4},"end":{"line":92,"column":41}},"66":{"start":{"line":91,"column":10},"end":{"line":91,"column":21}},"67":{"start":{"line":92,"column":18},"end":{"line":92,"column":39}},"68":{"start":{"line":93,"column":4},"end":{"line":93,"column":24}}},"branchMap":{"1":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":18},"end":{"line":31,"column":24}},{"start":{"line":31,"column":28},"end":{"line":31,"column":61}}]},"2":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":34,"column":8}},{"start":{"line":34,"column":8},"end":{"line":34,"column":8}}]},"3":{"line":34,"type":"binary-expr","locations":[{"start":{"line":34,"column":12},"end":{"line":34,"column":17}},{"start":{"line":34,"column":21},"end":{"line":34,"column":38}}]},"4":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":6},"end":{"line":49,"column":6}},{"start":{"line":49,"column":6},"end":{"line":49,"column":6}}]},"5":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":6},"end":{"line":71,"column":6}},{"start":{"line":71,"column":6},"end":{"line":71,"column":6}}]},"6":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":6},"end":{"line":73,"column":6}},{"start":{"line":73,"column":6},"end":{"line":73,"column":6}}]},"7":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":6},"end":{"line":75,"column":6}},{"start":{"line":75,"column":6},"end":{"line":75,"column":6}}]},"8":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":2},"end":{"line":88,"column":2}},{"start":{"line":88,"column":2},"end":{"line":88,"column":2}}]}},"code":["\"use strict\";","","var defer = require('../lib/defer.js');","var codec = require('../lib/object-codec.js');","var sha1 = require('git-sha1');","","module.exports = mixin;","var isHash = /^[0-9a-f]{40}$/;","","function mixin(repo) {","  var objects = {};","  var refs = {};","","  repo.saveAs = saveAs;","  repo.loadAs = loadAs;","  repo.saveRaw = saveRaw;","  repo.loadRaw = loadRaw;","  repo.hasHash = hasHash;","  repo.readRef = readRef;","  repo.updateRef = updateRef;","  repo.listRefs = listRefs;","","  function readRef(ref, callback) {","    return makeAsync(function () {","      return refs[ref];","    }, callback);","  }","","  function listRefs(prefix, callback) {","    return makeAsync(function () {","      var regex = prefix && new RegExp(\"^\" + prefix + \"[/$]\");","      var out = {};","      Object.keys(refs).forEach(function (name) {","        if (regex && !regex.test(name)) return;","        out[name] = refs[name];","      });","      return out;","    }, callback);","  }","","  function updateRef(ref, hash, callback) {","    return makeAsync(function () {","      return (refs[ref] = hash);","    }, callback);","  }","","  function hasHash(hash, callback) {","    return makeAsync(function () {","      if (!isHash.test(hash)) hash = refs[hash];","      return hash in objects;","    }, callback);","  }","","  function saveAs(type, body, callback) {","    return makeAsync(function () {","      var buffer = codec.frame({type:type,body:body});","      var hash = sha1(buffer);","      objects[hash] = buffer;","      return hash;","    }, callback);","  }","","  function saveRaw(hash, buffer, callback) {","    return makeAsync(function () {","      objects[hash] = buffer;","    }, callback);","  }","","  function loadAs(type, hash, callback) {","    return makeAsync(function () {","      if (!isHash.test(hash)) hash = refs[hash];","      var buffer = objects[hash];","      if (!buffer) return [];","      var obj = codec.deframe(buffer, true);","      if (obj.type !== type) throw new TypeError(\"Type mismatch\");","      return obj.body;","    }, callback);","  }","","  function loadRaw(hash, callback) {","    return makeAsync(function () {","      return objects[hash];","    }, callback);","  }","}","","function makeAsync(fn, callback) {","  if (!callback) return makeAsync.bind(null, fn);","  defer(function () {","    var out;","    try { out = fn(); }","    catch (err) { return callback(err); }","    callback(null, out);","  });","}",""],"l":{"3":1,"4":1,"5":1,"7":1,"8":1,"10":1,"11":0,"12":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"23":1,"24":0,"25":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"37":0,"41":1,"42":0,"43":0,"47":1,"48":0,"49":0,"50":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"63":1,"64":0,"65":0,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"80":1,"81":0,"82":0,"87":1,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/pack-ops.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/pack-ops.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":1,"100":0,"101":0,"102":0,"103":0,"104":0,"105":1,"106":0,"107":0,"108":0,"109":0,"110":0,"111":1,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":1,"126":0,"127":0,"128":1,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":1,"136":0,"137":0,"138":0,"139":1,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":1,"150":0,"151":0,"152":0,"153":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":17},"end":{"line":10,"column":33}}},"2":{"name":"unpack","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":45}}},"3":{"name":"onDone","line":41,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":23}}},"4":{"name":"onStats","line":48,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":31}}},"5":{"name":"objectProgress","line":55,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":32}}},"6":{"name":"deltaProgress","line":61,"loc":{"start":{"line":61,"column":2},"end":{"line":61,"column":31}}},"7":{"name":"onRead","line":67,"loc":{"start":{"line":67,"column":2},"end":{"line":67,"column":29}}},"8":{"name":"resolveDelta","line":86,"loc":{"start":{"line":86,"column":2},"end":{"line":86,"column":30}}},"9":{"name":"(anonymous_9)","line":88,"loc":{"start":{"line":88,"column":34},"end":{"line":88,"column":57}}},"10":{"name":"checkDelta","line":98,"loc":{"start":{"line":98,"column":2},"end":{"line":98,"column":28}}},"11":{"name":"(anonymous_11)","line":102,"loc":{"start":{"line":102,"column":34},"end":{"line":102,"column":56}}},"12":{"name":"saveValue","line":110,"loc":{"start":{"line":110,"column":2},"end":{"line":110,"column":27}}},"13":{"name":"onSave","line":127,"loc":{"start":{"line":127,"column":2},"end":{"line":127,"column":23}}},"14":{"name":"enqueueDelta","line":132,"loc":{"start":{"line":132,"column":2},"end":{"line":132,"column":30}}},"15":{"name":"pack","line":142,"loc":{"start":{"line":142,"column":0},"end":{"line":142,"column":38}}},"16":{"name":"take","line":149,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":26}}},"17":{"name":"(anonymous_17)","line":156,"loc":{"start":{"line":156,"column":23},"end":{"line":156,"column":46}}},"18":{"name":"readFirst","line":164,"loc":{"start":{"line":164,"column":2},"end":{"line":164,"column":31}}},"19":{"name":"values","line":170,"loc":{"start":{"line":170,"column":0},"end":{"line":170,"column":24}}},"20":{"name":"applyParser","line":181,"loc":{"start":{"line":181,"column":0},"end":{"line":181,"column":46}}},"21":{"name":"onData","line":186,"loc":{"start":{"line":186,"column":2},"end":{"line":186,"column":29}}},"22":{"name":"onDrain","line":195,"loc":{"start":{"line":195,"column":2},"end":{"line":195,"column":24}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":60}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":60}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":37}},"7":{"start":{"line":10,"column":0},"end":{"line":19,"column":2}},"8":{"start":{"line":14,"column":2},"end":{"line":14,"column":23}},"9":{"start":{"line":18,"column":2},"end":{"line":18,"column":19}},"10":{"start":{"line":21,"column":0},"end":{"line":139,"column":1}},"11":{"start":{"line":23,"column":2},"end":{"line":23,"column":61}},"12":{"start":{"line":23,"column":17},"end":{"line":23,"column":61}},"13":{"start":{"line":25,"column":2},"end":{"line":25,"column":63}},"14":{"start":{"line":27,"column":2},"end":{"line":27,"column":18}},"15":{"start":{"line":29,"column":2},"end":{"line":29,"column":62}},"16":{"start":{"line":30,"column":2},"end":{"line":30,"column":39}},"17":{"start":{"line":33,"column":2},"end":{"line":33,"column":18}},"18":{"start":{"line":35,"column":2},"end":{"line":35,"column":15}},"19":{"start":{"line":37,"column":2},"end":{"line":37,"column":19}},"20":{"start":{"line":39,"column":2},"end":{"line":39,"column":35}},"21":{"start":{"line":41,"column":2},"end":{"line":46,"column":3}},"22":{"start":{"line":42,"column":4},"end":{"line":42,"column":21}},"23":{"start":{"line":42,"column":14},"end":{"line":42,"column":21}},"24":{"start":{"line":43,"column":4},"end":{"line":43,"column":16}},"25":{"start":{"line":44,"column":4},"end":{"line":44,"column":34}},"26":{"start":{"line":44,"column":13},"end":{"line":44,"column":34}},"27":{"start":{"line":45,"column":4},"end":{"line":45,"column":42}},"28":{"start":{"line":48,"column":2},"end":{"line":53,"column":3}},"29":{"start":{"line":49,"column":4},"end":{"line":49,"column":32}},"30":{"start":{"line":49,"column":13},"end":{"line":49,"column":32}},"31":{"start":{"line":50,"column":4},"end":{"line":50,"column":28}},"32":{"start":{"line":51,"column":4},"end":{"line":51,"column":20}},"33":{"start":{"line":52,"column":4},"end":{"line":52,"column":29}},"34":{"start":{"line":55,"column":2},"end":{"line":59,"column":3}},"35":{"start":{"line":56,"column":4},"end":{"line":56,"column":41}},"36":{"start":{"line":56,"column":15},"end":{"line":56,"column":41}},"37":{"start":{"line":57,"column":4},"end":{"line":57,"column":48}},"38":{"start":{"line":58,"column":4},"end":{"line":58,"column":124}},"39":{"start":{"line":61,"column":2},"end":{"line":65,"column":3}},"40":{"start":{"line":62,"column":4},"end":{"line":62,"column":36}},"41":{"start":{"line":62,"column":29},"end":{"line":62,"column":36}},"42":{"start":{"line":63,"column":4},"end":{"line":63,"column":60}},"43":{"start":{"line":64,"column":4},"end":{"line":64,"column":134}},"44":{"start":{"line":67,"column":2},"end":{"line":84,"column":3}},"45":{"start":{"line":68,"column":4},"end":{"line":68,"column":32}},"46":{"start":{"line":68,"column":13},"end":{"line":68,"column":32}},"47":{"start":{"line":69,"column":4},"end":{"line":69,"column":46}},"48":{"start":{"line":69,"column":25},"end":{"line":69,"column":46}},"49":{"start":{"line":70,"column":4},"end":{"line":70,"column":44}},"50":{"start":{"line":70,"column":28},"end":{"line":70,"column":44}},"51":{"start":{"line":71,"column":4},"end":{"line":73,"column":5}},"52":{"start":{"line":72,"column":6},"end":{"line":72,"column":53}},"53":{"start":{"line":74,"column":4},"end":{"line":78,"column":5}},"54":{"start":{"line":75,"column":6},"end":{"line":75,"column":18}},"55":{"start":{"line":76,"column":6},"end":{"line":76,"column":48}},"56":{"start":{"line":77,"column":6},"end":{"line":77,"column":32}},"57":{"start":{"line":79,"column":4},"end":{"line":82,"column":5}},"58":{"start":{"line":80,"column":6},"end":{"line":80,"column":18}},"59":{"start":{"line":81,"column":6},"end":{"line":81,"column":30}},"60":{"start":{"line":83,"column":4},"end":{"line":83,"column":27}},"61":{"start":{"line":86,"column":2},"end":{"line":96,"column":3}},"62":{"start":{"line":87,"column":4},"end":{"line":87,"column":41}},"63":{"start":{"line":87,"column":25},"end":{"line":87,"column":41}},"64":{"start":{"line":88,"column":4},"end":{"line":95,"column":7}},"65":{"start":{"line":89,"column":6},"end":{"line":89,"column":34}},"66":{"start":{"line":89,"column":15},"end":{"line":89,"column":34}},"67":{"start":{"line":90,"column":6},"end":{"line":90,"column":81}},"68":{"start":{"line":90,"column":19},"end":{"line":90,"column":81}},"69":{"start":{"line":91,"column":6},"end":{"line":91,"column":41}},"70":{"start":{"line":92,"column":6},"end":{"line":92,"column":30}},"71":{"start":{"line":93,"column":6},"end":{"line":93,"column":53}},"72":{"start":{"line":94,"column":6},"end":{"line":94,"column":29}},"73":{"start":{"line":98,"column":2},"end":{"line":108,"column":3}},"74":{"start":{"line":99,"column":4},"end":{"line":99,"column":34}},"75":{"start":{"line":100,"column":4},"end":{"line":100,"column":54}},"76":{"start":{"line":100,"column":28},"end":{"line":100,"column":54}},"77":{"start":{"line":101,"column":4},"end":{"line":101,"column":55}},"78":{"start":{"line":101,"column":29},"end":{"line":101,"column":55}},"79":{"start":{"line":102,"column":4},"end":{"line":107,"column":7}},"80":{"start":{"line":103,"column":6},"end":{"line":103,"column":34}},"81":{"start":{"line":103,"column":15},"end":{"line":103,"column":34}},"82":{"start":{"line":104,"column":6},"end":{"line":104,"column":28}},"83":{"start":{"line":105,"column":6},"end":{"line":105,"column":43}},"84":{"start":{"line":105,"column":17},"end":{"line":105,"column":43}},"85":{"start":{"line":106,"column":6},"end":{"line":106,"column":32}},"86":{"start":{"line":110,"column":2},"end":{"line":125,"column":3}},"87":{"start":{"line":111,"column":4},"end":{"line":111,"column":35}},"88":{"start":{"line":112,"column":4},"end":{"line":112,"column":28}},"89":{"start":{"line":113,"column":4},"end":{"line":113,"column":31}},"90":{"start":{"line":114,"column":4},"end":{"line":114,"column":21}},"91":{"start":{"line":115,"column":4},"end":{"line":123,"column":5}},"92":{"start":{"line":118,"column":6},"end":{"line":121,"column":9}},"93":{"start":{"line":122,"column":6},"end":{"line":122,"column":56}},"94":{"start":{"line":124,"column":4},"end":{"line":124,"column":46}},"95":{"start":{"line":127,"column":2},"end":{"line":130,"column":3}},"96":{"start":{"line":128,"column":4},"end":{"line":128,"column":34}},"97":{"start":{"line":128,"column":13},"end":{"line":128,"column":34}},"98":{"start":{"line":129,"column":4},"end":{"line":129,"column":29}},"99":{"start":{"line":132,"column":2},"end":{"line":137,"column":3}},"100":{"start":{"line":133,"column":4},"end":{"line":133,"column":33}},"101":{"start":{"line":134,"column":4},"end":{"line":135,"column":25}},"102":{"start":{"line":134,"column":15},"end":{"line":134,"column":42}},"103":{"start":{"line":135,"column":9},"end":{"line":135,"column":25}},"104":{"start":{"line":136,"column":4},"end":{"line":136,"column":29}},"105":{"start":{"line":142,"column":0},"end":{"line":168,"column":1}},"106":{"start":{"line":144,"column":2},"end":{"line":144,"column":54}},"107":{"start":{"line":144,"column":17},"end":{"line":144,"column":54}},"108":{"start":{"line":145,"column":2},"end":{"line":145,"column":18}},"109":{"start":{"line":146,"column":2},"end":{"line":146,"column":40}},"110":{"start":{"line":147,"column":2},"end":{"line":147,"column":65}},"111":{"start":{"line":149,"column":2},"end":{"line":162,"column":3}},"112":{"start":{"line":150,"column":4},"end":{"line":150,"column":32}},"113":{"start":{"line":150,"column":14},"end":{"line":150,"column":32}},"114":{"start":{"line":151,"column":4},"end":{"line":151,"column":42}},"115":{"start":{"line":151,"column":15},"end":{"line":151,"column":42}},"116":{"start":{"line":152,"column":4},"end":{"line":152,"column":27}},"117":{"start":{"line":153,"column":4},"end":{"line":155,"column":5}},"118":{"start":{"line":154,"column":6},"end":{"line":154,"column":24}},"119":{"start":{"line":156,"column":4},"end":{"line":161,"column":7}},"120":{"start":{"line":157,"column":6},"end":{"line":157,"column":36}},"121":{"start":{"line":157,"column":15},"end":{"line":157,"column":36}},"122":{"start":{"line":158,"column":6},"end":{"line":158,"column":71}},"123":{"start":{"line":158,"column":19},"end":{"line":158,"column":71}},"124":{"start":{"line":160,"column":6},"end":{"line":160,"column":44}},"125":{"start":{"line":164,"column":2},"end":{"line":167,"column":3}},"126":{"start":{"line":165,"column":4},"end":{"line":165,"column":18}},"127":{"start":{"line":166,"column":4},"end":{"line":166,"column":41}},"128":{"start":{"line":170,"column":0},"end":{"line":178,"column":1}},"129":{"start":{"line":171,"column":2},"end":{"line":171,"column":33}},"130":{"start":{"line":172,"column":2},"end":{"line":172,"column":27}},"131":{"start":{"line":173,"column":2},"end":{"line":173,"column":30}},"132":{"start":{"line":174,"column":2},"end":{"line":176,"column":3}},"133":{"start":{"line":175,"column":4},"end":{"line":175,"column":29}},"134":{"start":{"line":177,"column":2},"end":{"line":177,"column":13}},"135":{"start":{"line":181,"column":0},"end":{"line":201,"column":1}},"136":{"start":{"line":182,"column":2},"end":{"line":182,"column":28}},"137":{"start":{"line":183,"column":2},"end":{"line":183,"column":32}},"138":{"start":{"line":184,"column":2},"end":{"line":184,"column":22}},"139":{"start":{"line":186,"column":2},"end":{"line":193,"column":3}},"140":{"start":{"line":187,"column":4},"end":{"line":187,"column":33}},"141":{"start":{"line":187,"column":13},"end":{"line":187,"column":33}},"142":{"start":{"line":188,"column":4},"end":{"line":188,"column":13}},"143":{"start":{"line":189,"column":4},"end":{"line":190,"column":40}},"144":{"start":{"line":189,"column":10},"end":{"line":189,"column":33}},"145":{"start":{"line":190,"column":18},"end":{"line":190,"column":38}},"146":{"start":{"line":191,"column":4},"end":{"line":192,"column":30}},"147":{"start":{"line":191,"column":14},"end":{"line":191,"column":34}},"148":{"start":{"line":192,"column":9},"end":{"line":192,"column":30}},"149":{"start":{"line":195,"column":2},"end":{"line":198,"column":3}},"150":{"start":{"line":196,"column":4},"end":{"line":196,"column":33}},"151":{"start":{"line":196,"column":13},"end":{"line":196,"column":33}},"152":{"start":{"line":197,"column":4},"end":{"line":197,"column":24}},"153":{"start":{"line":200,"column":2},"end":{"line":200,"column":30}}},"branchMap":{"1":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":2},"end":{"line":23,"column":2}},{"start":{"line":23,"column":2},"end":{"line":23,"column":2}}]},"2":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":42,"column":4}},{"start":{"line":42,"column":4},"end":{"line":42,"column":4}}]},"3":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":4},"end":{"line":44,"column":4}},{"start":{"line":44,"column":4},"end":{"line":44,"column":4}}]},"4":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":49,"column":4}},{"start":{"line":49,"column":4},"end":{"line":49,"column":4}}]},"5":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":4}},{"start":{"line":56,"column":4},"end":{"line":56,"column":4}}]},"6":{"line":58,"type":"cond-expr","locations":[{"start":{"line":58,"column":110},"end":{"line":58,"column":114}},{"start":{"line":58,"column":117},"end":{"line":58,"column":121}}]},"7":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":4},"end":{"line":62,"column":4}},{"start":{"line":62,"column":4},"end":{"line":62,"column":4}}]},"8":{"line":64,"type":"cond-expr","locations":[{"start":{"line":64,"column":120},"end":{"line":64,"column":124}},{"start":{"line":64,"column":127},"end":{"line":64,"column":131}}]},"9":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":4}},{"start":{"line":68,"column":4},"end":{"line":68,"column":4}}]},"10":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":4},"end":{"line":69,"column":4}},{"start":{"line":69,"column":4},"end":{"line":69,"column":4}}]},"11":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":4},"end":{"line":70,"column":4}},{"start":{"line":70,"column":4},"end":{"line":70,"column":4}}]},"12":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":71,"column":4}},{"start":{"line":71,"column":4},"end":{"line":71,"column":4}}]},"13":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":4},"end":{"line":74,"column":4}},{"start":{"line":74,"column":4},"end":{"line":74,"column":4}}]},"14":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":4},"end":{"line":79,"column":4}},{"start":{"line":79,"column":4},"end":{"line":79,"column":4}}]},"15":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":4}},{"start":{"line":87,"column":4},"end":{"line":87,"column":4}}]},"16":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":6},"end":{"line":89,"column":6}},{"start":{"line":89,"column":6},"end":{"line":89,"column":6}}]},"17":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":6},"end":{"line":90,"column":6}},{"start":{"line":90,"column":6},"end":{"line":90,"column":6}}]},"18":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":4},"end":{"line":100,"column":4}},{"start":{"line":100,"column":4},"end":{"line":100,"column":4}}]},"19":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":4},"end":{"line":101,"column":4}},{"start":{"line":101,"column":4},"end":{"line":101,"column":4}}]},"20":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":6},"end":{"line":103,"column":6}},{"start":{"line":103,"column":6},"end":{"line":103,"column":6}}]},"21":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":6},"end":{"line":105,"column":6}},{"start":{"line":105,"column":6},"end":{"line":105,"column":6}}]},"22":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":4},"end":{"line":115,"column":4}},{"start":{"line":115,"column":4},"end":{"line":115,"column":4}}]},"23":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":4},"end":{"line":128,"column":4}},{"start":{"line":128,"column":4},"end":{"line":128,"column":4}}]},"24":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":4},"end":{"line":134,"column":4}},{"start":{"line":134,"column":4},"end":{"line":134,"column":4}}]},"25":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":2},"end":{"line":144,"column":2}},{"start":{"line":144,"column":2},"end":{"line":144,"column":2}}]},"26":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":4},"end":{"line":150,"column":4}},{"start":{"line":150,"column":4},"end":{"line":150,"column":4}}]},"27":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":4},"end":{"line":151,"column":4}},{"start":{"line":151,"column":4},"end":{"line":151,"column":4}}]},"28":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":4},"end":{"line":153,"column":4}},{"start":{"line":153,"column":4},"end":{"line":153,"column":4}}]},"29":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":6},"end":{"line":157,"column":6}},{"start":{"line":157,"column":6},"end":{"line":157,"column":6}}]},"30":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":6},"end":{"line":158,"column":6}},{"start":{"line":158,"column":6},"end":{"line":158,"column":6}}]},"31":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":4},"end":{"line":187,"column":4}},{"start":{"line":187,"column":4},"end":{"line":187,"column":4}}]},"32":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":4},"end":{"line":191,"column":4}},{"start":{"line":191,"column":4},"end":{"line":191,"column":4}}]},"33":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":4},"end":{"line":196,"column":4}},{"start":{"line":196,"column":4},"end":{"line":196,"column":4}}]}},"code":["\"use strict\";","","var sha1 = require('git-sha1');","var applyDelta = require('../lib/apply-delta.js');","var codec = require('../lib/object-codec.js');","var decodePack = require('../lib/pack-codec.js').decodePack;","var encodePack = require('../lib/pack-codec.js').encodePack;","var makeChannel = require('culvert');","","module.exports = function (repo) {","  // packChannel is a writable culvert channel {put,drain} containing raw packfile binary data","  // opts can contain \"onProgress\" or \"onError\" hook functions.","  // callback will be called with a list of all unpacked hashes on success.","  repo.unpack = unpack; // (packChannel, opts) => hashes","","  // hashes is an array of hashes to pack","  // packChannel will be a readable culvert channel {take} containing raw packfile binary data","  repo.pack = pack;     // (hashes, opts) => packChannel","};","","function unpack(packChannel, opts, callback) {","  /*jshint validthis:true*/","  if (!callback) return unpack.bind(this, packChannel, opts);","","  packChannel = applyParser(packChannel, decodePack, callback);","","  var repo = this;","","  var version, num, numDeltas = 0, count = 0, countDeltas = 0;","  var done, startDeltaProgress = false;","","  // hashes keyed by offset for ofs-delta resolving","  var hashes = {};","  // key is hash, boolean is cached \"has\" value of true or false","  var has = {};","  // key is hash we're waiting for, value is array of items that are waiting.","  var pending = {};","","  return packChannel.take(onStats);","","  function onDone(err) {","    if (done) return;","    done = true;","    if (err) return callback(err);","    return callback(null, values(hashes));","  }","","  function onStats(err, stats) {","    if (err) return onDone(err);","    version = stats.version;","    num = stats.num;","    packChannel.take(onRead);","  }","","  function objectProgress(more) {","    if (!more) startDeltaProgress = true;","    var percent = Math.round(count / num * 100);","    return opts.onProgress(\"Receiving objects: \" + percent + \"% (\" + (count++) + \"/\" + num + \")   \" + (more ? \"\\r\" : \"\\n\"));","  }","","  function deltaProgress(more) {","    if (!startDeltaProgress) return;","    var percent = Math.round(countDeltas / numDeltas * 100);","    return opts.onProgress(\"Applying deltas: \" + percent + \"% (\" + (countDeltas++) + \"/\" + numDeltas + \")   \" + (more ? \"\\r\" : \"\\n\"));","  }","","  function onRead(err, item) {","    if (err) return onDone(err);","    if (opts.onProgress) objectProgress(item);","    if (item === undefined) return onDone();","    if (item.size !== item.body.length) {","      return onDone(new Error(\"Body size mismatch\"));","    }","    if (item.type === \"ofs-delta\") {","      numDeltas++;","      item.ref = hashes[item.offset - item.ref];","      return resolveDelta(item);","    }","    if (item.type === \"ref-delta\") {","      numDeltas++;","      return checkDelta(item);","    }","    return saveValue(item);","  }","","  function resolveDelta(item) {","    if (opts.onProgress) deltaProgress();","    return repo.loadRaw(item.ref, function (err, buffer) {","      if (err) return onDone(err);","      if (!buffer) return onDone(new Error(\"Missing base image at \" + item.ref));","      var target = codec.deframe(buffer);","      item.type = target.type;","      item.body = applyDelta(item.body, target.body);","      return saveValue(item);","    });","  }","","  function checkDelta(item) {","    var hasTarget = has[item.ref];","    if (hasTarget === true) return resolveDelta(item);","    if (hasTarget === false) return enqueueDelta(item);","    return repo.hasHash(item.ref, function (err, value) {","      if (err) return onDone(err);","      has[item.ref] = value;","      if (value) return resolveDelta(item);","      return enqueueDelta(item);","    });","  }","","  function saveValue(item) {","    var buffer = codec.frame(item);","    var hash = sha1(buffer);","    hashes[item.offset] = hash;","    has[hash] = true;","    if (hash in pending) {","      // I have yet to come across a pack stream that actually needs this.","      // So I will only implement it when I have concrete data to test against.","      console.error({","        list: pending[hash],","        item: item","      });","      throw \"TODO: pending value was found, resolve it\";","    }","    return repo.saveRaw(hash, buffer, onSave);","  }","","  function onSave(err) {","    if (err) return callback(err);","    packChannel.take(onRead);","  }","","  function enqueueDelta(item) {","    var list = pending[item.ref];","    if (!list) pending[item.ref] = [item];","    else list.push(item);","    packChannel.take(onRead);","  }","","}","","// TODO: Implement delta refs to reduce stream size","function pack(hashes, opts, callback) {","  /*jshint validthis:true*/","  if (!callback) return pack.bind(this, hashes, opts);","  var repo = this;","  var i = 0, first = true, done = false;","  return callback(null, applyParser({ take: take }, encodePack));","","  function take(callback) {","    if (done) return callback();","    if (first) return readFirst(callback);","    var hash = hashes[i++];","    if (hash === undefined) {","      return callback();","    }","    repo.loadRaw(hash, function (err, buffer) {","      if (err) return callback(err);","      if (!buffer) return callback(new Error(\"Missing hash: \" + hash));","      // Reframe with pack format header","      callback(null, codec.deframe(buffer));","    });","  }","","  function readFirst(callback) {","    first = false;","    callback(null, {num: hashes.length});","  }","}","","function values(object) {","  var keys = Object.keys(object);","  var length = keys.length;","  var out = new Array(length);","  for (var i = 0; i < length; i++) {","    out[i] = object[keys[i]];","  }","  return out;","}","","","function applyParser(stream, parser, onError) {","  var extra = makeChannel();","  extra.put = parser(extra.put);","  stream.take(onData);","","  function onData(err, item) {","    if (err) return onError(err);","    var more;","    try { more = extra.put(item); }","    catch (err) { return onError(err); }","    if (more) stream.take(onData);","    else extra.drain(onDrain);","  }","","  function onDrain(err) {","    if (err) return onError(err);","    stream.take(onData);","  }","","  return { take: extra.take };","}",""],"l":{"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"10":1,"14":0,"18":0,"21":1,"23":0,"25":0,"27":0,"29":0,"30":0,"33":0,"35":0,"37":0,"39":0,"41":1,"42":0,"43":0,"44":0,"45":0,"48":1,"49":0,"50":0,"51":0,"52":0,"55":1,"56":0,"57":0,"58":0,"61":1,"62":0,"63":0,"64":0,"67":1,"68":0,"69":0,"70":0,"71":0,"72":0,"74":0,"75":0,"76":0,"77":0,"79":0,"80":0,"81":0,"83":0,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"98":1,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"110":1,"111":0,"112":0,"113":0,"114":0,"115":0,"118":0,"122":0,"124":0,"127":1,"128":0,"129":0,"132":1,"133":0,"134":0,"135":0,"136":0,"142":1,"144":0,"145":0,"146":0,"147":0,"149":1,"150":0,"151":0,"152":0,"153":0,"154":0,"156":0,"157":0,"158":0,"160":0,"164":1,"165":0,"166":0,"170":1,"171":0,"172":0,"173":0,"174":0,"175":0,"177":0,"181":1,"182":0,"183":0,"184":0,"186":1,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"195":1,"196":0,"197":0,"200":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/path-to-entry.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/path-to-entry.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":17},"end":{"line":4,"column":33}}},"2":{"name":"pathToEntry","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":47}}},"3":{"name":"loop","line":17,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":18}}},"4":{"name":"onLoad","line":45,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":36}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":33}},"5":{"start":{"line":8,"column":0},"end":{"line":51,"column":1}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":63}},"7":{"start":{"line":9,"column":17},"end":{"line":9,"column":63}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":18}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":24}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":22}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":46}},"12":{"start":{"line":14,"column":2},"end":{"line":14,"column":16}},"13":{"start":{"line":15,"column":2},"end":{"line":15,"column":13}},"14":{"start":{"line":16,"column":2},"end":{"line":16,"column":9}},"15":{"start":{"line":17,"column":2},"end":{"line":43,"column":3}},"16":{"start":{"line":18,"column":4},"end":{"line":38,"column":5}},"17":{"start":{"line":19,"column":6},"end":{"line":28,"column":7}},"18":{"start":{"line":20,"column":8},"end":{"line":20,"column":29}},"19":{"start":{"line":21,"column":8},"end":{"line":21,"column":62}},"20":{"start":{"line":21,"column":21},"end":{"line":21,"column":62}},"21":{"start":{"line":22,"column":8},"end":{"line":22,"column":41}},"22":{"start":{"line":23,"column":8},"end":{"line":23,"column":38}},"23":{"start":{"line":23,"column":20},"end":{"line":23,"column":38}},"24":{"start":{"line":24,"column":8},"end":{"line":24,"column":26}},"25":{"start":{"line":25,"column":8},"end":{"line":25,"column":26}},"26":{"start":{"line":26,"column":8},"end":{"line":26,"column":16}},"27":{"start":{"line":27,"column":8},"end":{"line":27,"column":17}},"28":{"start":{"line":29,"column":6},"end":{"line":29,"column":48}},"29":{"start":{"line":29,"column":30},"end":{"line":29,"column":48}},"30":{"start":{"line":30,"column":6},"end":{"line":37,"column":9}},"31":{"start":{"line":39,"column":4},"end":{"line":42,"column":7}},"32":{"start":{"line":45,"column":2},"end":{"line":49,"column":3}},"33":{"start":{"line":46,"column":4},"end":{"line":46,"column":77}},"34":{"start":{"line":46,"column":16},"end":{"line":46,"column":77}},"35":{"start":{"line":47,"column":4},"end":{"line":47,"column":24}},"36":{"start":{"line":48,"column":4},"end":{"line":48,"column":11}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":6}},{"start":{"line":19,"column":6},"end":{"line":19,"column":6}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":8}},{"start":{"line":21,"column":8},"end":{"line":21,"column":8}}]},"4":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":23,"column":8}},{"start":{"line":23,"column":8},"end":{"line":23,"column":8}}]},"5":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":6},"end":{"line":29,"column":6}},{"start":{"line":29,"column":6},"end":{"line":29,"column":6}}]},"6":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":46,"column":4}},{"start":{"line":46,"column":4},"end":{"line":46,"column":4}}]},"7":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":32},"end":{"line":46,"column":35}},{"start":{"line":46,"column":39},"end":{"line":46,"column":75}}]}},"code":["var cache = require('./mem-cache').cache;","var modes = require('../lib/modes');","","module.exports = function (repo) {","  repo.pathToEntry = pathToEntry;","};","","function pathToEntry(rootTree, path, callback) {","  if (!callback) return pathToEntry.bind(this, rootTree, path);","  var repo = this;","  var mode = modes.tree;","  var hash = rootTree;","  var parts = path.split(\"/\").filter(Boolean);","  var index = 0;","  var cached;","  loop();","  function loop() {","    while (index < parts.length) {","      if (mode === modes.tree) {","        cached = cache[hash];","        if (!cached) return repo.loadAs(\"tree\", hash, onLoad);","        var entry = cached[parts[index]];","        if (!entry) return callback();","        mode = entry.mode;","        hash = entry.hash;","        index++;","        continue;","      }","      if (modes.isFile(mode)) return callback();","      return callback(null, {","        last: {","          mode: mode,","          hash: hash,","          path: parts.slice(0, index).join(\"/\"),","          rest: parts.slice(index).join(\"/\"),","        }","      });","    }","    callback(null, {","      mode: mode,","      hash: hash","    });","  }","","  function onLoad(err, value) {","    if (!value) return callback(err || new Error(\"Missing object: \" + hash));","    cache[hash] = value;","    loop();","  }","","}",""],"l":{"1":1,"2":1,"4":1,"5":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"29":0,"30":0,"39":0,"45":1,"46":0,"47":0,"48":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/read-combiner.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/read-combiner.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":17},"end":{"line":5,"column":33}}},"2":{"name":"newLoadAs","line":11,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":43}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":34},"end":{"line":21,"column":46}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":28,"column":2}},"2":{"start":{"line":6,"column":2},"end":{"line":6,"column":23}},"3":{"start":{"line":8,"column":2},"end":{"line":8,"column":27}},"4":{"start":{"line":9,"column":2},"end":{"line":9,"column":26}},"5":{"start":{"line":11,"column":2},"end":{"line":27,"column":3}},"6":{"start":{"line":12,"column":4},"end":{"line":12,"column":59}},"7":{"start":{"line":12,"column":19},"end":{"line":12,"column":59}},"8":{"start":{"line":13,"column":4},"end":{"line":13,"column":33}},"9":{"start":{"line":14,"column":4},"end":{"line":18,"column":5}},"10":{"start":{"line":15,"column":6},"end":{"line":16,"column":31}},"11":{"start":{"line":15,"column":30},"end":{"line":15,"column":67}},"12":{"start":{"line":16,"column":11},"end":{"line":16,"column":31}},"13":{"start":{"line":17,"column":6},"end":{"line":17,"column":13}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"15":{"start":{"line":20,"column":4},"end":{"line":20,"column":21}},"16":{"start":{"line":21,"column":4},"end":{"line":26,"column":7}},"17":{"start":{"line":22,"column":6},"end":{"line":22,"column":31}},"18":{"start":{"line":23,"column":6},"end":{"line":25,"column":7}},"19":{"start":{"line":24,"column":8},"end":{"line":24,"column":39}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":4}},{"start":{"line":12,"column":4},"end":{"line":12,"column":4}}]},"2":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":4}},{"start":{"line":14,"column":4},"end":{"line":14,"column":4}}]},"3":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":6},"end":{"line":15,"column":6}},{"start":{"line":15,"column":6},"end":{"line":15,"column":6}}]}},"code":["\"use strict\";","","// This replaces loadAs with a version that batches concurrent requests for","// the same hash.","module.exports = function (repo) {","  var pendingReqs = {};","","  var loadAs = repo.loadAs;","  repo.loadAs = newLoadAs;","","  function newLoadAs(type, hash, callback) {","    if (!callback) return newLoadAs.bind(null, type, hash);","    var list = pendingReqs[hash];","    if (list) {","      if (list.type !== type) callback(new Error(\"Type mismatch\"));","      else list.push(callback);","      return;","    }","    list = pendingReqs[hash] = [callback];","    list.type = type;","    loadAs.call(repo, type, hash, function () {","      delete pendingReqs[hash];","      for (var i = 0, l = list.length; i < l; i++) {","        list[i].apply(this, arguments);","      }","    });","  }","};",""],"l":{"5":1,"6":0,"8":0,"9":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/sync.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/sync.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":1,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1,"65":0,"66":1,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":1,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":1,"98":0,"99":0,"100":0,"101":1,"102":0,"103":0,"104":0,"105":1,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":17},"end":{"line":5,"column":42}}},"2":{"name":"fetch","line":11,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":39}}},"3":{"name":"send","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":31}}},"4":{"name":"sync","line":25,"loc":{"start":{"line":25,"column":0},"end":{"line":25,"column":51}}},"5":{"name":"(anonymous_5)","line":31,"loc":{"start":{"line":31,"column":22},"end":{"line":31,"column":43}}},"6":{"name":"(anonymous_6)","line":33,"loc":{"start":{"line":33,"column":30},"end":{"line":33,"column":45}}},"7":{"name":"check","line":40,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":39}}},"8":{"name":"(anonymous_8)","line":44,"loc":{"start":{"line":44,"column":24},"end":{"line":44,"column":44}}},"9":{"name":"importCommit","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":51,"column":47}}},"10":{"name":"onCheck","line":54,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":31}}},"11":{"name":"onLoad","line":59,"loc":{"start":{"line":59,"column":4},"end":{"line":59,"column":33}}},"12":{"name":"onImport","line":64,"loc":{"start":{"line":64,"column":6},"end":{"line":64,"column":29}}},"13":{"name":"onSave","line":73,"loc":{"start":{"line":73,"column":4},"end":{"line":73,"column":34}}},"14":{"name":"importTree","line":83,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":38}}},"15":{"name":"onCheck","line":86,"loc":{"start":{"line":86,"column":4},"end":{"line":86,"column":31}}},"16":{"name":"onLoad","line":91,"loc":{"start":{"line":91,"column":4},"end":{"line":91,"column":31}}},"17":{"name":"onImport","line":97,"loc":{"start":{"line":97,"column":6},"end":{"line":97,"column":29}}},"18":{"name":"onSave","line":115,"loc":{"start":{"line":115,"column":4},"end":{"line":115,"column":34}}},"19":{"name":"importBlob","line":125,"loc":{"start":{"line":125,"column":2},"end":{"line":125,"column":38}}},"20":{"name":"onCheck","line":128,"loc":{"start":{"line":128,"column":4},"end":{"line":128,"column":31}}},"21":{"name":"onLoad","line":133,"loc":{"start":{"line":133,"column":4},"end":{"line":133,"column":31}}},"22":{"name":"onSave","line":138,"loc":{"start":{"line":138,"column":4},"end":{"line":138,"column":34}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"2":{"start":{"line":5,"column":0},"end":{"line":20,"column":2}},"3":{"start":{"line":6,"column":2},"end":{"line":6,"column":22}},"4":{"start":{"line":7,"column":2},"end":{"line":7,"column":20}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":52}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":56}},"7":{"start":{"line":11,"column":2},"end":{"line":14,"column":3}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":56}},"9":{"start":{"line":12,"column":19},"end":{"line":12,"column":56}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":46}},"11":{"start":{"line":16,"column":2},"end":{"line":19,"column":3}},"12":{"start":{"line":17,"column":4},"end":{"line":17,"column":48}},"13":{"start":{"line":17,"column":19},"end":{"line":17,"column":48}},"14":{"start":{"line":18,"column":4},"end":{"line":18,"column":49}},"15":{"start":{"line":25,"column":0},"end":{"line":147,"column":1}},"16":{"start":{"line":26,"column":2},"end":{"line":26,"column":73}},"17":{"start":{"line":26,"column":31},"end":{"line":26,"column":73}},"18":{"start":{"line":27,"column":2},"end":{"line":27,"column":77}},"19":{"start":{"line":27,"column":33},"end":{"line":27,"column":77}},"20":{"start":{"line":29,"column":2},"end":{"line":29,"column":20}},"21":{"start":{"line":31,"column":2},"end":{"line":37,"column":5}},"22":{"start":{"line":32,"column":4},"end":{"line":32,"column":36}},"23":{"start":{"line":32,"column":15},"end":{"line":32,"column":36}},"24":{"start":{"line":33,"column":4},"end":{"line":36,"column":7}},"25":{"start":{"line":34,"column":6},"end":{"line":34,"column":36}},"26":{"start":{"line":34,"column":15},"end":{"line":34,"column":36}},"27":{"start":{"line":35,"column":6},"end":{"line":35,"column":27}},"28":{"start":{"line":40,"column":2},"end":{"line":49,"column":3}},"29":{"start":{"line":41,"column":4},"end":{"line":41,"column":77}},"30":{"start":{"line":41,"column":34},"end":{"line":41,"column":77}},"31":{"start":{"line":42,"column":4},"end":{"line":42,"column":77}},"32":{"start":{"line":42,"column":34},"end":{"line":42,"column":77}},"33":{"start":{"line":43,"column":4},"end":{"line":43,"column":52}},"34":{"start":{"line":43,"column":24},"end":{"line":43,"column":52}},"35":{"start":{"line":44,"column":4},"end":{"line":48,"column":7}},"36":{"start":{"line":45,"column":6},"end":{"line":45,"column":36}},"37":{"start":{"line":45,"column":15},"end":{"line":45,"column":36}},"38":{"start":{"line":46,"column":6},"end":{"line":46,"column":27}},"39":{"start":{"line":47,"column":6},"end":{"line":47,"column":26}},"40":{"start":{"line":51,"column":2},"end":{"line":81,"column":3}},"41":{"start":{"line":52,"column":4},"end":{"line":52,"column":35}},"42":{"start":{"line":54,"column":4},"end":{"line":57,"column":5}},"43":{"start":{"line":55,"column":6},"end":{"line":55,"column":43}},"44":{"start":{"line":55,"column":22},"end":{"line":55,"column":43}},"45":{"start":{"line":56,"column":6},"end":{"line":56,"column":44}},"46":{"start":{"line":59,"column":4},"end":{"line":71,"column":5}},"47":{"start":{"line":60,"column":6},"end":{"line":60,"column":79}},"48":{"start":{"line":60,"column":19},"end":{"line":60,"column":79}},"49":{"start":{"line":61,"column":6},"end":{"line":61,"column":16}},"50":{"start":{"line":62,"column":6},"end":{"line":62,"column":40}},"51":{"start":{"line":64,"column":6},"end":{"line":70,"column":7}},"52":{"start":{"line":65,"column":8},"end":{"line":65,"column":38}},"53":{"start":{"line":65,"column":17},"end":{"line":65,"column":38}},"54":{"start":{"line":66,"column":8},"end":{"line":68,"column":9}},"55":{"start":{"line":67,"column":10},"end":{"line":67,"column":56}},"56":{"start":{"line":69,"column":8},"end":{"line":69,"column":63}},"57":{"start":{"line":73,"column":4},"end":{"line":80,"column":5}},"58":{"start":{"line":74,"column":6},"end":{"line":74,"column":36}},"59":{"start":{"line":74,"column":15},"end":{"line":74,"column":36}},"60":{"start":{"line":75,"column":6},"end":{"line":77,"column":7}},"61":{"start":{"line":76,"column":8},"end":{"line":76,"column":86}},"62":{"start":{"line":78,"column":6},"end":{"line":78,"column":28}},"63":{"start":{"line":79,"column":6},"end":{"line":79,"column":17}},"64":{"start":{"line":83,"column":2},"end":{"line":123,"column":3}},"65":{"start":{"line":84,"column":4},"end":{"line":84,"column":33}},"66":{"start":{"line":86,"column":4},"end":{"line":89,"column":5}},"67":{"start":{"line":87,"column":6},"end":{"line":87,"column":43}},"68":{"start":{"line":87,"column":22},"end":{"line":87,"column":43}},"69":{"start":{"line":88,"column":6},"end":{"line":88,"column":42}},"70":{"start":{"line":91,"column":4},"end":{"line":113,"column":5}},"71":{"start":{"line":92,"column":6},"end":{"line":92,"column":75}},"72":{"start":{"line":92,"column":17},"end":{"line":92,"column":75}},"73":{"start":{"line":93,"column":6},"end":{"line":93,"column":16}},"74":{"start":{"line":94,"column":6},"end":{"line":94,"column":36}},"75":{"start":{"line":95,"column":6},"end":{"line":95,"column":17}},"76":{"start":{"line":97,"column":6},"end":{"line":112,"column":7}},"77":{"start":{"line":98,"column":8},"end":{"line":98,"column":38}},"78":{"start":{"line":98,"column":17},"end":{"line":98,"column":38}},"79":{"start":{"line":99,"column":8},"end":{"line":101,"column":9}},"80":{"start":{"line":100,"column":10},"end":{"line":100,"column":52}},"81":{"start":{"line":102,"column":8},"end":{"line":102,"column":30}},"82":{"start":{"line":103,"column":8},"end":{"line":103,"column":31}},"83":{"start":{"line":104,"column":8},"end":{"line":106,"column":9}},"84":{"start":{"line":105,"column":10},"end":{"line":105,"column":50}},"85":{"start":{"line":107,"column":8},"end":{"line":109,"column":9}},"86":{"start":{"line":108,"column":10},"end":{"line":108,"column":50}},"87":{"start":{"line":111,"column":8},"end":{"line":111,"column":19}},"88":{"start":{"line":115,"column":4},"end":{"line":122,"column":5}},"89":{"start":{"line":116,"column":6},"end":{"line":116,"column":36}},"90":{"start":{"line":116,"column":15},"end":{"line":116,"column":36}},"91":{"start":{"line":117,"column":6},"end":{"line":119,"column":7}},"92":{"start":{"line":118,"column":8},"end":{"line":118,"column":84}},"93":{"start":{"line":120,"column":6},"end":{"line":120,"column":28}},"94":{"start":{"line":121,"column":6},"end":{"line":121,"column":17}},"95":{"start":{"line":125,"column":2},"end":{"line":146,"column":3}},"96":{"start":{"line":126,"column":4},"end":{"line":126,"column":33}},"97":{"start":{"line":128,"column":4},"end":{"line":131,"column":5}},"98":{"start":{"line":129,"column":6},"end":{"line":129,"column":43}},"99":{"start":{"line":129,"column":22},"end":{"line":129,"column":43}},"100":{"start":{"line":130,"column":6},"end":{"line":130,"column":42}},"101":{"start":{"line":133,"column":4},"end":{"line":136,"column":5}},"102":{"start":{"line":134,"column":6},"end":{"line":134,"column":75}},"103":{"start":{"line":134,"column":17},"end":{"line":134,"column":75}},"104":{"start":{"line":135,"column":6},"end":{"line":135,"column":41}},"105":{"start":{"line":138,"column":4},"end":{"line":145,"column":5}},"106":{"start":{"line":139,"column":6},"end":{"line":139,"column":36}},"107":{"start":{"line":139,"column":15},"end":{"line":139,"column":36}},"108":{"start":{"line":140,"column":6},"end":{"line":142,"column":7}},"109":{"start":{"line":141,"column":8},"end":{"line":141,"column":84}},"110":{"start":{"line":143,"column":6},"end":{"line":143,"column":28}},"111":{"start":{"line":144,"column":6},"end":{"line":144,"column":17}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":4}},{"start":{"line":12,"column":4},"end":{"line":12,"column":4}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]},"3":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":2},"end":{"line":26,"column":2}},{"start":{"line":26,"column":2},"end":{"line":26,"column":2}}]},"4":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"5":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":32,"column":4}},{"start":{"line":32,"column":4},"end":{"line":32,"column":4}}]},"6":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":6},"end":{"line":34,"column":6}},{"start":{"line":34,"column":6},"end":{"line":34,"column":6}}]},"7":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":41,"column":4}},{"start":{"line":41,"column":4},"end":{"line":41,"column":4}}]},"8":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":42,"column":4}},{"start":{"line":42,"column":4},"end":{"line":42,"column":4}}]},"9":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":4},"end":{"line":43,"column":4}},{"start":{"line":43,"column":4},"end":{"line":43,"column":4}}]},"10":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":6},"end":{"line":45,"column":6}},{"start":{"line":45,"column":6},"end":{"line":45,"column":6}}]},"11":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":6},"end":{"line":55,"column":6}},{"start":{"line":55,"column":6},"end":{"line":55,"column":6}}]},"12":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":10},"end":{"line":55,"column":13}},{"start":{"line":55,"column":17},"end":{"line":55,"column":20}}]},"13":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":6},"end":{"line":60,"column":6}},{"start":{"line":60,"column":6},"end":{"line":60,"column":6}}]},"14":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":35},"end":{"line":60,"column":38}},{"start":{"line":60,"column":42},"end":{"line":60,"column":77}}]},"15":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":8},"end":{"line":65,"column":8}},{"start":{"line":65,"column":8},"end":{"line":65,"column":8}}]},"16":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":8}},{"start":{"line":66,"column":8},"end":{"line":66,"column":8}}]},"17":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":12},"end":{"line":66,"column":38}},{"start":{"line":66,"column":42},"end":{"line":66,"column":52}}]},"18":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":6},"end":{"line":74,"column":6}},{"start":{"line":74,"column":6},"end":{"line":74,"column":6}}]},"19":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":6},"end":{"line":75,"column":6}},{"start":{"line":75,"column":6},"end":{"line":75,"column":6}}]},"20":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":6},"end":{"line":87,"column":6}},{"start":{"line":87,"column":6},"end":{"line":87,"column":6}}]},"21":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":10},"end":{"line":87,"column":13}},{"start":{"line":87,"column":17},"end":{"line":87,"column":20}}]},"22":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":6},"end":{"line":92,"column":6}},{"start":{"line":92,"column":6},"end":{"line":92,"column":6}}]},"23":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":33},"end":{"line":92,"column":36}},{"start":{"line":92,"column":40},"end":{"line":92,"column":73}}]},"24":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":8},"end":{"line":98,"column":8}},{"start":{"line":98,"column":8},"end":{"line":98,"column":8}}]},"25":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":8},"end":{"line":99,"column":8}},{"start":{"line":99,"column":8},"end":{"line":99,"column":8}}]},"26":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":8},"end":{"line":104,"column":8}},{"start":{"line":104,"column":8},"end":{"line":104,"column":8}}]},"27":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":8},"end":{"line":107,"column":8}},{"start":{"line":107,"column":8},"end":{"line":107,"column":8}}]},"28":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":6},"end":{"line":116,"column":6}},{"start":{"line":116,"column":6},"end":{"line":116,"column":6}}]},"29":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":6},"end":{"line":117,"column":6}},{"start":{"line":117,"column":6},"end":{"line":117,"column":6}}]},"30":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":6},"end":{"line":129,"column":6}},{"start":{"line":129,"column":6},"end":{"line":129,"column":6}}]},"31":{"line":129,"type":"binary-expr","locations":[{"start":{"line":129,"column":10},"end":{"line":129,"column":13}},{"start":{"line":129,"column":17},"end":{"line":129,"column":20}}]},"32":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":6},"end":{"line":134,"column":6}},{"start":{"line":134,"column":6},"end":{"line":134,"column":6}}]},"33":{"line":134,"type":"binary-expr","locations":[{"start":{"line":134,"column":33},"end":{"line":134,"column":36}},{"start":{"line":134,"column":40},"end":{"line":134,"column":73}}]},"34":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":6},"end":{"line":139,"column":6}},{"start":{"line":139,"column":6},"end":{"line":139,"column":6}}]},"35":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":6},"end":{"line":140,"column":6}},{"start":{"line":140,"column":6},"end":{"line":140,"column":6}}]}},"code":["\"use strict\";","","var modes = require('../lib/modes');","","module.exports = function (local, remote) {","  local.fetch = fetch;","  local.send = send;","  local.readRemoteRef = remote.readRef.bind(remote);","  local.updateRemoteRef = remote.updateRef.bind(remote);","","  function fetch(ref, depth, callback) {","    if (!callback) return fetch.bind(local, ref, depth);","    sync(local, remote, ref, depth, callback);","  }","","  function send(ref, callback) {","    if (!callback) return send.bind(local, ref);","    sync(remote, local, ref, Infinity, callback);","  }","};","","// Download remote ref with depth","// Make sure to use Infinity for depth on github mounts or anything that","// doesn't allow shallow clones.","function sync(local, remote, ref, depth, callback) {","  if (typeof ref !== \"string\") throw new TypeError(\"ref must be string\");","  if (typeof depth !== \"number\") throw new TypeError(\"depth must be number\");","","  var hasCache = {};","","  remote.readRef(ref, function (err, hash) {","    if (!hash) return callback(err);","    importCommit(hash, depth, function (err) {","      if (err) return callback(err);","      callback(null, hash);","    });","  });","","  // Caching has check.","  function check(type, hash, callback) {","    if (typeof type !== \"string\") throw new TypeError(\"type must be string\");","    if (typeof hash !== \"string\") throw new TypeError(\"hash must be string\");","    if (hasCache[hash]) return callback(null, true);","    local.hasHash(hash, function (err, has) {","      if (err) return callback(err);","      hasCache[hash] = has;","      callback(null, has);","    });","  }","","  function importCommit(hash, depth, callback) {","    check(\"commit\", hash, onCheck);","","    function onCheck(err, has) {","      if (err || has) return callback(err);","      remote.loadAs(\"commit\", hash, onLoad);","    }","","    function onLoad(err, commit) {","      if (!commit) return callback(err || new Error(\"Missing commit \" + hash));","      var i = 0;","      importTree(commit.tree, onImport);","","      function onImport(err) {","        if (err) return callback(err);","        if (i >= commit.parents.length || depth <= 1) {","          return local.saveAs(\"commit\", commit, onSave);","        }","        importCommit(commit.parents[i++], depth - 1, onImport);","      }","    }","","    function onSave(err, newHash) {","      if (err) return callback(err);","      if (newHash !== hash) {","        return callback(new Error(\"Commit hash mismatch \" + hash + \" != \" + newHash));","      }","      hasCache[hash] = true;","      callback();","    }","  }","","  function importTree(hash, callback) {","    check(\"tree\", hash, onCheck);","","    function onCheck(err, has) {","      if (err || has) return callback(err);","      remote.loadAs(\"tree\", hash, onLoad);","    }","","    function onLoad(err, tree) {","      if (!tree) return callback(err || new Error(\"Missing tree \" + hash));","      var i = 0;","      var names = Object.keys(tree);","      onImport();","","      function onImport(err) {","        if (err) return callback(err);","        if (i >= names.length) {","          return local.saveAs(\"tree\", tree, onSave);","        }","        var name = names[i++];","        var entry = tree[name];","        if (modes.isBlob(entry.mode)) {","          return importBlob(entry.hash, onImport);","        }","        if (entry.mode === modes.tree) {","          return importTree(entry.hash, onImport);","        }","        // Skip others.","        onImport();","      }","    }","","    function onSave(err, newHash) {","      if (err) return callback(err);","      if (newHash !== hash) {","        return callback(new Error(\"Tree hash mismatch \" + hash + \" != \" + newHash));","      }","      hasCache[hash] = true;","      callback();","    }","  }","","  function importBlob(hash, callback) {","    check(\"blob\", hash, onCheck);","","    function onCheck(err, has) {","      if (err || has) return callback(err);","      remote.loadAs(\"blob\", hash, onLoad);","    }","","    function onLoad(err, blob) {","      if (!blob) return callback(err || new Error(\"Missing blob \" + hash));","      local.saveAs(\"blob\", blob, onSave);","    }","","    function onSave(err, newHash) {","      if (err) return callback(err);","      if (newHash !== hash) {","        return callback(new Error(\"Blob hash mismatch \" + hash + \" != \" + newHash));","      }","      hasCache[hash] = true;","      callback();","    }","  }","}",""],"l":{"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"11":1,"12":0,"13":0,"16":1,"17":0,"18":0,"25":1,"26":0,"27":0,"29":0,"31":0,"32":0,"33":0,"34":0,"35":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"51":1,"52":0,"54":1,"55":0,"56":0,"59":1,"60":0,"61":0,"62":0,"64":1,"65":0,"66":0,"67":0,"69":0,"73":1,"74":0,"75":0,"76":0,"78":0,"79":0,"83":1,"84":0,"86":1,"87":0,"88":0,"91":1,"92":0,"93":0,"94":0,"95":0,"97":1,"98":0,"99":0,"100":0,"102":0,"103":0,"104":0,"105":0,"107":0,"108":0,"111":0,"115":1,"116":0,"117":0,"118":0,"120":0,"121":0,"125":1,"126":0,"128":1,"129":0,"130":0,"133":1,"134":0,"135":0,"138":1,"139":0,"140":0,"141":0,"143":0,"144":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/walkers.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/walkers.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":1,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":1,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":1,"99":0,"100":1,"101":0,"102":0,"103":0,"104":0,"105":0,"106":1,"107":0,"108":0,"109":1,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":33}}},"2":{"name":"logWalk","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":32}}},"3":{"name":"onShallow","line":16,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":35}}},"4":{"name":"onHash","line":21,"loc":{"start":{"line":21,"column":2},"end":{"line":21,"column":29}}},"5":{"name":"(anonymous_5)","line":23,"loc":{"start":{"line":23,"column":39},"end":{"line":23,"column":62}}},"6":{"name":"scan","line":31,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":24}}},"7":{"name":"(anonymous_7)","line":33,"loc":{"start":{"line":33,"column":33},"end":{"line":33,"column":49}}},"8":{"name":"loadKey","line":38,"loc":{"start":{"line":38,"column":2},"end":{"line":38,"column":35}}},"9":{"name":"(anonymous_9)","line":39,"loc":{"start":{"line":39,"column":39},"end":{"line":39,"column":62}}},"10":{"name":"compare","line":49,"loc":{"start":{"line":49,"column":0},"end":{"line":49,"column":32}}},"11":{"name":"treeWalk","line":53,"loc":{"start":{"line":53,"column":0},"end":{"line":53,"column":34}}},"12":{"name":"onTree","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":58,"column":29}}},"13":{"name":"treeLoadKey","line":69,"loc":{"start":{"line":69,"column":2},"end":{"line":69,"column":40}}},"14":{"name":"(anonymous_14)","line":72,"loc":{"start":{"line":72,"column":41},"end":{"line":72,"column":62}}},"15":{"name":"treeScan","line":81,"loc":{"start":{"line":81,"column":0},"end":{"line":81,"column":26}}},"16":{"name":"(anonymous_16)","line":84,"loc":{"start":{"line":84,"column":31},"end":{"line":84,"column":47}}},"17":{"name":"treeCompare","line":96,"loc":{"start":{"line":96,"column":0},"end":{"line":96,"column":36}}},"18":{"name":"resolveRef","line":100,"loc":{"start":{"line":100,"column":0},"end":{"line":100,"column":45}}},"19":{"name":"(anonymous_19)","line":104,"loc":{"start":{"line":104,"column":24},"end":{"line":104,"column":45}}},"20":{"name":"walk","line":110,"loc":{"start":{"line":110,"column":0},"end":{"line":110,"column":44}}},"21":{"name":"read","line":115,"loc":{"start":{"line":115,"column":2},"end":{"line":115,"column":26}}},"22":{"name":"abort","line":126,"loc":{"start":{"line":126,"column":2},"end":{"line":126,"column":27}}},"23":{"name":"onError","line":128,"loc":{"start":{"line":128,"column":2},"end":{"line":128,"column":24}}},"24":{"name":"onKey","line":136,"loc":{"start":{"line":136,"column":2},"end":{"line":136,"column":22}}},"25":{"name":"onItem","line":141,"loc":{"start":{"line":141,"column":2},"end":{"line":141,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":3,"column":0},"end":{"line":6,"column":2}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":25}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":27}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":27}},"6":{"start":{"line":9,"column":0},"end":{"line":47,"column":1}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":48}},"8":{"start":{"line":10,"column":17},"end":{"line":10,"column":48}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":22}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":18}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":40}},"12":{"start":{"line":13,"column":21},"end":{"line":13,"column":40}},"13":{"start":{"line":14,"column":2},"end":{"line":14,"column":44}},"14":{"start":{"line":16,"column":2},"end":{"line":19,"column":3}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":19}},"16":{"start":{"line":18,"column":4},"end":{"line":18,"column":34}},"17":{"start":{"line":21,"column":2},"end":{"line":29,"column":3}},"18":{"start":{"line":22,"column":4},"end":{"line":22,"column":34}},"19":{"start":{"line":22,"column":13},"end":{"line":22,"column":34}},"20":{"start":{"line":23,"column":4},"end":{"line":28,"column":7}},"21":{"start":{"line":24,"column":6},"end":{"line":24,"column":53}},"22":{"start":{"line":24,"column":32},"end":{"line":24,"column":53}},"23":{"start":{"line":25,"column":6},"end":{"line":25,"column":25}},"24":{"start":{"line":26,"column":6},"end":{"line":26,"column":24}},"25":{"start":{"line":27,"column":6},"end":{"line":27,"column":66}},"26":{"start":{"line":31,"column":2},"end":{"line":36,"column":3}},"27":{"start":{"line":32,"column":4},"end":{"line":32,"column":35}},"28":{"start":{"line":32,"column":25},"end":{"line":32,"column":35}},"29":{"start":{"line":33,"column":4},"end":{"line":35,"column":7}},"30":{"start":{"line":34,"column":6},"end":{"line":34,"column":25}},"31":{"start":{"line":38,"column":2},"end":{"line":45,"column":3}},"32":{"start":{"line":39,"column":4},"end":{"line":44,"column":7}},"33":{"start":{"line":40,"column":6},"end":{"line":40,"column":79}},"34":{"start":{"line":40,"column":19},"end":{"line":40,"column":79}},"35":{"start":{"line":41,"column":6},"end":{"line":41,"column":25}},"36":{"start":{"line":42,"column":6},"end":{"line":42,"column":44}},"37":{"start":{"line":42,"column":25},"end":{"line":42,"column":44}},"38":{"start":{"line":43,"column":6},"end":{"line":43,"column":36}},"39":{"start":{"line":49,"column":0},"end":{"line":51,"column":1}},"40":{"start":{"line":50,"column":2},"end":{"line":50,"column":48}},"41":{"start":{"line":53,"column":0},"end":{"line":79,"column":1}},"42":{"start":{"line":54,"column":2},"end":{"line":54,"column":50}},"43":{"start":{"line":54,"column":17},"end":{"line":54,"column":50}},"44":{"start":{"line":55,"column":2},"end":{"line":55,"column":18}},"45":{"start":{"line":56,"column":2},"end":{"line":56,"column":43}},"46":{"start":{"line":58,"column":2},"end":{"line":67,"column":3}},"47":{"start":{"line":59,"column":4},"end":{"line":59,"column":73}},"48":{"start":{"line":59,"column":15},"end":{"line":59,"column":73}},"49":{"start":{"line":60,"column":4},"end":{"line":65,"column":6}},"50":{"start":{"line":66,"column":4},"end":{"line":66,"column":74}},"51":{"start":{"line":69,"column":2},"end":{"line":77,"column":3}},"52":{"start":{"line":70,"column":4},"end":{"line":70,"column":64}},"53":{"start":{"line":70,"column":35},"end":{"line":70,"column":64}},"54":{"start":{"line":71,"column":4},"end":{"line":71,"column":40}},"55":{"start":{"line":72,"column":4},"end":{"line":76,"column":7}},"56":{"start":{"line":73,"column":6},"end":{"line":73,"column":36}},"57":{"start":{"line":73,"column":15},"end":{"line":73,"column":36}},"58":{"start":{"line":74,"column":6},"end":{"line":74,"column":24}},"59":{"start":{"line":75,"column":6},"end":{"line":75,"column":35}},"60":{"start":{"line":81,"column":0},"end":{"line":94,"column":1}},"61":{"start":{"line":82,"column":2},"end":{"line":82,"column":44}},"62":{"start":{"line":82,"column":34},"end":{"line":82,"column":44}},"63":{"start":{"line":83,"column":2},"end":{"line":83,"column":25}},"64":{"start":{"line":84,"column":2},"end":{"line":93,"column":5}},"65":{"start":{"line":85,"column":4},"end":{"line":85,"column":27}},"66":{"start":{"line":86,"column":4},"end":{"line":86,"column":34}},"67":{"start":{"line":87,"column":4},"end":{"line":87,"column":47}},"68":{"start":{"line":87,"column":35},"end":{"line":87,"column":47}},"69":{"start":{"line":88,"column":4},"end":{"line":92,"column":6}},"70":{"start":{"line":96,"column":0},"end":{"line":98,"column":1}},"71":{"start":{"line":97,"column":2},"end":{"line":97,"column":34}},"72":{"start":{"line":100,"column":0},"end":{"line":108,"column":1}},"73":{"start":{"line":101,"column":2},"end":{"line":103,"column":3}},"74":{"start":{"line":102,"column":4},"end":{"line":102,"column":35}},"75":{"start":{"line":104,"column":2},"end":{"line":107,"column":5}},"76":{"start":{"line":105,"column":4},"end":{"line":105,"column":71}},"77":{"start":{"line":105,"column":15},"end":{"line":105,"column":71}},"78":{"start":{"line":106,"column":4},"end":{"line":106,"column":25}},"79":{"start":{"line":110,"column":0},"end":{"line":152,"column":1}},"80":{"start":{"line":111,"column":2},"end":{"line":111,"column":21}},"81":{"start":{"line":112,"column":2},"end":{"line":112,"column":29}},"82":{"start":{"line":113,"column":2},"end":{"line":113,"column":36}},"83":{"start":{"line":115,"column":2},"end":{"line":124,"column":3}},"84":{"start":{"line":116,"column":4},"end":{"line":116,"column":31}},"85":{"start":{"line":116,"column":19},"end":{"line":116,"column":31}},"86":{"start":{"line":117,"column":4},"end":{"line":117,"column":66}},"87":{"start":{"line":117,"column":12},"end":{"line":117,"column":66}},"88":{"start":{"line":118,"column":4},"end":{"line":118,"column":43}},"89":{"start":{"line":118,"column":19},"end":{"line":118,"column":33}},"90":{"start":{"line":118,"column":34},"end":{"line":118,"column":41}},"91":{"start":{"line":119,"column":4},"end":{"line":119,"column":29}},"92":{"start":{"line":120,"column":4},"end":{"line":120,"column":33}},"93":{"start":{"line":120,"column":15},"end":{"line":120,"column":33}},"94":{"start":{"line":121,"column":4},"end":{"line":122,"column":41}},"95":{"start":{"line":121,"column":10},"end":{"line":121,"column":36}},"96":{"start":{"line":122,"column":18},"end":{"line":122,"column":39}},"97":{"start":{"line":123,"column":4},"end":{"line":123,"column":32}},"98":{"start":{"line":126,"column":2},"end":{"line":126,"column":49}},"99":{"start":{"line":126,"column":29},"end":{"line":126,"column":47}},"100":{"start":{"line":128,"column":2},"end":{"line":134,"column":3}},"101":{"start":{"line":129,"column":4},"end":{"line":132,"column":5}},"102":{"start":{"line":130,"column":6},"end":{"line":130,"column":24}},"103":{"start":{"line":130,"column":25},"end":{"line":130,"column":35}},"104":{"start":{"line":131,"column":6},"end":{"line":131,"column":27}},"105":{"start":{"line":133,"column":4},"end":{"line":133,"column":16}},"106":{"start":{"line":136,"column":2},"end":{"line":139,"column":3}},"107":{"start":{"line":137,"column":4},"end":{"line":137,"column":14}},"108":{"start":{"line":138,"column":4},"end":{"line":138,"column":25}},"109":{"start":{"line":141,"column":2},"end":{"line":151,"column":3}},"110":{"start":{"line":142,"column":4},"end":{"line":142,"column":14}},"111":{"start":{"line":143,"column":4},"end":{"line":143,"column":33}},"112":{"start":{"line":143,"column":13},"end":{"line":143,"column":33}},"113":{"start":{"line":144,"column":4},"end":{"line":144,"column":29}},"114":{"start":{"line":145,"column":4},"end":{"line":145,"column":61}},"115":{"start":{"line":145,"column":53},"end":{"line":145,"column":61}},"116":{"start":{"line":146,"column":4},"end":{"line":146,"column":33}},"117":{"start":{"line":147,"column":4},"end":{"line":150,"column":5}},"118":{"start":{"line":148,"column":6},"end":{"line":148,"column":24}},"119":{"start":{"line":148,"column":25},"end":{"line":148,"column":35}},"120":{"start":{"line":149,"column":6},"end":{"line":149,"column":28}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":13,"column":2}},{"start":{"line":13,"column":2},"end":{"line":13,"column":2}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"4":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":6},"end":{"line":24,"column":6}},{"start":{"line":24,"column":6},"end":{"line":24,"column":6}}]},"5":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":32,"column":4}},{"start":{"line":32,"column":4},"end":{"line":32,"column":4}}]},"6":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":6},"end":{"line":40,"column":6}},{"start":{"line":40,"column":6},"end":{"line":40,"column":6}}]},"7":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":35},"end":{"line":40,"column":38}},{"start":{"line":40,"column":42},"end":{"line":40,"column":77}}]},"8":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":6},"end":{"line":42,"column":6}},{"start":{"line":42,"column":6},"end":{"line":42,"column":6}}]},"9":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":2},"end":{"line":54,"column":2}},{"start":{"line":54,"column":2},"end":{"line":54,"column":2}}]},"10":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":59,"column":4}},{"start":{"line":59,"column":4},"end":{"line":59,"column":4}}]},"11":{"line":59,"type":"binary-expr","locations":[{"start":{"line":59,"column":31},"end":{"line":59,"column":34}},{"start":{"line":59,"column":38},"end":{"line":59,"column":71}}]},"12":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":4},"end":{"line":70,"column":4}},{"start":{"line":70,"column":4},"end":{"line":70,"column":4}}]},"13":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":6},"end":{"line":73,"column":6}},{"start":{"line":73,"column":6},"end":{"line":73,"column":6}}]},"14":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":2},"end":{"line":82,"column":2}},{"start":{"line":82,"column":2},"end":{"line":82,"column":2}}]},"15":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":4}},{"start":{"line":87,"column":4},"end":{"line":87,"column":4}}]},"16":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":2},"end":{"line":101,"column":2}},{"start":{"line":101,"column":2},"end":{"line":101,"column":2}}]},"17":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":4},"end":{"line":105,"column":4}},{"start":{"line":105,"column":4},"end":{"line":105,"column":4}}]},"18":{"line":105,"type":"binary-expr","locations":[{"start":{"line":105,"column":31},"end":{"line":105,"column":34}},{"start":{"line":105,"column":38},"end":{"line":105,"column":69}}]},"19":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":4},"end":{"line":116,"column":4}},{"start":{"line":116,"column":4},"end":{"line":116,"column":4}}]},"20":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":4}},{"start":{"line":117,"column":4},"end":{"line":117,"column":4}}]},"21":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":4},"end":{"line":118,"column":4}},{"start":{"line":118,"column":4},"end":{"line":118,"column":4}}]},"22":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":4},"end":{"line":120,"column":4}},{"start":{"line":120,"column":4},"end":{"line":120,"column":4}}]},"23":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":4},"end":{"line":129,"column":4}},{"start":{"line":129,"column":4},"end":{"line":129,"column":4}}]},"24":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":4},"end":{"line":143,"column":4}},{"start":{"line":143,"column":4},"end":{"line":143,"column":4}}]},"25":{"line":145,"type":"binary-expr","locations":[{"start":{"line":145,"column":11},"end":{"line":145,"column":16}},{"start":{"line":145,"column":20},"end":{"line":145,"column":51}}]},"26":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":4},"end":{"line":147,"column":4}},{"start":{"line":147,"column":4},"end":{"line":147,"column":4}}]},"27":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":8},"end":{"line":147,"column":16}},{"start":{"line":147,"column":20},"end":{"line":147,"column":22}}]}},"code":["var modes = require('../lib/modes.js');","","module.exports = function (repo) {","  repo.logWalk = logWalk;   // (ref) => stream<commit>","  repo.treeWalk = treeWalk; // (treeHash) => stream<object>","};","module.exports.walk = walk;","","function logWalk(ref, callback) {","  if (!callback) return logWalk.bind(this, ref);","  var last, seen = {};","  var repo = this;","  if (!repo.readRef) return onShallow();","  return repo.readRef(\"shallow\", onShallow);","","  function onShallow(err, shallow) {","    last = shallow;","    resolveRef(repo, ref, onHash);","  }","","  function onHash(err, hash) {","    if (err) return callback(err);","    return repo.loadAs(\"commit\", hash, function (err, commit) {","      if (commit === undefined) return callback(err);","      commit.hash = hash;","      seen[hash] = true;","      return callback(null, walk(commit, scan, loadKey, compare));","    });","  }","","  function scan(commit) {","    if (last === commit) return [];","    return commit.parents.filter(function (hash) {","      return !seen[hash];","    });","  }","","  function loadKey(hash, callback) {","    return repo.loadAs(\"commit\", hash, function (err, commit) {","      if (!commit) return callback(err || new Error(\"Missing commit \" + hash));","      commit.hash = hash;","      if (hash === last) commit.last = true;","      return callback(null, commit);","    });","  }","","}","","function compare(commit, other) {","  return commit.author.date < other.author.date;","}","","function treeWalk(hash, callback) {","  if (!callback) return treeWalk.bind(this, hash);","  var repo = this;","  return repo.loadAs(\"tree\", hash, onTree);","","  function onTree(err, body) {","    if (!body) return callback(err || new Error(\"Missing tree \" + hash));","    var tree = {","      mode: modes.tree,","      hash: hash,","      body: body,","      path: \"/\"","    };","    return callback(null, walk(tree, treeScan, treeLoadKey, treeCompare));","  }","","  function treeLoadKey(entry, callback) {","    if (entry.mode !== modes.tree) return callback(null, entry);","    var type = modes.toType(entry.mode);","    return repo.loadAs(type, entry.hash, function (err, body) {","      if (err) return callback(err);","      entry.body = body;","      return callback(null, entry);","    });","  }","","}","","function treeScan(object) {","  if (object.mode !== modes.tree) return [];","  var tree = object.body;","  return Object.keys(tree).map(function (name) {","    var entry = tree[name];","    var path = object.path + name;","    if (entry.mode === modes.tree) path += \"/\";","    return {","      mode: entry.mode,","      hash: entry.hash,","      path: path","    };","  });","}","","function treeCompare(first, second) {","  return first.path < second.path;","}","","function resolveRef(repo, hashish, callback) {","  if (/^[0-9a-f]{40}$/.test(hashish)) {","    return callback(null, hashish);","  }","  repo.readRef(hashish, function (err, hash) {","    if (!hash) return callback(err || new Error(\"Bad ref \" + hashish));","    callback(null, hash);","  });","}","","function walk(seed, scan, loadKey, compare) {","  var queue = [seed];","  var working = 0, error, cb;","  return {read: read, abort: abort};","","  function read(callback) {","    if (!callback) return read;","    if (cb) return callback(new Error(\"Only one read at a time\"));","    if (working) { cb = callback; return; }","    var item = queue.shift();","    if (!item) return callback();","    try { scan(item).forEach(onKey); }","    catch (err) { return callback(err); }","    return callback(null, item);","  }","","  function abort(callback) { return callback(); }","","  function onError(err) {","    if (cb) {","      var callback = cb; cb = null;","      return callback(err);","    }","    error = err;","  }","","  function onKey(key) {","    working++;","    loadKey(key, onItem);","  }","","  function onItem(err, item) {","    working--;","    if (err) return onError(err);","    var index = queue.length;","    while (index && compare(item, queue[index - 1])) index--;","    queue.splice(index, 0, item);","    if (!working && cb) {","      var callback = cb; cb = null;","      return read(callback);","    }","  }","}",""],"l":{"1":1,"3":1,"4":0,"5":0,"7":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"16":1,"17":0,"18":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"31":1,"32":0,"33":0,"34":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"49":1,"50":0,"53":1,"54":0,"55":0,"56":0,"58":1,"59":0,"60":0,"66":0,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"81":1,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"96":1,"97":0,"100":1,"101":0,"102":0,"104":0,"105":0,"106":0,"110":1,"111":0,"112":0,"113":0,"115":1,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"126":1,"128":1,"129":0,"130":0,"131":0,"133":0,"136":1,"137":0,"138":0,"141":1,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/websql-db.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/mixins/websql-db.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":1,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":1,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":1,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},"fnMap":{"1":{"name":"mixin","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":29}}},"2":{"name":"init","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":24}}},"3":{"name":"(anonymous_3)","line":35,"loc":{"start":{"line":35,"column":17},"end":{"line":35,"column":31}}},"4":{"name":"(anonymous_4)","line":42,"loc":{"start":{"line":42,"column":5},"end":{"line":42,"column":17}}},"5":{"name":"(anonymous_5)","line":45,"loc":{"start":{"line":45,"column":5},"end":{"line":45,"column":17}}},"6":{"name":"saveAs","line":50,"loc":{"start":{"line":50,"column":0},"end":{"line":50,"column":38}}},"7":{"name":"saveRaw","line":62,"loc":{"start":{"line":62,"column":0},"end":{"line":62,"column":41}}},"8":{"name":"(anonymous_8)","line":66,"loc":{"start":{"line":66,"column":17},"end":{"line":66,"column":31}}},"9":{"name":"(anonymous_9)","line":74,"loc":{"start":{"line":74,"column":37},"end":{"line":74,"column":49}}},"10":{"name":"loadAs","line":80,"loc":{"start":{"line":80,"column":0},"end":{"line":80,"column":38}}},"11":{"name":"(anonymous_11)","line":83,"loc":{"start":{"line":83,"column":16},"end":{"line":83,"column":39}}},"12":{"name":"loadRaw","line":98,"loc":{"start":{"line":98,"column":0},"end":{"line":98,"column":33}}},"13":{"name":"(anonymous_13)","line":102,"loc":{"start":{"line":102,"column":21},"end":{"line":102,"column":35}}},"14":{"name":"(anonymous_14)","line":103,"loc":{"start":{"line":103,"column":31},"end":{"line":103,"column":53}}},"15":{"name":"(anonymous_15)","line":114,"loc":{"start":{"line":114,"column":7},"end":{"line":114,"column":28}}},"16":{"name":"hasHash","line":120,"loc":{"start":{"line":120,"column":0},"end":{"line":120,"column":39}}},"17":{"name":"(anonymous_17)","line":122,"loc":{"start":{"line":122,"column":21},"end":{"line":122,"column":43}}},"18":{"name":"next","line":128,"loc":{"start":{"line":128,"column":4},"end":{"line":128,"column":20}}},"19":{"name":"(anonymous_19)","line":132,"loc":{"start":{"line":132,"column":52},"end":{"line":132,"column":72}}},"20":{"name":"readRef","line":141,"loc":{"start":{"line":141,"column":0},"end":{"line":141,"column":32}}},"21":{"name":"(anonymous_21)","line":145,"loc":{"start":{"line":145,"column":17},"end":{"line":145,"column":31}}},"22":{"name":"(anonymous_22)","line":146,"loc":{"start":{"line":146,"column":30},"end":{"line":146,"column":52}}},"23":{"name":"(anonymous_23)","line":150,"loc":{"start":{"line":150,"column":7},"end":{"line":150,"column":28}}},"24":{"name":"updateRef","line":156,"loc":{"start":{"line":156,"column":0},"end":{"line":156,"column":40}}},"25":{"name":"(anonymous_25)","line":160,"loc":{"start":{"line":160,"column":17},"end":{"line":160,"column":31}}},"26":{"name":"(anonymous_26)","line":161,"loc":{"start":{"line":161,"column":36},"end":{"line":161,"column":48}}},"27":{"name":"(anonymous_27)","line":163,"loc":{"start":{"line":163,"column":7},"end":{"line":163,"column":28}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":39}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":7}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":18}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":22}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":22}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":24}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":24}},"13":{"start":{"line":18,"column":0},"end":{"line":18,"column":23}},"14":{"start":{"line":20,"column":0},"end":{"line":30,"column":1}},"15":{"start":{"line":21,"column":2},"end":{"line":21,"column":50}},"16":{"start":{"line":21,"column":15},"end":{"line":21,"column":50}},"17":{"start":{"line":22,"column":2},"end":{"line":22,"column":26}},"18":{"start":{"line":23,"column":2},"end":{"line":23,"column":23}},"19":{"start":{"line":24,"column":2},"end":{"line":24,"column":25}},"20":{"start":{"line":25,"column":2},"end":{"line":25,"column":23}},"21":{"start":{"line":26,"column":2},"end":{"line":26,"column":25}},"22":{"start":{"line":27,"column":2},"end":{"line":27,"column":25}},"23":{"start":{"line":28,"column":2},"end":{"line":28,"column":29}},"24":{"start":{"line":29,"column":2},"end":{"line":29,"column":25}},"25":{"start":{"line":32,"column":0},"end":{"line":48,"column":1}},"26":{"start":{"line":34,"column":2},"end":{"line":34,"column":74}},"27":{"start":{"line":35,"column":2},"end":{"line":47,"column":5}},"28":{"start":{"line":36,"column":4},"end":{"line":38,"column":6}},"29":{"start":{"line":39,"column":4},"end":{"line":41,"column":6}},"30":{"start":{"line":43,"column":4},"end":{"line":43,"column":29}},"31":{"start":{"line":44,"column":4},"end":{"line":44,"column":57}},"32":{"start":{"line":46,"column":4},"end":{"line":46,"column":15}},"33":{"start":{"line":50,"column":0},"end":{"line":60,"column":1}},"34":{"start":{"line":52,"column":2},"end":{"line":52,"column":54}},"35":{"start":{"line":52,"column":17},"end":{"line":52,"column":54}},"36":{"start":{"line":53,"column":2},"end":{"line":53,"column":19}},"37":{"start":{"line":54,"column":2},"end":{"line":58,"column":39}},"38":{"start":{"line":55,"column":4},"end":{"line":55,"column":48}},"39":{"start":{"line":56,"column":4},"end":{"line":56,"column":24}},"40":{"start":{"line":58,"column":16},"end":{"line":58,"column":37}},"41":{"start":{"line":59,"column":2},"end":{"line":59,"column":39}},"42":{"start":{"line":62,"column":0},"end":{"line":78,"column":1}},"43":{"start":{"line":64,"column":2},"end":{"line":64,"column":57}},"44":{"start":{"line":64,"column":17},"end":{"line":64,"column":57}},"45":{"start":{"line":65,"column":2},"end":{"line":65,"column":61}},"46":{"start":{"line":66,"column":2},"end":{"line":77,"column":5}},"47":{"start":{"line":67,"column":4},"end":{"line":67,"column":13}},"48":{"start":{"line":68,"column":4},"end":{"line":73,"column":5}},"49":{"start":{"line":69,"column":6},"end":{"line":69,"column":45}},"50":{"start":{"line":72,"column":6},"end":{"line":72,"column":27}},"51":{"start":{"line":74,"column":4},"end":{"line":76,"column":7}},"52":{"start":{"line":75,"column":6},"end":{"line":75,"column":27}},"53":{"start":{"line":80,"column":0},"end":{"line":96,"column":1}},"54":{"start":{"line":82,"column":2},"end":{"line":82,"column":54}},"55":{"start":{"line":82,"column":17},"end":{"line":82,"column":54}},"56":{"start":{"line":83,"column":2},"end":{"line":95,"column":5}},"57":{"start":{"line":84,"column":4},"end":{"line":84,"column":38}},"58":{"start":{"line":84,"column":17},"end":{"line":84,"column":38}},"59":{"start":{"line":85,"column":4},"end":{"line":85,"column":20}},"60":{"start":{"line":86,"column":4},"end":{"line":93,"column":5}},"61":{"start":{"line":87,"column":6},"end":{"line":87,"column":36}},"62":{"start":{"line":88,"column":6},"end":{"line":88,"column":64}},"63":{"start":{"line":88,"column":31},"end":{"line":88,"column":64}},"64":{"start":{"line":89,"column":6},"end":{"line":89,"column":46}},"65":{"start":{"line":92,"column":6},"end":{"line":92,"column":27}},"66":{"start":{"line":94,"column":4},"end":{"line":94,"column":25}},"67":{"start":{"line":98,"column":0},"end":{"line":118,"column":1}},"68":{"start":{"line":100,"column":2},"end":{"line":100,"column":49}},"69":{"start":{"line":100,"column":17},"end":{"line":100,"column":49}},"70":{"start":{"line":101,"column":2},"end":{"line":101,"column":49}},"71":{"start":{"line":102,"column":2},"end":{"line":117,"column":5}},"72":{"start":{"line":103,"column":4},"end":{"line":116,"column":7}},"73":{"start":{"line":104,"column":6},"end":{"line":104,"column":49}},"74":{"start":{"line":104,"column":31},"end":{"line":104,"column":49}},"75":{"start":{"line":105,"column":6},"end":{"line":105,"column":37}},"76":{"start":{"line":106,"column":6},"end":{"line":106,"column":17}},"77":{"start":{"line":107,"column":6},"end":{"line":112,"column":7}},"78":{"start":{"line":108,"column":8},"end":{"line":108,"column":54}},"79":{"start":{"line":111,"column":8},"end":{"line":111,"column":29}},"80":{"start":{"line":113,"column":6},"end":{"line":113,"column":29}},"81":{"start":{"line":115,"column":6},"end":{"line":115,"column":41}},"82":{"start":{"line":120,"column":0},"end":{"line":139,"column":1}},"83":{"start":{"line":122,"column":2},"end":{"line":138,"column":5}},"84":{"start":{"line":123,"column":4},"end":{"line":123,"column":34}},"85":{"start":{"line":123,"column":13},"end":{"line":123,"column":34}},"86":{"start":{"line":124,"column":4},"end":{"line":124,"column":58}},"87":{"start":{"line":124,"column":29},"end":{"line":124,"column":58}},"88":{"start":{"line":125,"column":4},"end":{"line":125,"column":53}},"89":{"start":{"line":125,"column":25},"end":{"line":125,"column":53}},"90":{"start":{"line":126,"column":4},"end":{"line":126,"column":35}},"91":{"start":{"line":127,"column":4},"end":{"line":127,"column":11}},"92":{"start":{"line":128,"column":4},"end":{"line":137,"column":5}},"93":{"start":{"line":129,"column":6},"end":{"line":129,"column":53}},"94":{"start":{"line":129,"column":25},"end":{"line":129,"column":53}},"95":{"start":{"line":130,"column":6},"end":{"line":130,"column":29}},"96":{"start":{"line":131,"column":6},"end":{"line":131,"column":30}},"97":{"start":{"line":132,"column":6},"end":{"line":136,"column":9}},"98":{"start":{"line":133,"column":8},"end":{"line":133,"column":38}},"99":{"start":{"line":133,"column":17},"end":{"line":133,"column":38}},"100":{"start":{"line":134,"column":8},"end":{"line":134,"column":31}},"101":{"start":{"line":134,"column":17},"end":{"line":134,"column":31}},"102":{"start":{"line":135,"column":8},"end":{"line":135,"column":30}},"103":{"start":{"line":141,"column":0},"end":{"line":154,"column":1}},"104":{"start":{"line":143,"column":2},"end":{"line":143,"column":39}},"105":{"start":{"line":144,"column":2},"end":{"line":144,"column":46}},"106":{"start":{"line":145,"column":2},"end":{"line":153,"column":5}},"107":{"start":{"line":146,"column":4},"end":{"line":152,"column":7}},"108":{"start":{"line":147,"column":6},"end":{"line":147,"column":49}},"109":{"start":{"line":147,"column":31},"end":{"line":147,"column":49}},"110":{"start":{"line":148,"column":6},"end":{"line":148,"column":37}},"111":{"start":{"line":149,"column":6},"end":{"line":149,"column":33}},"112":{"start":{"line":151,"column":6},"end":{"line":151,"column":41}},"113":{"start":{"line":156,"column":0},"end":{"line":167,"column":1}},"114":{"start":{"line":158,"column":2},"end":{"line":158,"column":39}},"115":{"start":{"line":159,"column":2},"end":{"line":159,"column":59}},"116":{"start":{"line":160,"column":2},"end":{"line":166,"column":5}},"117":{"start":{"line":161,"column":4},"end":{"line":165,"column":7}},"118":{"start":{"line":162,"column":6},"end":{"line":162,"column":17}},"119":{"start":{"line":164,"column":6},"end":{"line":164,"column":41}}},"branchMap":{"1":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":2},"end":{"line":21,"column":2}},{"start":{"line":21,"column":2},"end":{"line":21,"column":2}}]},"2":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":2},"end":{"line":52,"column":2}},{"start":{"line":52,"column":2},"end":{"line":52,"column":2}}]},"3":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":2},"end":{"line":64,"column":2}},{"start":{"line":64,"column":2},"end":{"line":64,"column":2}}]},"4":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":2},"end":{"line":82,"column":2}},{"start":{"line":82,"column":2},"end":{"line":82,"column":2}}]},"5":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":4},"end":{"line":84,"column":4}},{"start":{"line":84,"column":4},"end":{"line":84,"column":4}}]},"6":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":6},"end":{"line":88,"column":6}},{"start":{"line":88,"column":6},"end":{"line":88,"column":6}}]},"7":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":2},"end":{"line":100,"column":2}},{"start":{"line":100,"column":2},"end":{"line":100,"column":2}}]},"8":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":6},"end":{"line":104,"column":6}},{"start":{"line":104,"column":6},"end":{"line":104,"column":6}}]},"9":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":4},"end":{"line":123,"column":4}},{"start":{"line":123,"column":4},"end":{"line":123,"column":4}}]},"10":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":4},"end":{"line":124,"column":4}},{"start":{"line":124,"column":4},"end":{"line":124,"column":4}}]},"11":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":4},"end":{"line":125,"column":4}},{"start":{"line":125,"column":4},"end":{"line":125,"column":4}}]},"12":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":6},"end":{"line":129,"column":6}},{"start":{"line":129,"column":6},"end":{"line":129,"column":6}}]},"13":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":8},"end":{"line":133,"column":8}},{"start":{"line":133,"column":8},"end":{"line":133,"column":8}}]},"14":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":8},"end":{"line":134,"column":8}},{"start":{"line":134,"column":8},"end":{"line":134,"column":8}}]},"15":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":6},"end":{"line":147,"column":6}},{"start":{"line":147,"column":6},"end":{"line":147,"column":6}}]}},"code":["\"use strict\";","","var codec = require('../lib/object-codec.js');","var bodec = require('bodec');","var inflate = require('../lib/inflate');","var deflate = require('../lib/deflate');","","var sha1 = require('git-sha1');","var modes = require('../lib/modes.js');","var db;","","mixin.init = init;","","mixin.loadAs = loadAs;","mixin.saveAs = saveAs;","mixin.loadRaw = loadRaw;","mixin.saveRaw = saveRaw;","module.exports = mixin;","","function mixin(repo, prefix) {","  if (!prefix) throw new Error(\"Prefix required\");","  repo.refPrefix = prefix;","  repo.saveAs = saveAs;","  repo.saveRaw = saveRaw;","  repo.loadAs = loadAs;","  repo.loadRaw = loadRaw;","  repo.readRef = readRef;","  repo.updateRef = updateRef;","  repo.hasHash = hasHash;","}","","function init(callback) {","","  db = openDatabase('tedit', '1.0', 'tedit local data', 10 * 1024 * 1024);","  db.transaction(function (tx) {","    tx.executeSql(","      'CREATE TABLE IF NOT EXISTS objects (hash unique, body blob)'","    );","    tx.executeSql(","      'CREATE TABLE IF NOT EXISTS refs (path unique, value text)'","    );","  }, function () {","    console.error(arguments);","    callback(new Error(\"Problem initializing database\"));","  }, function () {","    callback();","  });","}","","function saveAs(type, body, callback) {","  /*jshint: validthis: true */","  if (!callback) return saveAs.bind(this, type, body);","  var hash, buffer;","  try {","    buffer = codec.frame({type:type,body:body});","    hash = sha1(buffer);","  }","  catch (err) { return callback(err); }","  this.saveRaw(hash, buffer, callback);","}","","function saveRaw(hash, buffer, callback) {","  /*jshint: validthis: true */","  if (!callback) return saveRaw.bind(this, hash, buffer);","  var sql = 'INSERT INTO objects (hash, body) VALUES (?, ?)';","  db.transaction(function (tx) {","    var text;","    try {","      text = bodec.toBase64(deflate(buffer));","    }","    catch (err) {","      return callback(err);","    }","    tx.executeSql(sql, [hash, text], function () {","      callback(null, hash);","    });","  });","}","","function loadAs(type, hash, callback) {","  /*jshint: validthis: true */","  if (!callback) return loadAs.bind(this, type, hash);","  loadRaw(hash, function (err, buffer) {","    if (!buffer) return callback(err);","    var parts, body;","    try {","      parts = codec.deframe(buffer);","      if (parts.type !== type) throw new Error(\"Type mismatch\");","      body = codec.decoders[type](parts.body);","    }","    catch (err) {","      return callback(err);","    }","    callback(null, body);","  });","}","","function loadRaw(hash, callback) {","  /*jshint: validthis: true */","  if (!callback) return loadRaw.bind(this, hash);","  var sql = 'SELECT * FROM objects WHERE hash=?';","  db.readTransaction(function (tx) {","    tx.executeSql(sql, [hash], function (tx, result) {","      if (!result.rows.length) return callback();","      var item = result.rows.item(0);","      var buffer;","      try {","        buffer = inflate(bodec.fromBase64(item.body));","      }","      catch (err) {","        return callback(err);","      }","      callback(null, buffer);","    }, function (tx, error) {","      callback(new Error(error.message));","    });","  });","}","","function hasHash(type, hash, callback) {","  /*jshint: validthis: true */","  loadAs(type, hash, function (err, value) {","    if (err) return callback(err);","    if (value === undefined) return callback(null, false);","    if (type !== \"tree\") return callback(null, true);","    var names = Object.keys(value);","    next();","    function next() {","      if (!names.length) return callback(null, true);","      var name = names.pop();","      var entry = value[name];","      hasHash(modes.toType(entry.mode), entry.hash, function (err, has) {","        if (err) return callback(err);","        if (has) return next();","        callback(null, false);","      });","    }","  });","}","","function readRef(ref, callback) {","  /*jshint: validthis: true */","  var key = this.refPrefix + \"/\" + ref;","  var sql = 'SELECT * FROM refs WHERE path=?';","  db.transaction(function (tx) {","    tx.executeSql(sql, [key], function (tx, result) {","      if (!result.rows.length) return callback();","      var item = result.rows.item(0);","      callback(null, item.value);","    }, function (tx, error) {","      callback(new Error(error.message));","    });","  });","}","","function updateRef(ref, hash, callback) {","  /*jshint: validthis: true */","  var key = this.refPrefix + \"/\" + ref;","  var sql = 'INSERT INTO refs (path, value) VALUES (?, ?)';","  db.transaction(function (tx) {","    tx.executeSql(sql, [key, hash], function () {","      callback();","    }, function (tx, error) {","      callback(new Error(error.message));","    });","  });","}",""],"l":{"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"10":1,"12":1,"14":1,"15":1,"16":1,"17":1,"18":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"32":1,"34":0,"35":0,"36":0,"39":0,"43":0,"44":0,"46":0,"50":1,"52":0,"53":0,"54":0,"55":0,"56":0,"58":0,"59":0,"62":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"72":0,"74":0,"75":0,"80":1,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"92":0,"94":0,"98":1,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"111":0,"113":0,"115":0,"120":1,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":1,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"141":1,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"151":0,"156":1,"158":0,"159":0,"160":0,"161":0,"162":0,"164":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/net/request-xhr.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/net/request-xhr.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"request","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":55}}},"2":{"name":"(anonymous_2)","line":17,"loc":{"start":{"line":17,"column":31},"end":{"line":17,"column":47}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":27},"end":{"line":21,"column":39}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":61},"end":{"line":24,"column":77}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}},"2":{"start":{"line":5,"column":0},"end":{"line":36,"column":1}},"3":{"start":{"line":6,"column":2},"end":{"line":9,"column":3}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":20}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":21}},"6":{"start":{"line":10,"column":2},"end":{"line":12,"column":3}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":58}},"8":{"start":{"line":13,"column":2},"end":{"line":13,"column":33}},"9":{"start":{"line":14,"column":2},"end":{"line":14,"column":30}},"10":{"start":{"line":15,"column":2},"end":{"line":15,"column":35}},"11":{"start":{"line":17,"column":2},"end":{"line":19,"column":5}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":46}},"13":{"start":{"line":21,"column":2},"end":{"line":34,"column":4}},"14":{"start":{"line":22,"column":4},"end":{"line":22,"column":37}},"15":{"start":{"line":22,"column":30},"end":{"line":22,"column":37}},"16":{"start":{"line":23,"column":4},"end":{"line":23,"column":24}},"17":{"start":{"line":24,"column":4},"end":{"line":27,"column":7}},"18":{"start":{"line":25,"column":6},"end":{"line":25,"column":36}},"19":{"start":{"line":26,"column":6},"end":{"line":26,"column":92}},"20":{"start":{"line":29,"column":4},"end":{"line":33,"column":7}},"21":{"start":{"line":35,"column":2},"end":{"line":35,"column":17}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"4":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":12},"end":{"line":32,"column":24}},{"start":{"line":32,"column":28},"end":{"line":32,"column":56}}]}},"code":["\"use strict\";","","module.exports = request;","","function request(method, url, headers, body, callback) {","  if (typeof body === \"function\") {","    callback = body;","    body = undefined;","  }","  if (!callback) {","    return request.bind(null, method, url, headers, body);","  }","  var xhr = new XMLHttpRequest();","  xhr.open(method, url, true);","  xhr.responseType = \"arraybuffer\";","","  Object.keys(headers).forEach(function (name) {","    xhr.setRequestHeader(name, headers[name]);","  });","","  xhr.onreadystatechange = function () {","    if (xhr.readyState !== 4) return;","    var resHeaders = {};","    xhr.getAllResponseHeaders().trim().split(\"\\r\\n\").forEach(function (line) {","      var index = line.indexOf(\":\");","      resHeaders[line.substring(0, index).toLowerCase()] = line.substring(index + 1).trim();","    });","","    callback(null, {","      statusCode: xhr.status,","      headers: resHeaders,","      body: xhr.response && new Uint8Array(xhr.response)","    });","  };","  xhr.send(body);","}",""],"l":{"3":1,"5":1,"6":0,"7":0,"8":0,"10":0,"11":0,"13":0,"14":0,"15":0,"17":0,"18":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"29":0,"35":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/net/tcp-chrome-sockets.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/net/tcp-chrome-sockets.js","s":{"1":2,"2":2,"3":2,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1,"61":0,"62":1,"63":0,"64":0,"65":0,"66":1,"67":0,"68":0,"69":0,"70":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"connect","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":38}}},"2":{"name":"onCreate","line":45,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":32}}},"3":{"name":"onConnect","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":50,"column":29}}},"4":{"name":"onInfo","line":55,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":30}}},"5":{"name":"onReceive","line":63,"loc":{"start":{"line":63,"column":2},"end":{"line":63,"column":27}}},"6":{"name":"onDrain","line":71,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":21}}},"7":{"name":"onReceiveError","line":77,"loc":{"start":{"line":77,"column":2},"end":{"line":77,"column":32}}},"8":{"name":"onData","line":86,"loc":{"start":{"line":86,"column":2},"end":{"line":86,"column":24}}},"9":{"name":"onWrite","line":90,"loc":{"start":{"line":90,"column":2},"end":{"line":90,"column":25}}},"10":{"name":"wrap","line":99,"loc":{"start":{"line":99,"column":0},"end":{"line":99,"column":27}}},"11":{"name":"(anonymous_11)","line":100,"loc":{"start":{"line":100,"column":9},"end":{"line":100,"column":21}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":49}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":36}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":36}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":25}},"6":{"start":{"line":10,"column":0},"end":{"line":96,"column":1}},"7":{"start":{"line":11,"column":2},"end":{"line":11,"column":16}},"8":{"start":{"line":12,"column":2},"end":{"line":12,"column":22}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":72}},"10":{"start":{"line":13,"column":22},"end":{"line":13,"column":72}},"11":{"start":{"line":15,"column":2},"end":{"line":15,"column":37}},"12":{"start":{"line":16,"column":2},"end":{"line":16,"column":39}},"13":{"start":{"line":17,"column":2},"end":{"line":17,"column":33}},"14":{"start":{"line":18,"column":2},"end":{"line":18,"column":39}},"15":{"start":{"line":19,"column":2},"end":{"line":19,"column":49}},"16":{"start":{"line":20,"column":2},"end":{"line":20,"column":40}},"17":{"start":{"line":21,"column":2},"end":{"line":21,"column":35}},"18":{"start":{"line":23,"column":2},"end":{"line":23,"column":21}},"19":{"start":{"line":24,"column":2},"end":{"line":24,"column":19}},"20":{"start":{"line":25,"column":2},"end":{"line":25,"column":15}},"21":{"start":{"line":27,"column":2},"end":{"line":27,"column":36}},"22":{"start":{"line":28,"column":2},"end":{"line":28,"column":36}},"23":{"start":{"line":29,"column":2},"end":{"line":33,"column":4}},"24":{"start":{"line":35,"column":2},"end":{"line":35,"column":39}},"25":{"start":{"line":36,"column":2},"end":{"line":36,"column":49}},"26":{"start":{"line":37,"column":2},"end":{"line":37,"column":23}},"27":{"start":{"line":39,"column":2},"end":{"line":43,"column":4}},"28":{"start":{"line":45,"column":2},"end":{"line":48,"column":3}},"29":{"start":{"line":46,"column":4},"end":{"line":46,"column":35}},"30":{"start":{"line":47,"column":4},"end":{"line":47,"column":49}},"31":{"start":{"line":50,"column":2},"end":{"line":53,"column":3}},"32":{"start":{"line":51,"column":4},"end":{"line":51,"column":85}},"33":{"start":{"line":51,"column":20},"end":{"line":51,"column":85}},"34":{"start":{"line":52,"column":4},"end":{"line":52,"column":34}},"35":{"start":{"line":55,"column":2},"end":{"line":61,"column":3}},"36":{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},"37":{"start":{"line":57,"column":6},"end":{"line":57,"column":43}},"38":{"start":{"line":59,"column":4},"end":{"line":59,"column":16}},"39":{"start":{"line":60,"column":4},"end":{"line":60,"column":24}},"40":{"start":{"line":63,"column":2},"end":{"line":69,"column":3}},"41":{"start":{"line":64,"column":4},"end":{"line":64,"column":43}},"42":{"start":{"line":64,"column":36},"end":{"line":64,"column":43}},"43":{"start":{"line":65,"column":4},"end":{"line":65,"column":64}},"44":{"start":{"line":65,"column":57},"end":{"line":65,"column":64}},"45":{"start":{"line":66,"column":4},"end":{"line":66,"column":18}},"46":{"start":{"line":67,"column":4},"end":{"line":67,"column":34}},"47":{"start":{"line":68,"column":4},"end":{"line":68,"column":26}},"48":{"start":{"line":71,"column":2},"end":{"line":75,"column":3}},"49":{"start":{"line":72,"column":4},"end":{"line":72,"column":24}},"50":{"start":{"line":72,"column":17},"end":{"line":72,"column":24}},"51":{"start":{"line":73,"column":4},"end":{"line":73,"column":19}},"52":{"start":{"line":74,"column":4},"end":{"line":74,"column":45}},"53":{"start":{"line":74,"column":14},"end":{"line":74,"column":45}},"54":{"start":{"line":77,"column":2},"end":{"line":84,"column":3}},"55":{"start":{"line":78,"column":4},"end":{"line":78,"column":43}},"56":{"start":{"line":78,"column":36},"end":{"line":78,"column":43}},"57":{"start":{"line":79,"column":4},"end":{"line":79,"column":17}},"58":{"start":{"line":80,"column":4},"end":{"line":80,"column":24}},"59":{"start":{"line":81,"column":4},"end":{"line":81,"column":17}},"60":{"start":{"line":86,"column":2},"end":{"line":88,"column":3}},"61":{"start":{"line":87,"column":4},"end":{"line":87,"column":45}},"62":{"start":{"line":90,"column":2},"end":{"line":95,"column":3}},"63":{"start":{"line":91,"column":4},"end":{"line":93,"column":5}},"64":{"start":{"line":92,"column":6},"end":{"line":92,"column":69}},"65":{"start":{"line":94,"column":4},"end":{"line":94,"column":24}},"66":{"start":{"line":99,"column":0},"end":{"line":108,"column":1}},"67":{"start":{"line":100,"column":2},"end":{"line":107,"column":4}},"68":{"start":{"line":101,"column":4},"end":{"line":106,"column":5}},"69":{"start":{"line":102,"column":6},"end":{"line":102,"column":39}},"70":{"start":{"line":105,"column":6},"end":{"line":105,"column":19}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":13,"column":2}},{"start":{"line":13,"column":2},"end":{"line":13,"column":2}}]},"2":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":6},"end":{"line":13,"column":11}},{"start":{"line":13,"column":15},"end":{"line":13,"column":20}}]},"3":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":4}},{"start":{"line":51,"column":4},"end":{"line":51,"column":4}}]},"4":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":4}},{"start":{"line":56,"column":4},"end":{"line":56,"column":4}}]},"5":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":64,"column":4}},{"start":{"line":64,"column":4},"end":{"line":64,"column":4}}]},"6":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":4},"end":{"line":65,"column":4}},{"start":{"line":65,"column":4},"end":{"line":65,"column":4}}]},"7":{"line":65,"type":"binary-expr","locations":[{"start":{"line":65,"column":8},"end":{"line":65,"column":45}},{"start":{"line":65,"column":49},"end":{"line":65,"column":55}}]},"8":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":4}},{"start":{"line":72,"column":4},"end":{"line":72,"column":4}}]},"9":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":4},"end":{"line":74,"column":4}},{"start":{"line":74,"column":4},"end":{"line":74,"column":4}}]},"10":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":4},"end":{"line":78,"column":4}},{"start":{"line":78,"column":4},"end":{"line":78,"column":4}}]},"11":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":4}},{"start":{"line":91,"column":4},"end":{"line":91,"column":4}}]}},"code":["\"use strict\";","","var makeChannel = require('culvert');","var wrapHandler = require('../lib/wrap-handler');","var tcp = window.chrome.sockets.tcp;","var runtime = window.chrome.runtime;","","module.exports = connect;","","function connect(host, port, onError) {","  port = port|0;","  host = String(host);","  if (!port || !host) throw new TypeError(\"host and port are required\");","","  onCreate = wrap(onCreate, onError);","  onConnect = wrap(onConnect, onError);","  onInfo = wrap(onInfo, onError);","  onReceive = wrap(onReceive, onError);","  onReceiveError = wrap(onReceiveError, onError);","  onData = wrapHandler(onData, onError);","  onWrite = wrap(onWrite, onError);","","  var paused = false;","  var open = false;","  var socketId;","","  var serverChannel = makeChannel();","  var clientChannel = makeChannel();","  var socket = {","    put: serverChannel.put,","    drain: serverChannel.drain,","    take: clientChannel.take","  };","","  tcp.onReceive.addListener(onReceive);","  tcp.onReceiveError.addListener(onReceiveError);","  tcp.create(onCreate);","","  return {","    put: clientChannel.put,","    drain: clientChannel.drain,","    take: serverChannel.take","  };","","  function onCreate(createInfo) {","    socketId = createInfo.socketId;","    tcp.connect(socketId, host, port, onConnect);","  }","","  function onConnect(result) {","    if (result < 0) throw new Error(runtime.lastError.message + \" Connection error\");","    tcp.getInfo(socketId, onInfo);","  }","","  function onInfo(socketInfo) {","    if (!socketInfo.connected) {","      throw new Error(\"Connection failed\");","    }","    open = true;","    socket.take(onData);","  }","","  function onReceive(info) {","    if (info.socketId !== socketId) return;","    if (socket.put(new Uint8Array(info.data)) || paused) return;","    paused = true;","    tcp.setPaused(socketId, true);","    socket.drain(onDrain);","  }","","  function onDrain() {","    if (!paused) return;","    paused = false;","    if (open) tcp.setPaused(socketId, false);","  }","","  function onReceiveError(info) {","    if (info.socketId !== socketId) return;","    open = false;","    tcp.close(socketId);","    socket.put();","    // TODO: find a way to tell close and error apart.","    // throw new Error(\"Code \" + info.resultCode + \" error while receiving.\");","  }","","  function onData(data) {","    tcp.send(socketId, data.buffer, onWrite);","  }","","  function onWrite(info) {","    if (info.resultCode < 0) {","      throw new Error(runtime.lastError.message + \" Error writing.\");","    }","    socket.take(onData);","  }","}","","","function wrap(fn, onError) {","  return function () {","    try {","      return fn.apply(this, arguments);","    }","    catch (err) {","      onError(err);","    }","  };","}",""],"l":{"3":2,"4":2,"5":2,"6":0,"8":0,"10":1,"11":0,"12":0,"13":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"23":0,"24":0,"25":0,"27":0,"28":0,"29":0,"35":0,"36":0,"37":0,"39":0,"45":1,"46":0,"47":0,"50":1,"51":0,"52":0,"55":1,"56":0,"57":0,"59":0,"60":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"71":1,"72":0,"73":0,"74":0,"77":1,"78":0,"79":0,"80":0,"81":0,"86":1,"87":0,"90":1,"91":0,"92":0,"94":0,"99":1,"100":0,"101":0,"102":0,"105":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/net/tcp-node.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/net/tcp-node.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":1,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"connect","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":38}}},"2":{"name":"onConnect","line":40,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":23}}},"3":{"name":"pump","line":48,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":18}}},"4":{"name":"onEnd","line":57,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":19}}},"5":{"name":"onTake","line":61,"loc":{"start":{"line":61,"column":2},"end":{"line":61,"column":24}}},"6":{"name":"onDrain","line":70,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":21}}},"7":{"name":"wrap","line":76,"loc":{"start":{"line":76,"column":0},"end":{"line":76,"column":27}}},"8":{"name":"(anonymous_8)","line":77,"loc":{"start":{"line":77,"column":9},"end":{"line":77,"column":21}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":49}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":25}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":25}},"5":{"start":{"line":9,"column":0},"end":{"line":74,"column":1}},"6":{"start":{"line":10,"column":2},"end":{"line":10,"column":16}},"7":{"start":{"line":11,"column":2},"end":{"line":11,"column":22}},"8":{"start":{"line":12,"column":2},"end":{"line":12,"column":72}},"9":{"start":{"line":12,"column":22},"end":{"line":12,"column":72}},"10":{"start":{"line":15,"column":2},"end":{"line":15,"column":39}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":29}},"12":{"start":{"line":17,"column":2},"end":{"line":17,"column":31}},"13":{"start":{"line":18,"column":2},"end":{"line":18,"column":35}},"14":{"start":{"line":21,"column":2},"end":{"line":21,"column":40}},"15":{"start":{"line":23,"column":2},"end":{"line":23,"column":36}},"16":{"start":{"line":24,"column":2},"end":{"line":24,"column":36}},"17":{"start":{"line":25,"column":2},"end":{"line":29,"column":4}},"18":{"start":{"line":31,"column":2},"end":{"line":31,"column":66}},"19":{"start":{"line":32,"column":2},"end":{"line":32,"column":43}},"20":{"start":{"line":32,"column":15},"end":{"line":32,"column":43}},"21":{"start":{"line":34,"column":2},"end":{"line":38,"column":4}},"22":{"start":{"line":40,"column":2},"end":{"line":46,"column":3}},"23":{"start":{"line":41,"column":4},"end":{"line":41,"column":24}},"24":{"start":{"line":42,"column":4},"end":{"line":42,"column":28}},"25":{"start":{"line":43,"column":4},"end":{"line":43,"column":32}},"26":{"start":{"line":44,"column":4},"end":{"line":44,"column":32}},"27":{"start":{"line":45,"column":4},"end":{"line":45,"column":32}},"28":{"start":{"line":48,"column":2},"end":{"line":55,"column":3}},"29":{"start":{"line":49,"column":4},"end":{"line":49,"column":14}},"30":{"start":{"line":50,"column":4},"end":{"line":53,"column":32}},"31":{"start":{"line":51,"column":6},"end":{"line":51,"column":28}},"32":{"start":{"line":52,"column":6},"end":{"line":52,"column":25}},"33":{"start":{"line":52,"column":18},"end":{"line":52,"column":25}},"34":{"start":{"line":54,"column":4},"end":{"line":54,"column":23}},"35":{"start":{"line":57,"column":2},"end":{"line":59,"column":3}},"36":{"start":{"line":58,"column":4},"end":{"line":58,"column":17}},"37":{"start":{"line":61,"column":2},"end":{"line":68,"column":3}},"38":{"start":{"line":62,"column":4},"end":{"line":67,"column":5}},"39":{"start":{"line":63,"column":6},"end":{"line":63,"column":19}},"40":{"start":{"line":65,"column":9},"end":{"line":67,"column":5}},"41":{"start":{"line":66,"column":6},"end":{"line":66,"column":26}},"42":{"start":{"line":70,"column":2},"end":{"line":72,"column":3}},"43":{"start":{"line":71,"column":4},"end":{"line":71,"column":24}},"44":{"start":{"line":76,"column":0},"end":{"line":85,"column":1}},"45":{"start":{"line":77,"column":2},"end":{"line":84,"column":4}},"46":{"start":{"line":78,"column":4},"end":{"line":83,"column":5}},"47":{"start":{"line":79,"column":6},"end":{"line":79,"column":39}},"48":{"start":{"line":82,"column":6},"end":{"line":82,"column":19}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":2},"end":{"line":12,"column":2}},{"start":{"line":12,"column":2},"end":{"line":12,"column":2}}]},"2":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":6},"end":{"line":12,"column":11}},{"start":{"line":12,"column":15},"end":{"line":12,"column":20}}]},"3":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":2},"end":{"line":32,"column":2}},{"start":{"line":32,"column":2},"end":{"line":32,"column":2}}]},"4":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":6},"end":{"line":52,"column":6}},{"start":{"line":52,"column":6},"end":{"line":52,"column":6}}]},"5":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":4},"end":{"line":62,"column":4}},{"start":{"line":62,"column":4},"end":{"line":62,"column":4}}]},"6":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":9},"end":{"line":65,"column":9}},{"start":{"line":65,"column":9},"end":{"line":65,"column":9}}]}},"code":["\"use strict\";","","var makeChannel = require('culvert');","var wrapHandler = require('../lib/wrap-handler');","var net = require('net');","","module.exports = connect;","","function connect(host, port, onError) {","  port = port|0;","  host = String(host);","  if (!port || !host) throw new TypeError(\"host and port are required\");","","  // Wrap event handlers from node stream","  onConnect = wrap(onConnect, onError);","  pump = wrap(pump, onError);","  onEnd = wrap(onEnd, onError);","  onDrain = wrap(onDrain, onError);","","  // Wrap event handlers from culvert socket","  onTake = wrapHandler(onTake, onError);","","  var serverChannel = makeChannel();","  var clientChannel = makeChannel();","  var socket = {","    put: serverChannel.put,","    drain: serverChannel.drain,","    take: clientChannel.take","  };","","  var client = net.connect({ host: host, port: port }, onConnect);","  if (onError) client.on(\"error\", onError);","","  return {","    put: clientChannel.put,","    drain: clientChannel.drain,","    take: serverChannel.take","  };","","  function onConnect() {","    socket.take(onTake);","    client.on(\"end\", onEnd);","    client.on(\"readable\", pump);","    client.on(\"drain\", onDrain);","    client.on(\"error\", onError);","  }","","  function pump() {","    var chunk;","    do {","      chunk = client.read();","      if (!chunk) return;","    } while (socket.put(chunk));","    socket.drain(pump);","  }","","  function onEnd() {","    socket.put();","  }","","  function onTake(data) {","    if (data === undefined) {","      client.end();","    }","    else if (client.write(data)) {","      socket.take(onTake);","    }","  }","","  function onDrain() {","    socket.take(onTake);","  }","","}","","function wrap(fn, onError) {","  return function () {","    try {","      return fn.apply(this, arguments);","    }","    catch (err) {","      onError(err);","    }","  };","}",""],"l":{"3":1,"4":1,"5":1,"7":1,"9":1,"10":0,"11":0,"12":0,"15":0,"16":0,"17":0,"18":0,"21":0,"23":0,"24":0,"25":0,"31":0,"32":0,"34":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"48":1,"49":0,"50":0,"51":0,"52":0,"54":0,"57":1,"58":0,"61":1,"62":0,"63":0,"65":0,"66":0,"70":1,"71":0,"76":1,"77":0,"78":0,"79":0,"82":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/net/tcp-ws-proxy.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/net/tcp-ws-proxy.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":1,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":1,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":37}}},"2":{"name":"connect","line":9,"loc":{"start":{"line":9,"column":9},"end":{"line":9,"column":47}}},"3":{"name":"onOpen","line":39,"loc":{"start":{"line":39,"column":4},"end":{"line":39,"column":22}}},"4":{"name":"onClose","line":43,"loc":{"start":{"line":43,"column":4},"end":{"line":43,"column":23}}},"5":{"name":"onMessage","line":47,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":28}}},"6":{"name":"onWsError","line":57,"loc":{"start":{"line":57,"column":4},"end":{"line":57,"column":25}}},"7":{"name":"onData","line":62,"loc":{"start":{"line":62,"column":4},"end":{"line":62,"column":27}}},"8":{"name":"wrap","line":70,"loc":{"start":{"line":70,"column":0},"end":{"line":70,"column":27}}},"9":{"name":"(anonymous_9)","line":71,"loc":{"start":{"line":71,"column":9},"end":{"line":71,"column":21}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":49}},"3":{"start":{"line":6,"column":0},"end":{"line":68,"column":2}},"4":{"start":{"line":7,"column":2},"end":{"line":7,"column":61}},"5":{"start":{"line":7,"column":45},"end":{"line":7,"column":61}},"6":{"start":{"line":9,"column":2},"end":{"line":67,"column":4}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":18}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":24}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":74}},"10":{"start":{"line":12,"column":24},"end":{"line":12,"column":74}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":42}},"12":{"start":{"line":16,"column":4},"end":{"line":16,"column":38}},"13":{"start":{"line":17,"column":4},"end":{"line":17,"column":38}},"14":{"start":{"line":18,"column":4},"end":{"line":22,"column":6}},"15":{"start":{"line":24,"column":4},"end":{"line":24,"column":26}},"16":{"start":{"line":25,"column":4},"end":{"line":25,"column":67}},"17":{"start":{"line":26,"column":4},"end":{"line":26,"column":34}},"18":{"start":{"line":28,"column":4},"end":{"line":28,"column":38}},"19":{"start":{"line":29,"column":4},"end":{"line":29,"column":40}},"20":{"start":{"line":30,"column":4},"end":{"line":30,"column":44}},"21":{"start":{"line":31,"column":4},"end":{"line":31,"column":42}},"22":{"start":{"line":33,"column":4},"end":{"line":37,"column":6}},"23":{"start":{"line":39,"column":4},"end":{"line":41,"column":5}},"24":{"start":{"line":40,"column":6},"end":{"line":40,"column":25}},"25":{"start":{"line":43,"column":4},"end":{"line":45,"column":5}},"26":{"start":{"line":44,"column":6},"end":{"line":44,"column":19}},"27":{"start":{"line":47,"column":4},"end":{"line":55,"column":5}},"28":{"start":{"line":48,"column":6},"end":{"line":52,"column":7}},"29":{"start":{"line":49,"column":8},"end":{"line":49,"column":25}},"30":{"start":{"line":50,"column":8},"end":{"line":50,"column":28}},"31":{"start":{"line":51,"column":8},"end":{"line":51,"column":15}},"32":{"start":{"line":54,"column":6},"end":{"line":54,"column":43}},"33":{"start":{"line":57,"column":4},"end":{"line":60,"column":5}},"34":{"start":{"line":58,"column":6},"end":{"line":58,"column":31}},"35":{"start":{"line":59,"column":6},"end":{"line":59,"column":49}},"36":{"start":{"line":62,"column":4},"end":{"line":65,"column":5}},"37":{"start":{"line":63,"column":6},"end":{"line":63,"column":28}},"38":{"start":{"line":64,"column":6},"end":{"line":64,"column":26}},"39":{"start":{"line":70,"column":0},"end":{"line":79,"column":1}},"40":{"start":{"line":71,"column":2},"end":{"line":78,"column":4}},"41":{"start":{"line":72,"column":4},"end":{"line":77,"column":5}},"42":{"start":{"line":73,"column":6},"end":{"line":73,"column":39}},"43":{"start":{"line":76,"column":6},"end":{"line":76,"column":19}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":4}},{"start":{"line":12,"column":4},"end":{"line":12,"column":4}}]},"3":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":8},"end":{"line":12,"column":13}},{"start":{"line":12,"column":17},"end":{"line":12,"column":22}}]},"4":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":6},"end":{"line":48,"column":6}},{"start":{"line":48,"column":6},"end":{"line":48,"column":6}}]},"5":{"line":48,"type":"binary-expr","locations":[{"start":{"line":48,"column":10},"end":{"line":48,"column":20}},{"start":{"line":48,"column":24},"end":{"line":48,"column":46}}]}},"code":["\"use strict\";","","var makeChannel = require('culvert');","var wrapHandler = require('../lib/wrap-handler');","","module.exports = function (proxyUrl) {","  if (proxyUrl[proxyUrl.length - 1] !== \"/\") proxyUrl += \"/\";","","  return function connect(host, port, onError) {","    port = port|0;","    host = String(host);","    if (!port || !host) throw new TypeError(\"host and port are required\");","","    onData = wrapHandler(onData, onError);","","    var serverChannel = makeChannel();","    var clientChannel = makeChannel();","    var socket = {","      put: serverChannel.put,","      drain: serverChannel.drain,","      take: clientChannel.take","    };","","    var connected = false;","    var ws = new WebSocket(proxyUrl  + \"tcp/\" + host + \"/\" + port);","    ws.binaryType = \"arraybuffer\";","","    ws.onopen = wrap(onOpen, onError);","    ws.onclose = wrap(onClose, onError);","    ws.onmessage = wrap(onMessage, onError);","    ws.onerror = wrap(onWsError, onError);","","    return {","      put: clientChannel.put,","      drain: clientChannel.drain,","      take: serverChannel.take","    };","","    function onOpen() {","      ws.send(\"connect\");","    }","","    function onClose() {","      socket.put();","    }","","    function onMessage(evt) {","      if (!connected && evt.data === \"connect\") {","        connected = true;","        socket.take(onData);","        return;","      }","","      socket.put(new Uint8Array(evt.data));","    }","","    function onWsError() {","      console.error(arguments);","      throw new Error(\"Generic websocket error\");","    }","","    function onData(chunk) {","      ws.send(chunk.buffer);","      socket.take(onData);","    }","","  };","};","","function wrap(fn, onError) {","  return function () {","    try {","      return fn.apply(this, arguments);","    }","    catch (err) {","      onError(err);","    }","  };","}",""],"l":{"3":1,"4":1,"6":1,"7":0,"9":0,"10":0,"11":0,"12":0,"14":0,"16":0,"17":0,"18":0,"24":0,"25":0,"26":0,"28":0,"29":0,"30":0,"31":0,"33":0,"39":1,"40":0,"43":1,"44":0,"47":1,"48":0,"49":0,"50":0,"51":0,"54":0,"57":1,"58":0,"59":0,"62":1,"63":0,"64":0,"70":1,"71":0,"72":0,"73":0,"76":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/net/transport-http.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/net/transport-http.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":17},"end":{"line":8,"column":36}}},"2":{"name":"httpTransport","line":10,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":60}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":11},"end":{"line":17,"column":43}}},"4":{"name":"(anonymous_4)","line":40,"loc":{"start":{"line":40,"column":37},"end":{"line":40,"column":54}}},"5":{"name":"(anonymous_5)","line":47,"loc":{"start":{"line":47,"column":43},"end":{"line":47,"column":59}}},"6":{"name":"onResponse","line":72,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":31}}},"7":{"name":"onWrite","line":82,"loc":{"start":{"line":82,"column":6},"end":{"line":82,"column":29}}},"8":{"name":"onResult","line":92,"loc":{"start":{"line":92,"column":6},"end":{"line":92,"column":29}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}},"5":{"start":{"line":8,"column":0},"end":{"line":103,"column":2}},"6":{"start":{"line":10,"column":2},"end":{"line":102,"column":4}},"7":{"start":{"line":12,"column":4},"end":{"line":12,"column":13}},"8":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"9":{"start":{"line":14,"column":6},"end":{"line":14,"column":64}},"10":{"start":{"line":17,"column":4},"end":{"line":101,"column":6}},"11":{"start":{"line":20,"column":6},"end":{"line":20,"column":52}},"12":{"start":{"line":21,"column":6},"end":{"line":21,"column":46}},"13":{"start":{"line":22,"column":6},"end":{"line":22,"column":48}},"14":{"start":{"line":25,"column":6},"end":{"line":25,"column":40}},"15":{"start":{"line":26,"column":6},"end":{"line":26,"column":40}},"16":{"start":{"line":27,"column":6},"end":{"line":31,"column":8}},"17":{"start":{"line":34,"column":6},"end":{"line":34,"column":23}},"18":{"start":{"line":35,"column":6},"end":{"line":35,"column":45}},"19":{"start":{"line":35,"column":16},"end":{"line":35,"column":45}},"20":{"start":{"line":36,"column":6},"end":{"line":36,"column":88}},"21":{"start":{"line":39,"column":6},"end":{"line":39,"column":25}},"22":{"start":{"line":40,"column":6},"end":{"line":42,"column":9}},"23":{"start":{"line":41,"column":8},"end":{"line":41,"column":30}},"24":{"start":{"line":43,"column":6},"end":{"line":43,"column":76}},"25":{"start":{"line":44,"column":6},"end":{"line":44,"column":27}},"26":{"start":{"line":46,"column":6},"end":{"line":46,"column":23}},"27":{"start":{"line":47,"column":6},"end":{"line":63,"column":9}},"28":{"start":{"line":48,"column":8},"end":{"line":62,"column":9}},"29":{"start":{"line":49,"column":10},"end":{"line":49,"column":27}},"30":{"start":{"line":51,"column":13},"end":{"line":62,"column":9}},"31":{"start":{"line":52,"column":10},"end":{"line":54,"column":11}},"32":{"start":{"line":53,"column":12},"end":{"line":53,"column":56}},"33":{"start":{"line":55,"column":10},"end":{"line":55,"column":23}},"34":{"start":{"line":57,"column":13},"end":{"line":62,"column":9}},"35":{"start":{"line":58,"column":10},"end":{"line":60,"column":11}},"36":{"start":{"line":59,"column":12},"end":{"line":59,"column":64}},"37":{"start":{"line":61,"column":10},"end":{"line":61,"column":23}},"38":{"start":{"line":66,"column":6},"end":{"line":70,"column":8}},"39":{"start":{"line":72,"column":6},"end":{"line":80,"column":7}},"40":{"start":{"line":73,"column":8},"end":{"line":75,"column":9}},"41":{"start":{"line":74,"column":10},"end":{"line":74,"column":65}},"42":{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},"43":{"start":{"line":77,"column":10},"end":{"line":77,"column":57}},"44":{"start":{"line":79,"column":8},"end":{"line":79,"column":32}},"45":{"start":{"line":82,"column":6},"end":{"line":90,"column":7}},"46":{"start":{"line":83,"column":8},"end":{"line":83,"column":52}},"47":{"start":{"line":83,"column":32},"end":{"line":83,"column":52}},"48":{"start":{"line":84,"column":8},"end":{"line":84,"column":24}},"49":{"start":{"line":85,"column":8},"end":{"line":85,"column":29}},"50":{"start":{"line":86,"column":8},"end":{"line":86,"column":59}},"51":{"start":{"line":86,"column":52},"end":{"line":86,"column":59}},"52":{"start":{"line":87,"column":8},"end":{"line":87,"column":41}},"53":{"start":{"line":88,"column":8},"end":{"line":88,"column":29}},"54":{"start":{"line":89,"column":8},"end":{"line":89,"column":77}},"55":{"start":{"line":92,"column":6},"end":{"line":100,"column":7}},"56":{"start":{"line":93,"column":8},"end":{"line":95,"column":9}},"57":{"start":{"line":94,"column":10},"end":{"line":94,"column":63}},"58":{"start":{"line":96,"column":8},"end":{"line":98,"column":9}},"59":{"start":{"line":97,"column":10},"end":{"line":97,"column":57}},"60":{"start":{"line":99,"column":8},"end":{"line":99,"column":32}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":4}},{"start":{"line":13,"column":4},"end":{"line":13,"column":4}}]},"2":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":47},"end":{"line":14,"column":55}},{"start":{"line":14,"column":59},"end":{"line":14,"column":61}}]},"3":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":6},"end":{"line":35,"column":6}},{"start":{"line":35,"column":6},"end":{"line":35,"column":6}}]},"4":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":48,"column":8}},{"start":{"line":48,"column":8},"end":{"line":48,"column":8}}]},"5":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":13},"end":{"line":51,"column":13}},{"start":{"line":51,"column":13},"end":{"line":51,"column":13}}]},"6":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":10},"end":{"line":52,"column":10}},{"start":{"line":52,"column":10},"end":{"line":52,"column":10}}]},"7":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":13},"end":{"line":57,"column":13}},{"start":{"line":57,"column":13},"end":{"line":57,"column":13}}]},"8":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":10},"end":{"line":58,"column":10}},{"start":{"line":58,"column":10},"end":{"line":58,"column":10}}]},"9":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":8},"end":{"line":73,"column":8}},{"start":{"line":73,"column":8},"end":{"line":73,"column":8}}]},"10":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":76,"column":8}},{"start":{"line":76,"column":8},"end":{"line":76,"column":8}}]},"11":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":8},"end":{"line":83,"column":8}},{"start":{"line":83,"column":8},"end":{"line":83,"column":8}}]},"12":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":8},"end":{"line":86,"column":8}},{"start":{"line":86,"column":8},"end":{"line":86,"column":8}}]},"13":{"line":86,"type":"binary-expr","locations":[{"start":{"line":86,"column":12},"end":{"line":86,"column":29}},{"start":{"line":86,"column":33},"end":{"line":86,"column":50}}]},"14":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":8},"end":{"line":93,"column":8}},{"start":{"line":93,"column":8},"end":{"line":93,"column":8}}]},"15":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":8},"end":{"line":96,"column":8}},{"start":{"line":96,"column":8},"end":{"line":96,"column":8}}]}},"code":["\"use strict\";","","var makeChannel = require('culvert');","var bodec = require('bodec');","var pktLine = require('../lib/pkt-line');","var wrapHandler = require('../lib/wrap-handler');","","module.exports = function (request) {","","  return function httpTransport(gitUrl, username, password) {","    // Send Auth header if username is set","    var auth;","    if (username) {","      auth = \"Basic \" + btoa(username + \":\" + (password || \"\"));","    }","","    return function (serviceName, onError) {","","      // Wrap our handler functions to route errors properly.","      onResponse = wrapHandler(onResponse, onError);","      onWrite = wrapHandler(onWrite, onError);","      onResult = wrapHandler(onResult, onError);","","      // Create a duplex channel with transform for internal use.","      var serverChannel = makeChannel();//0, \"server\");","      var clientChannel = makeChannel();//0, \"client\");","      var socket = {","        put: serverChannel.put,","        drain: serverChannel.drain,","        take: clientChannel.take","      };","","      // Send the initial request to start the connection.","      var headers = {};","      if (auth) headers.Authorization = auth;","      request(\"GET\", gitUrl + \"/info/refs?service=\" + serviceName, headers, onResponse);","","      // Prep for later requests","      var bodyParts = [];","      var bodyWrite = pktLine.framer(function (chunk) {","        bodyParts.push(chunk);","      });","      headers[\"Content-Type\"] = \"application/x-\" + serviceName + \"-request\";","      socket.take(onWrite);","","      var verified = 0;","      var parseResponse = pktLine.deframer(function (line) {","        if (verified === 2) {","          socket.put(line);","        }","        else if (verified === 0) {","          if (line !== \"# service=\" + serviceName) {","            throw new Error(\"Illegal service response\");","          }","          verified = 1;","        }","        else if (verified === 1) {","          if (line !== null) {","            throw new Error(\"Expected null after service name\");","          }","          verified = 2;","        }","      });","","      // Return the other half of the duplex channel for the protocol logic to use.","      return {","        put: clientChannel.put,","        drain: clientChannel.drain,","        take: serverChannel.take","      };","","      function onResponse(res) {","        if (res.statusCode !== 200) {","          throw new Error(\"Invalid response: \" + res.statusCode);","        }","        if (res.headers[\"content-type\"] !== \"application/x-\" + serviceName + \"-advertisement\") {","          throw new Error(\"Not a smart http git server\");","        }","        parseResponse(res.body);","      }","","      function onWrite(item) {","        if (item === undefined) return socket.put();","        bodyWrite(item);","        socket.take(onWrite);","        if (item !== \"done\\n\" || !bodyParts.length) return;","        var body = bodec.join(bodyParts);","        bodyParts.length = 0;","        request(\"POST\", gitUrl + \"/\" + serviceName, headers, body, onResult);","      }","","      function onResult(res) {","        if (res.statusCode !== 200) {","          throw new Error(\"Invalid result: \" + res.statusCode);","        }","        if (res.headers[\"content-type\"] !== \"application/x-\" + serviceName + \"-result\") {","          throw new Error(\"Not a smart http git server\");","        }","        parseResponse(res.body);","      }","    };","  };","};",""],"l":{"3":1,"4":1,"5":1,"6":1,"8":1,"10":0,"12":0,"13":0,"14":0,"17":0,"20":0,"21":0,"22":0,"25":0,"26":0,"27":0,"34":0,"35":0,"36":0,"39":0,"40":0,"41":0,"43":0,"44":0,"46":0,"47":0,"48":0,"49":0,"51":0,"52":0,"53":0,"55":0,"57":0,"58":0,"59":0,"61":0,"66":0,"72":1,"73":0,"74":0,"76":0,"77":0,"79":0,"82":1,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"92":1,"93":0,"94":0,"96":0,"97":0,"99":0}},"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/net/transport-tcp.js":{"path":"/home/travis/build/npmtest/node-npmtest-js-git/node_modules/js-git/net/transport-tcp.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":17},"end":{"line":8,"column":36}}},"2":{"name":"tcpTransport","line":10,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":49}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":11},"end":{"line":14,"column":43}}},"4":{"name":"onData","line":29,"loc":{"start":{"line":29,"column":6},"end":{"line":29,"column":29}}},"5":{"name":"onDrain","line":37,"loc":{"start":{"line":37,"column":6},"end":{"line":37,"column":25}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}},"5":{"start":{"line":8,"column":0},"end":{"line":48,"column":2}},"6":{"start":{"line":10,"column":2},"end":{"line":47,"column":4}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":28}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":70}},"9":{"start":{"line":12,"column":24},"end":{"line":12,"column":70}},"10":{"start":{"line":14,"column":4},"end":{"line":46,"column":6}},"11":{"start":{"line":16,"column":6},"end":{"line":16,"column":44}},"12":{"start":{"line":17,"column":6},"end":{"line":17,"column":46}},"13":{"start":{"line":19,"column":6},"end":{"line":19,"column":48}},"14":{"start":{"line":20,"column":6},"end":{"line":20,"column":32}},"15":{"start":{"line":21,"column":6},"end":{"line":21,"column":46}},"16":{"start":{"line":23,"column":6},"end":{"line":23,"column":46}},"17":{"start":{"line":24,"column":6},"end":{"line":24,"column":87}},"18":{"start":{"line":25,"column":6},"end":{"line":25,"column":27}},"19":{"start":{"line":28,"column":6},"end":{"line":28,"column":26}},"20":{"start":{"line":29,"column":6},"end":{"line":36,"column":7}},"21":{"start":{"line":30,"column":8},"end":{"line":35,"column":9}},"22":{"start":{"line":31,"column":10},"end":{"line":31,"column":30}},"23":{"start":{"line":34,"column":10},"end":{"line":34,"column":31}},"24":{"start":{"line":37,"column":6},"end":{"line":39,"column":7}},"25":{"start":{"line":38,"column":8},"end":{"line":38,"column":28}},"26":{"start":{"line":41,"column":6},"end":{"line":45,"column":8}}},"branchMap":{"1":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":12},"end":{"line":11,"column":18}},{"start":{"line":11,"column":23},"end":{"line":11,"column":27}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":4}},{"start":{"line":12,"column":4},"end":{"line":12,"column":4}}]},"3":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":8},"end":{"line":12,"column":13}},{"start":{"line":12,"column":17},"end":{"line":12,"column":22}}]},"4":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":30,"column":8}},{"start":{"line":30,"column":8},"end":{"line":30,"column":8}}]}},"code":["\"use strict\";","","var makeChannel = require('culvert');","var bodec = require('bodec');","var pktLine = require('../lib/pkt-line');","var wrapHandler = require('../lib/wrap-handler');","","module.exports = function (connect) {","","  return function tcpTransport(path, host, port) {","    port = (port|0) || 9418;","    if (!path || !host) throw new Error(\"path and host are required\");","","    return function (serviceName, onError) {","","      onData = wrapHandler(onData, onError);","      onDrain = wrapHandler(onDrain, onError);","","      var socket = connect(host, port, onError);","      var inter = makeChannel();","      inter.put = pktLine.deframer(inter.put);","","      socket.put = pktLine.framer(socket.put);","      var greeting = bodec.fromRaw(serviceName + \" \" + path + \"\\0host=\" + host + \"\\0\");","      socket.put(greeting);","","      // Pipe socket to inter with backpressure","      socket.take(onData);","      function onData(chunk) {","        if (inter.put(chunk)) {","          socket.take(onData);","        }","        else {","          inter.drain(onDrain);","        }","      }","      function onDrain() {","        socket.take(onData);","      }","","      return {","        put: socket.put,","        drain: socket.drain,","        take: inter.take","      };","    };","  };","};",""],"l":{"3":1,"4":1,"5":1,"6":1,"8":1,"10":0,"11":0,"12":0,"14":0,"16":0,"17":0,"19":0,"20":0,"21":0,"23":0,"24":0,"25":0,"28":0,"29":1,"30":0,"31":0,"34":0,"37":1,"38":0,"41":0}}}